/*! For license information please see main.711e6d98.chunk.js.LICENSE.txt */
(this["webpackJsonpfrontline-industrial-software-app"]=this["webpackJsonpfrontline-industrial-software-app"]||[]).push([[0],{305:function(e,t,n){e.exports=n(340)},330:function(e,t,n){},340:function(e,t,n){"use strict";n.r(t);var r=n(411),a=n(0),i=n.n(a),o=n(62),l=n(14),s=n(73),c=n(11),u=n(59),d=n(6),f=n(15),m=n(25),h=n(26),p=n(90);function v(){v=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(z){s=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),l=new j(a||[]);return r(o,"_invoke",{value:E(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(z){return{type:"throw",arg:z}}}e.wrap=c;var d={};function f(){}function m(){}function h(){}var p={};s(p,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(N([])));b&&b!==t&&n.call(b,i)&&(p=b);var y=h.prototype=f.prototype=Object.create(p);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var s=u(e[a],e,i);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,l)}))}l(s.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function E(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return L()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=w(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function N(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return m.prototype=h,r(y,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:m,configurable:!0}),m.displayName=s(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},_(x.prototype),s(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new x(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(y),s(y,l,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=N,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var g,b=function(){function e(t){Object(m.a)(this,e),this.reader=t,this.sim_in={steps:"20",default_start:"2023-03-01",min_ratio:"0.5",max_ratio:"1.5",lr:"0.1"},this.loss_weights={drtn_day:100,rsrc_max:0,rsrc_std:0,loss_task:0,loss_rsrc:0,loss_task_rsrc:0},this.results=[]}return Object(h.a)(e,[{key:"init",value:function(){var e=this;return new Promise((function(t){e.ws=new WebSocket("wss://engine.frontline-optimizer.com"),e.ws.onopen=function(e){console.log("Optimization Engine connected!"),p.a.success("Optimization Engine connected!"),t()},e.ws.onclose=function(t){console.log("Optimization Engine disconnected!"),p.a.error("Optimization Engine disconnected!"),e.finishedCallback(e.results)},e.ws.onmessage=function(t){var n=JSON.parse(t.data.replace(/\bNaN\b/g,"null"));n.success&&p.a.success("Engine: "+n.success),n.error&&p.a.error("Engine: "+n.error),n.drtn_day&&(e.modify_output(n),e.results.push(n),e.results=[e.results[0]].concat(Object(c.a)(e.results.slice(1).sort((function(e,t){return t.loss_sum-e.loss_sum}))))),e.resultCallback(e.results)},e.ws.onerror=function(e){p.a.error("Optimization Engine connection error!")}}))}},{key:"modify_output",value:function(e){var t=0,n={},r={};Object.values(e.inp.tasks).forEach((function(e){e.drtn_hr_2=Math.round(e.drtn_hr_2),e.changed=e.drtn_hr!==e.drtn_hr_2,e.drtn_ratio=e.drtn_hr_2/e.drtn_hr,e.changed&&(t+=1),Object.values(e.rsrcs).forEach((function(e){n[e.id]=e})),Object.values(e.preds).forEach((function(e){r[e.id]=e}))})),Object.assign(e.inp,{task_preds:r,task_rsrcs:n}),e.num_changed=t,e.num_crt=e.crt_path.length,Object.values(e.inp.rsrcs).forEach((function(e){e.show_in_plot=!0}))}},{key:"debug_output",value:function(e){var t=e.inp,n=t.tasks,r=t.rsrcs,a=t.clndrs,i=t.task_preds,o=t.task_rsrcs;if(1===this.results.length){console.log(e);for(var l=0,s=[n,r,a,i,o];l<s.length;l++){var c=s[l];console.log(Object.values(c)[0])}}}},{key:"send",value:function(e){this.ws.send(JSON.stringify(e))}},{key:"stop",value:function(){var e=Object(f.a)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.ws&&this.ws.close();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"optimize",value:function(){var e=Object(f.a)(v().mark((function e(t,n){var r,a,i,o,l,s,c,u,d,f,m,h;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.resultCallback=t,this.finishedCallback=n,this.ws){e.next=7;break}return e.next=5,this.init();case 5:e.next=10;break;case 7:if(this.ws.readyState===this.ws.OPEN){e.next=10;break}return e.next=10,this.init();case 10:this.results=[],a=this.reader.data,i=a.tasks,o=a.rsrcs,l=a.clndrs,s=[],(null===(r=this.reader)||void 0===r?void 0:r.cons_data)&&(c=this.reader.cons_data,u=c.tasks_cons,d=c.rsrcs_cons,f=c.task_rsrc_cons,u.forEach((function(e){var t,n,r,a=i[e.id];a&&(a.drtn_hr_rng=[e.min_drtn_hr,e.max_drtn_hr],"YES"!==(null===(t=e.ignored)||void 0===t?void 0:t.toUpperCase())&&"TRUE"!==(null===(n=e.ignored)||void 0===n?void 0:n.toUpperCase())&&"IGNORED"!==(null===(r=e.ignored)||void 0===r?void 0:r.toUpperCase())||s.push(e.id))})),d.forEach((function(e){var t=o[e.id];t&&(t.rng=[0,e.max_units_per_day])})),f.forEach((function(e){var t=i[e.t_id].rsrcs[e.r_id];t&&(t.units_rng=[e.min_units,e.max_units])}))),Object.values(i).forEach((function(e){e.act_start=null,e.act_finish=null})),m={},Object.values(i).filter((function(e){return!e.ignored})).forEach((function(e){return m[e.id]=e})),i=m,h=this.sim_in.default_start,this.send({func:"optimize",tasks:i,rsrcs:o,clndrs:l,drtn_ratios:{},default_start:h,steps:parseInt(this.sim_in.steps),ratio_rng:[parseFloat(this.sim_in.min_ratio),parseFloat(this.sim_in.max_ratio)],lr:parseFloat(this.sim_in.lr),loss_weights:this.loss_weights});case 20:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),y=n(430),_=n(414),x=n(18),E=n(24),w=n(421),k=Object(E.a)(w.a)(g||(g=Object(x.a)(["\n  margin: 30px auto;\n  width: 1200px;\n  .Mui-active circle {\n    color: #00beae;\n  }\n  .Mui-completed circle,.Mui-completed {\n    color: #002F2B !important;\n  }\n"])));function O(e){var t=e.steps,n=e.navAt,r=e.navigate,a=e.disabled;return i.a.createElement(k,{activeStep:n,alternativeLabel:!0},t.map((function(e,t){return i.a.createElement(y.a,{key:e,onClick:function(){a||r(t)}},i.a.createElement(_.a,null,e))})))}var j,N=n(208),L=n(420),z=n(429),S=n(403),R=n(402),C=n(405),F=E.a.div(j||(j=Object(x.a)(["\n  width: 100%;\n  box-sizing: border-box;\n  min-height: 55px;\n  box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;\n  .header { \n    margin: 0 auto 20px;\n    padding: 20px 0;\n    max-width: 1200px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    .logo {\n      display: flex;\n      align-items: center;\n      img {\n        max-width: 200px;\n        margin-right: 20px;\n      }\n    }\n    .menu {\n      &:focus {\n         outline: none !important;\n      }\n    }\n  }\n"]))),T=n(74),P=n.n(T),I=n(187),D=n.n(I),M=n(192),A=n.n(M),G=n(193),B=n.n(G);function U(){var e=Object(s.d)(),t=Object(l.n)();var n=i.a.useState(null),r=Object(d.a)(n,2),a=r[0],o=r[1],c=Boolean(a);return i.a.createElement(F,null,i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"logo"},i.a.createElement("a",{href:"/"},i.a.createElement("img",{src:P.a,alt:"Frontline Logo"})),i.a.createElement("span",null,"v2.0.0")),i.a.createElement("div",{className:"account"},i.a.createElement(D.a,{id:"basic-button","aria-controls":c?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":c?"true":void 0,onClick:function(e){o(e.currentTarget)},fontSize:"medium"}),i.a.createElement(N.a,{id:"basic-menu",anchorEl:a,open:c,onClose:function(){o(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},MenuListProps:{"aria-labelledby":"basic-button"}},i.a.createElement(L.a,{className:"menu"},i.a.createElement(z.a,{onClick:function(){window.open("https://app.frontline-optimizer.com/v1.0.0/","_blank","noopener,noreferrer")}},i.a.createElement(R.a,null,i.a.createElement(A.a,{fontSize:"small"})),i.a.createElement(S.a,null,"Back to v1.0.0")),i.a.createElement(C.a,null),i.a.createElement(z.a,{onClick:function(){e(),t("/login")}},i.a.createElement(R.a,null,i.a.createElement(B.a,null)),i.a.createElement(S.a,null,"Log Out")))))))}var W=n(48),Y=n(49),V=n(155);function q(e){return JSON.parse(JSON.stringify(e))}function H(e){return e?new Date(e).toISOString().replace("T"," ").slice(0,16):""}function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"PT200H0M0S";return parseFloat(e.split("PT")[1].split("H")[0])}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"07:00:00";return Date.parse("1971-06-28T"+e)-Date.parse("1971-06-28T00:00:00")}function Z(e){return new Date(e).toISOString().split(".")[0]}function X(e){return"id_"+e}function $(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plaincharset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function Q(e){return e?Array.isArray(e)?e:[e]:[]}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return e.forEach((function(e,r){return n[e]=t[r]})),n}var te=function(){function e(){Object(m.a)(this,e),this.dic={}}return Object(h.a)(e,[{key:"size",get:function(){return ne(this.dic)}},{key:"list",get:function(){return Object.entries(this.dic).map((function(e){var t=Object(d.a)(e,2),n=t[0],r=t[1];return"".concat(n," (count: ").concat(r,")")}))}},{key:"add",value:function(e){e in this.dic||(this.dic[e]=0),this.dic[e]+=1}}]),e}();function ne(e){return Object.keys(e).length}var re=n(40);function ae(e){return new Promise((function(t){var n=new FileReader;n.onload=function(e){var n=re.a(e.target.result,{type:"binary"}),r={};n.SheetNames.forEach((function(e){r[e]=re.b.sheet_to_json(n.Sheets[e],{})})),t(r)},n.readAsBinaryString(e)}))}function ie(e){var t=e.book,n=e.filename,r=re.b.book_new();Object.entries(t).forEach((function(e){var t=Object(d.a)(e,2),n=t[0],a=t[1],i=re.b.json_to_sheet(Object.values(a));re.b.book_append_sheet(r,i,n)})),re.c(r,n)}function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"string"===typeof t?t:e.includes("start")||e.includes("finish")?H(t):"number"===typeof t?e.includes("ratio")?t.toFixed(2):t.toFixed(0):null===t||!1===t?"":Array.isArray(t)&&t.length<3?JSON.stringify(t):"object"===typeof t?ne(t):JSON.stringify(t)}function le(){le=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(L){s=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),l=new O(a||[]);return r(o,"_invoke",{value:x(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=c;var d={};function f(){}function m(){}function h(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(j([])));g&&g!==t&&n.call(g,i)&&(p=g);var b=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var s=u(e[a],e,i);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,l)}))}l(s.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function x(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=E(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=h,r(b,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:m,configurable:!0}),m.displayName=s(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(_.prototype),s(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new _(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(b),s(b,l,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var se,ce,ue,de,fe,me,he,pe,ve=function(){function e(){Object(m.a)(this,e),this.errors=new te}return Object(h.a)(e,[{key:"read_from_file",value:function(){var e=Object(f.a)(le().mark((function e(){var t,n,r=this,a=arguments;return le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:new File,this.filename=t.name,n=new FileReader,e.abrupt("return",new Promise((function(e){n.onload=function(t){var n=t.target.result.trim();r.parse_text(n),r.extract_data(),r.cons_data=r.make_constraints(),e(!0)},n.readAsText(t)})));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"parse_text",value:function(){}},{key:"extract_data",value:function(){}},{key:"merge_data",value:function(){}},{key:"export",value:function(){}},{key:"export_excel",value:function(e){for(var t=q(e),n=t.tasks,r=t.rsrcs,a=t.clndrs,i=t.task_preds,o=t.task_rsrcs,l=q(n),s=0,c=[n,r,a,i,o];s<c.length;s++){var u=c[s];Object.values(u).forEach((function(e){Object.keys(e).forEach((function(t){e[t]=oe(t,e[t])}))}))}Object.keys(n).forEach((function(e){l[e].finish<Date.now()&&(n[e].act_start=n[e].start,n[e].start_2=n[e].start,n[e].act_finish=n[e].finish,n[e].finish_2=n[e].finish)})),Object.values(n).forEach((function(e){e.task_code&&(e.id=e.task_code,delete e.task_code)})),Object.values(i).forEach((function(t){e.tasks[t.t_id].task_code&&(t.t_id=e.tasks[t.t_id].task_code),e.tasks[t.p_id].task_code&&(t.p_id=e.tasks[t.p_id].task_code)})),Object.values(o).forEach((function(e){e.t_code&&(e.t_id=e.t_code,delete e.t_code)}));var d=this.filename.replace(".xml","_Frontline.xlsx").replace(".xer","_Frontline.xlsx");ie({book:{tasks:n,rsrcs:r,clndrs:a,task_preds:i,task_rsrcs:o},filename:d})}},{key:"make_constraints",value:function(){var e=this,t=[],n=[],r=[];return Object.values(this.data.tasks).forEach((function(n){var a=n.id,i=n.name,o=n.drtn_hr,l=n.clndr_id;t.push({id:a,name:i,drtn_hr:o,min_drtn_hr:null,max_drtn_hr:null,week_hr_cnt:e.data.clndrs[l].week_hr_cnt,ignored:null}),Object.values(n.rsrcs).forEach((function(t){var n=t.id,a=t.t_id,o=t.r_id,l=t.units;r.push({id:n,t_id:a,r_id:o,t_name:i,r_name:e.data.rsrcs[o].name,units:l,min_units:null,max_units:null})}))})),Object.values(this.data.rsrcs).forEach((function(e){var t=e.id,r=e.name,a=e.baseline_resource;n.push({id:t,name:r,max_units_per_day:null,cost_per_unit_hr:null,baseline_resource:a||null})})),{tasks_cons:t,rsrcs_cons:n,task_rsrc_cons:r}}},{key:"export_constraints",value:function(){var e=this,t=this.filename.replace(".xml","_Frontline_Cons.xlsx").replace(".xer","_Frontline_Cons.xlsx"),n=this.make_constraints();Object.values(n.tasks_cons).forEach((function(t){e.data.tasks[t.id].task_code&&(t.id=e.data.tasks[t.id].task_code)})),Object.values(n.task_rsrc_cons).forEach((function(t){e.data.tasks[t.t_id].task_code&&(t.t_id=e.data.tasks[t.t_id].task_code)})),ie({book:n,filename:t})}},{key:"read_constraints",value:function(){var e=Object(f.a)(le().mark((function e(t){var n,r,a;return le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.cons_filename=t.name,e.next=3,ae(t);case 3:for(this.cons_data=e.sent,n=this.make_constraints(),r=0;r<this.cons_data.tasks_cons.length;r++)this.cons_data.tasks_cons[r].id=n.tasks_cons[r].id;for(a=0;a<this.cons_data.task_rsrc_cons.length;a++)this.cons_data.task_rsrc_cons[a].t_id=n.task_rsrc_cons[a].t_id;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ge=function(e){Object(W.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"parse_text",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new V.XMLParser({ignoreAttributes:!1});this.raw_data=t.parse(e)}},{key:"extract_data",value:function(){var e,t=this,n={},r={},a={"id_-1":{id:"id_-1",name:"standard 5x(4+4)",week_hr_cnt:40}},i=this.raw_data.Project,o={};i.Tasks.Task.forEach((function(e){var t=X(e.UID),n=e.Summary,r=e.Name;o[t]={is_summary:n,name:r}})),i.Tasks.Task.forEach((function(e){var r=X(e.UID),a=e.Name,i=Date.parse(e.Start+"Z"),l=Date.parse(e.Finish+"Z"),s=J(e.Duration),c=Date.parse(e.ActualStart+"Z"),u=Date.parse(e.ActualFinish+"Z"),d=X(e.CalendarUID),f={};Q(e.PredecessorLink).forEach((function(e){var n=X(e.PredecessorUID),i={0:"FF",1:"FS",2:"SF",3:"SS"}[e.Type],l=e.LinkLag/600,s=o[n];if(s.is_summary){var c="ignoring RELATIONSHIP between `".concat(s.name,"` and `").concat(a,"` because the former is a summary");t.errors.add(c)}else f[n]={id:r+"-"+n,t_id:r,p_id:n,type:i,lag_hr:l}})),o[r].is_summary||(n[r]={id:r,name:a,start:i,finish:l,drtn_hr:s,act_start:c,act_finish:u,preds:f,rsrcs:{},clndr_id:d})})),Q(i.Resources.Resource).forEach((function(e){var t=X(e.UID),n=e.Name,a=["Material","Work","Cost"][e.Type];a={Work:"Labor",Material:"Material",Cost:"Cost"}[a],r[t]={id:t,name:n,type:a,dist:{}}})),i.Calendars.Calendar.forEach((function(e){var t=X(e.UID),n=e.Name,r=0;e.WeekDays&&e.WeekDays.WeekDay.forEach((function(e){var t;[null,"Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.DayType]&&Q(null===(t=e.WorkingTimes)||void 0===t?void 0:t.WorkingTime).forEach((function(e){var t=(K(e.ToTime)-K(e.FromTime))/36e5;t<0&&(t+=24),r+=t}))})),a[t]={id:t,name:n,week_hr_cnt:r}})),(null===(e=i.Assignments)||void 0===e?void 0:e.Assignment)&&i.Assignments.Assignment.forEach((function(e){if(e.Work){var a=X(e.UID),i=X(e.TaskUID),o=X(e.ResourceUID);if(r[o]){var l=J(e.Work),s=l/n[i].drtn_hr;n[i].rsrcs[o]={id:a,t_id:i,r_id:o,work_hr:l,units:s}}else t.errors.add("unknown resource `".concat(o,"` in resource assignment"))}})),this.data={tasks:n,rsrcs:r,clndrs:a}}},{key:"merge_data",value:function(e){var t=this.raw_data.Project;t.Tasks.Task.forEach((function(t){if(!t.Summary){var n=X(t.UID),r=e.tasks[n];t.Start=t.EarlyStart=t.LateStart=Z(r.start_2),t.Finish=t.EarlyFinish=t.LateFinish=Z(r.finish_2),t.Duration=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"PT"+e+"H0M0S"}(r.drtn_hr_2),t.act_start&&t.act_finish&&(t.ActualDuration=t.Duration)}})),t.Assignments.Assignment.forEach((function(t){if(t.Work){var n=X(t.UID),r=e.task_rsrcs[n];r&&(t.PeekUnits=r.units_2)}}))}},{key:"export",value:function(){var e=new V.XMLBuilder({ignoreAttributes:!1}).build(this.raw_data);$(this.filename.replace(".xml","_Frontline.xml"),e)}}]),n}(ve),be=function(e){Object(W.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"parse_text",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n={tables:{}},r=[];t.split("\n").forEach((function(t){var a=t.split("\t").map((function(e){return e.trim()})),i=a[0],o=a.slice(1);switch(i){case"ERMHDR":n.header=o;break;case"%T":r=n.tables[a[1]]=[];break;case"%F":e=o;break;case"%R":r.push(ee(e,o));break;case"%E":break;default:console.error(i)}})),this.raw_data=n}},{key:"extract_data",value:function(){var e=this,t={},n={},r={},a=this.raw_data.tables,i={};a.TASK.forEach((function(e){var n=X(e.task_id),r=e.task_name,a=Date.parse(e.target_start_date+"Z"),o=Date.parse(e.target_end_date+"Z"),l=parseFloat(e.target_drtn_hr_cnt),s=Date.parse(e.act_start_date+"Z"),c=Date.parse(e.act_end_date+"Z"),u=X(e.clndr_id),d=e.task_code;i[n]=d,t[n]={id:n,name:r,start:a,finish:o,drtn_hr:l,act_start:s,act_finish:c,preds:{},rsrcs:{},clndr_id:u,task_code:d}})),a.RSRC&&a.RSRC.forEach((function(e){var t=X(e.rsrc_id),r=e.rsrc_name,a=e.rsrc_type.slice(3);a={Labor:"Labor",Equip:"Equipment",Mat:"Material"}[a],n[t]={id:t,name:r,type:a,dist:{}}})),a.CALENDAR.forEach((function(e){var t=X(e.clndr_id),n=e.clndr_name,a=parseFloat(e.week_hr_cnt);r[t]={id:t,name:n,week_hr_cnt:a}})),a.TASKPRED.forEach((function(e){var n=X(e.task_pred_id),r=X(e.task_id),a=X(e.pred_task_id),i=e.pred_type.slice(3),o=parseFloat(e.lag_hr_cnt);t[r].preds[a]={id:n,t_id:r,p_id:a,type:i,lag_hr:o}})),a.TASKRSRC&&(a.TASKRSRC.forEach((function(n){var r=X(n.taskrsrc_id),a=X(n.task_id),o=i[a],l=X(n.rsrc_id),s=parseFloat(n.target_qty),c=s/t[a].drtn_hr;if(t[a].rsrcs[l])return e.errors.add("removed duplicate assignment between task `".concat(a,"` and resource `").concat(l,"`")),void(n.DELETE=!0);t[a].rsrcs[l]={id:r,t_id:a,t_code:o,r_id:l,work_hr:s,units:c}})),a.TASKRSRC=a.TASKRSRC.filter((function(e){return!e.DELETE}))),this.data={tasks:t,rsrcs:n,clndrs:r}}},{key:"merge_data",value:function(e){var t=this.raw_data.tables;t.TASK.forEach((function(t){var n=X(t.task_id),r=e.tasks[n];t.target_start_date=t.early_start_date=t.late_start_date=H(r.start_2),t.target_end_date=t.early_end_date=t.late_end_date=H(r.finish_2),t.target_drtn_hr_cnt=r.drtn_hr_2})),t.TASKRSRC&&t.TASKRSRC.forEach((function(t){var n=X(t.taskrsrc_id),r=e.task_rsrcs[n];t.target_qty_per_hr=r.units_2}))}},{key:"export",value:function(){var e=[];e.push(["ERMHDR"].concat(Object(c.a)(this.raw_data.header)).join("\t"));var t=this.raw_data.tables;Object.entries(t).forEach((function(t){var n=Object(d.a)(t,2),r=n[0],a=n[1];e.push(["%T",r].join("\t")),e.push(["%F"].concat(Object(c.a)(Object.keys(a[0]))).join("\t")),a.forEach((function(t){e.push(["%R"].concat(Object(c.a)(Object.values(t))).join("\t"))}))})),e.push("%E"),$(this.filename.replace(".xer","_Frontline.xer"),e.join("\n"))}}]),n}(ve),ye=n(431),_e=n(432),xe=n(417),Ee=n(103),we=n.n(Ee),ke=n(156),Oe=n.n(ke),je=n(413),Ne=n(428),Le=Object(E.a)(je.a)(se||(se=Object(x.a)(['\n  &.MuiModal-root {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .MuiBox-root {\n    background: #f2f2f2;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    .loader {\n      width: 64px;\n      height: 64px;\n      background: linear-gradient(180deg, #002F2B 0%, rgba(0, 0, 0, 0.1) 25%);\n      border-radius: 50%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      position: relative;\n      animation: spin 1s linear infinite;\n      margin: 0 0 15px;\n    }\n    .loader::after {\n      content: "";\n      width: calc(100% - 4px);\n      height: calc(100% - 4px);\n      border-radius: 50%;\n      background: #f2f2f2;\n    }\n    @keyframes spin {\n      100% {\n        transform: rotate(360deg);\n      }\n    }\n    .title {\n      font-size: 20px;\n      font-family: "Nunito", sans-serif;\n      font-weight: 500;\n      margin: 0 0 15px;\n    }\n    span {\n      color: #696969;\n    }\n    &:focus-visible {\n      outline: none;\n    }\n}\n']))),ze=Object(E.a)(Ne.a)(ce||(ce=Object(x.a)(["\n  position: 'absolute';\n  top: '50%';\n  left: '50%';\n  transform: 'translate(-50%, -50%)';\n   box-shadow: 1px 1px 5px rgb(207 234 229 / 25%);\n  width: 400px;\n  padding: 40px 20px;\n  border-radius: 8px;\n"]))),Se=function(e){var t=e.isLoading,n=e.spinner,r=e.onClose,a=e.title,o=e.content;return i.a.createElement(Le,{open:t,onClose:r,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},i.a.createElement(ze,null,n?i.a.createElement("div",{className:"loader"}):"",i.a.createElement("div",{className:"title",id:"modal-modal-title"},a),i.a.createElement("span",null,o)))},Re=n(424),Ce=E.a.div(ue||(ue=Object(x.a)(['\n  background: #F0F1F3;\n  margin: 0;\n  /* padding: 0 0 50px; */\n  min-height: 100vh;\n  min-width: 1200px;\n  .row {\n    display: flex;\n    width: 100%;\n    justify-content: space-between;\n    align-items: center;\n    box-sizing: border-box;\n    /* margin-top: 10px; */\n  }\n  .MuiTableCell-body, .MuiTableCell-head {\n    font-family: "Inter", Arial, Helvetica, sans-serif;\n  }\n']))),Fe=Object(E.a)(Re.a)(de||(de=Object(x.a)(['\n  padding: 10px 20px !important;\n  box-shadow: none !important;\n  background: #008277 !important;\n  width: auto !important;   \n  font-weight: bold !important;\n  text-transform: capitalize !important;\n  font-size: 1rem !important;\n  font-family: "Inter", sans-serif !important;\n  &:hover {\n      background: #0b534d !important;\n    }\n  &.Mui-disabled {\n    color: #dbdbdb;    \n    background: #f0f0f0 !important;\n  }\n']))),Te=Object(E.a)(Fe)(fe||(fe=Object(x.a)(["\n  padding: 10px 20px !important;\n  box-shadow: none !important;\n  color: #008277 !important;\n  border: 1px solid #008277 !important;\n  background: white !important;\n  width: auto !important;\n  text-transform: capitalize !important;\n  font-weight: bold !important;\n  &:hover {\n  background: white !important;\n      color: #0b534d !important;\n    }\n  &.Mui-disabled {\n    color: #dbdbdb;    \n    border: 1px solid #f0f0f0 !important;\n  }\n"]))),Pe=n(406),Ie=E.a.div(me||(me=Object(x.a)(["\n    background: #ffffff;\n    padding: 1px 20px 20px;\n"]))),De=E.a.div(he||(he=Object(x.a)(["\n  width: 100%;\n  .upload-file {\n    /* width: 100%; */\n    margin: 20px 0;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    color: #008277;\n    font-weight: 700;\n    button, input {\n      /* width: 100% !important; */\n      justify-content: flex-start;\n      font-family: \"Inter\", sans-serif;\n    }\n    label {\n      font-weight: 700 !important;\n      svg {\n        margin-right: 8px;\n      }\n    }\n    .upload-button {\n      background: #008277;\n      color: #FFFFFF;\n      border: 1px transparent;\n      padding: 10px 20px;\n      text-align: center;\n      margin-right: 20px;\n      border-radius: 6px;\n      cursor: pointer;\n      &:hover {\n        background: #0b534d;\n      }\n      &.second-upload {\n        color: #008277;\n        background: transparent;\n        border: 1px solid;\n        &:hover {\n          color: #0b534d;\n        }\n      }\n    }\n  }\n  .optimization-input {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    .section {\n      width: 100%;\n      display: flex;\n      margin: 10px 0;\n      min-height: 50px;\n      display: flex-start !important;\n      justify-content: space-between;\n      position: relative;\n      &.disabled {\n        opacity: 0.3;\n      }\n      &:last-of-type {\n        &:after {\n          height: 0;\n        }\n      }\n      &:after {\n        content: '';\n        position: absolute;\n        background: #eeeeee;\n        bottom: 0;\n        left: 0;\n        width: 100%;\n        height: 1px;\n      }\n      .intro {\n        width: 40%;\n        h2 {\n          margin: 0;\n          font-size: 18px;\n          font-weight: 500;\n        }\n        h3 {\n          margin: 0;\n          color: #888888;\n          font-weight: 300;\n          font-size: 16px;\n          line-height: 16px;\n        }\n      }\n      .input-wrapper {\n        width: 60%;\n        .inputs {\n          margin: 0 0 20px;\n          display: flex;\n          justify-content: space-between;\n        }\n      }\n      label {\n         margin-bottom: 0px;\n         font-weight: 400;\n         display: flex;\n         align-items: center;\n        svg {\n          margin-left: 5px;\n          width: 18px;\n        }\n      }\n      .MuiSlider-colorPrimary {\n        color: #00A597;\n        margin: 15px 0;\n      }\n      .MuiInput-root {\n        margin: 6px 0;\n        border: 1px solid #f2f2f2;\n        &.Mui-focused {\n          border: 1px solid #00beae;\n          background: #ffffff;\n        }\n        &:after {\n          border: 0;\n        }\n      }\n      .MuiFormControl-root {\n        width: 45%;\n        margin-right: 50px;\n      }\n    }\n  }\n"]))),Me=Object(E.a)(Pe.a)(pe||(pe=Object(x.a)(["\n  background: #f2f2f2;\n  border-radius: 6px;\n  padding: 4px 8px;\n  &:before {\n    border: 0 !important;\n  }\n"])));function Ae(){Ae=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(L){s=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),l=new O(a||[]);return r(o,"_invoke",{value:x(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=c;var d={};function f(){}function m(){}function h(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(j([])));g&&g!==t&&n.call(g,i)&&(p=g);var b=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var s=u(e[a],e,i);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,l)}))}l(s.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function x(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=E(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=h,r(b,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:m,configurable:!0}),m.displayName=s(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(_.prototype),s(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new _(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(b),s(b,l,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var Ge=[{value:0,label:"0%"},{value:100,label:"100%"},{value:200,label:"200%"}],Be=[{value:0,label:"0"},{value:50,label:"50"},{value:100,label:"100"}];function Ue(e){var t,n,r,o,l=e.uploadedFile,s=e.setUploadedFile,c=e.fileName,u=e.setFileName,m=e.constraintsFileName,h=e.setConstraintsFileName,p=e.project,v=e.updateProject,g=e.goNext,y=Object(a.useState)(!1),_=Object(d.a)(y,2),x=_[0],E=_[1],w=Object(a.useState)(!!(null===p||void 0===p?void 0:p.fileReader)),k=Object(d.a)(w,2),O=k[0],j=k[1],N=Object(a.useState)((null===p||void 0===p||null===(t=p.optimizer)||void 0===t?void 0:t.sim_in)?[Math.ceil(100*p.optimizer.sim_in.min_ratio),Math.ceil(100*p.optimizer.sim_in.max_ratio)]:[50,150]),L=Object(d.a)(N,2),z=L[0],S=L[1],R=Object(a.useState)((null===p||void 0===p||null===(n=p.optimizer)||void 0===n?void 0:n.sim_in)?p.optimizer.sim_in.steps:20),C=Object(d.a)(R,2),F=C[0],T=C[1],P=new Date,I=Object(a.useState)(-1),D=Object(d.a)(I,2),M=D[0],A=D[1],G=Object(a.useState)((null===p||void 0===p||null===(r=p.optimizer)||void 0===r?void 0:r.sim_in)?new Date(null===p||void 0===p||null===(o=p.optimizer)||void 0===o?void 0:o.sim_in.default_start).toISOString().slice(0,10):P.toISOString().slice(0,10)),B=Object(d.a)(G,2),U=B[0],W=B[1];Object(a.useEffect)((function(){var e;(null===p||void 0===p||null===(e=p.optimizer)||void 0===e?void 0:e.sim_in)&&(p.optimizer.sim_in.default_start=U),v(p)}),[U]),Object(a.useEffect)((function(){var e;(null===p||void 0===p||null===(e=p.optimizer)||void 0===e?void 0:e.sim_in)&&(p.optimizer.sim_in.steps=F),v(p)}),[F]),Object(a.useEffect)((function(){var e;(null===p||void 0===p||null===(e=p.optimizer)||void 0===e?void 0:e.sim_in)&&(p.optimizer.sim_in.min_ratio=z[0]/100,p.optimizer.sim_in.max_ratio=z[1]/100),v(p)}),[z]);function Y(){return(Y=Object(f.a)(Ae().mark((function e(t){var n,r,a;return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===p||void 0===p?void 0:p.fileReader){e.next=2;break}return e.abrupt("return");case 2:return h(t.name),e.next=5,p.fileReader.read_constraints(t);case 5:for(n=p.fileReader.data.tasks,r=[],p.fileReader.cons_data.tasks_cons.forEach((function(e){var t,a,i;n[e.id].drtn_hr_rng=[e.min_drtn_hr,e.max_drtn_hr],"YES"!==(null===(t=e.ignored)||void 0===t?void 0:t.toUpperCase())&&"TRUE"!==(null===(a=e.ignored)||void 0===a?void 0:a.toUpperCase())&&"IGNORED"!==(null===(i=e.ignored)||void 0===i?void 0:i.toUpperCase())||r.push(e.id)})),a=0;a<r.length;)r[a],Object.values(n).forEach((function(e){for(var t in e.preds)if(r.indexOf(t)>-1&&-1===r.indexOf(e.id)){r.push(e.id);break}})),a++;Object.values(n).forEach((function(e){r.indexOf(e.id)>-1&&(e.ignored=!0)})),v(p);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){l&&function(e){var t;E(!0),(null===e||void 0===e?void 0:e.name.endsWith("xer"))?t=new be:(null===e||void 0===e?void 0:e.name.endsWith("xml"))&&(t=new ge);var n="demo_project.xml"===c;t.read_from_file(e).then(function(){var r=Object(f.a)(Ae().mark((function r(a){var i,o;return Ae().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=-1,Object.values(t.data.tasks).forEach((function(e){(-1===i||i>e.start)&&(i=e.start)})),A(i),(o=new b(t)).sim_in.default_start=i,o.sim_in.steps=1,!o.init){r.next=9;break}return r.next=9,o.init();case 9:o.optimize((function(){}),(function(r){u(e.name),E(!1),o.baseline_result=r[0],o.sim_in.steps=F,Object.keys(t.data.rsrcs).forEach((function(e){return t.data.rsrcs[e].baseline_resource=r[0].inp.rsrcs[e].max})),v({fileReader:t,optimizer:o,isDemo:n}),j(!0)}));case 10:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}(l)}),[l]),i.a.createElement(Ie,null,i.a.createElement("h2",null,"Upload schedule and enter optimization settings"),i.a.createElement(De,null,i.a.createElement("div",{className:"optimization-input"},i.a.createElement("div",{className:"section"},i.a.createElement("div",{className:"intro"},i.a.createElement("h2",null,"Schedule"),i.a.createElement("h3",null,"Upload your schedule (.xer or .xml)")),i.a.createElement("div",{className:"input-wrapper"},i.a.createElement("div",{className:"inputs",style:{alignItems:"center"}},i.a.createElement("div",{className:"upload-file"},i.a.createElement("input",{hidden:!0,type:"file",id:"project-file",name:"project",onChange:function(e){s(e.target.files[0]),E(!0)},accept:".xer,.xml"}),i.a.createElement("label",{className:"upload-button",htmlFor:"project-file"},i.a.createElement(Oe.a,null)," Upload file"),i.a.createElement("span",null,c)),i.a.createElement("span",null,"or"," ",i.a.createElement("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){fetch("/demo_project.xml").then((function(e){return e.blob()})).then((function(e){var t=new File([e],"demo_project.xml");s(t)}))}}," ","use a demo project"))))),i.a.createElement("div",{className:"section ".concat(O?"":"disabled")},i.a.createElement("div",{className:"intro"},i.a.createElement("h2",null,"Constraints"),i.a.createElement("h3",null,"Upload your constraints (",i.a.createElement("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){p.fileReader.export_constraints()}},"download template"),")")),i.a.createElement("div",{className:"input-wrapper"},i.a.createElement("div",{className:"inputs"},i.a.createElement("div",{className:"upload-file"},i.a.createElement("input",{hidden:!0,type:"file",id:"constraints-file",name:"constraints",onChange:function(e){!function(e){Y.apply(this,arguments)}(e.target.files[0])},accept:".xls,.xlsx"}),i.a.createElement("label",{className:"upload-button  second-upload",htmlFor:"constraints-file"},i.a.createElement(Oe.a,null)," Upload file"),i.a.createElement("span",null,m))))),i.a.createElement("div",{className:"section ".concat(O?"":"disabled")},i.a.createElement("div",{className:"intro"},i.a.createElement("h2",null,"Optimization Settings"),i.a.createElement("h3",null,"Customize your optimization results")),i.a.createElement("div",{className:"input-wrapper"},i.a.createElement("div",{className:"inputs"},i.a.createElement(ye.a,null,i.a.createElement("label",null,"Default Start Date"),i.a.createElement(Me,{type:"date",inputProps:{min:new Date(M).toISOString().slice(0,10)},defaultValue:U,onChange:function(e){return W(e.target.value)},id:"start-date",placeholder:"eg: 2023-10-19",variant:"outlined",disabled:!O}),i.a.createElement("small",null,"Please enter commencement date")),i.a.createElement(ye.a,null,i.a.createElement("label",null,"Learning Rate"," ",i.a.createElement(_e.a,{title:i.a.createElement("div",{style:{fontSize:"13px",fontFamily:"Inter"}},"The learning rate is a tuning parameter in an optimization algorithm that determines the step size at each iteration while moving toward a minimum of a loss function.")},i.a.createElement(we.a,null))),i.a.createElement(Me,{id:"start-date",defaultValue:.1,placeholder:"eg: 0.005",variant:"outlined",disabled:!O}))),i.a.createElement("div",{className:"inputs"},i.a.createElement(ye.a,{style:{width:"100%"}},i.a.createElement("label",null,"Optimization Ratio"," ",z?i.a.createElement(i.a.Fragment,null,"(",z[0].toString(),"% - ",z[1].toString(),"%)"):"",i.a.createElement(_e.a,{title:i.a.createElement("div",{style:{fontSize:"13px",fontFamily:"Inter"}},"Ratio = New Duration over Baseline Duration")},i.a.createElement(we.a,null))),i.a.createElement(xe.a,{id:"optimization-ratio",step:5,min:0,max:200,valueLabelDisplay:"auto",getAriaLabel:function(){return"Optimization Ratio"},value:z,marks:Ge,onChange:function(e){return S(e.target.value)},disabled:!O}))),i.a.createElement("div",{className:"inputs"},i.a.createElement(ye.a,{style:{width:"100%"}},i.a.createElement("label",null,"Optimization Steps (",F.toString(),")"),i.a.createElement(xe.a,{id:"optimization-steps","aria-label":"optimization-steps",value:F,onChange:function(e){return T(e.target.value)},step:1,min:10,max:50,marks:Be,valueLabelDisplay:"auto",disabled:!O})))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",null),i.a.createElement(Fe,{variant:"contained",onClick:g,disabled:!O},"Next")),i.a.createElement(Se,{isLoading:x,title:"Uploading Data",content:"Please wait. This action may take up to a few minutes depending on the size of your file.",spinner:!0})))}var We=n(426),Ye=n(435),Ve=n(416);function qe(e){return e&&Object.keys(e).length}function He(e,t){var n=[];if(e.length>t)for(var r=Math.floor(e.length/t),a=0;a<t;a++)n.push(e[a*r]);else n=e;return n}var Je=n(30),Ke=n.n(Je),Ze=n(21);function Xe(e){var t=e.margin,n=void 0===t?50:t,r=e.x_domain,a=e.y_domain,i=e.width,o=e.height,l=e.ref,s=e.x_label,c=e.y_label,u=e.x_type,d=void 0===u?Ze.f:u,f=e.y_type,m=void 0===f?Ze.f:f,h=n,p=i-n,v=n,g=o-n,b=d(r,[h,p]),y=m(a,[g,v]),_=Ze.h(l.current).attr("width",i).attr("height",o);_.selectChildren().remove(),_.append("g").call(Ze.a(b)).attr("transform","translate(0, ".concat(g,")")).call((function(e){e.append("text").attr("x",i/2).attr("y",40).attr("fill","#2d2d2d").attr("font-size",16).attr("text-align","right").text(s)})),_.append("g").call(Ze.d(b).tickValues([])).attr("transform","translate(0, ".concat(v,")")),_.append("g").call(Ze.b(y)).attr("transform","translate(".concat(h,", 0)")).call((function(e){e.append("text").attr("text-anchor","end").attr("y",30).attr("x",-30).attr("fill","#2d2d2d").attr("font-size",16).text(c).attr("text-anchor","start")})),_.append("g").call(Ze.c(y).tickValues([])).attr("transform","translate(".concat(p,", 0)"));var x=Ze.a().scale(b).tickFormat("").tickSizeInner(o-2*n);_.append("g").attr("class","x-grid").attr("transform","translate(0, ".concat(v,")")).style("opacity",.3).style("stroke-dasharray","3, 3").call(x);var E=Ze.b().scale(y).tickFormat("").tickSizeInner(2*n-i);return _.append("g").attr("class","x-grid").attr("transform","translate(".concat(h,", 0)")).style("opacity",.3).style("stroke-dasharray","3, 3").call(E),{svg:_,x_scale:b,y_scale:y}}function $e(e,t,n,r){var a=(e[1]-e[0])*n,i=(t[1]-t[0])*r;return{x_domain:[e[0]-a,e[1]+a],y_domain:[t[0]-i,t[1]+i]}}var Qe,et,tt,nt={TaskPlot:{optimizedTask:"#82B5C799",optimizedCriticalTask:"#e6171799",baselineTask:"#CCCCCC99",baselineCriticalTask:"#e6a7a799"},ResourcePlot:{allResources:["#55CBCD98","#f7dc5b98","#FFAEA598","#82B5C798","#939ce398","#AABB5D98","#BAA19098","#db793098","#099A4D98","#f07e9398","#FDAE6198","#D53E4F98","#ABDDA498","#E6F598","#9B4FA298","#6891F98F"]}},rt=n(415),at=n(434);function it(e){var t=e.selectedColor,n=e.tasks,r=e.baselineTasks,o=e.width,l=e.height,s=e.color,u=e.keep,d=void 0===u?400:u,f=Object(a.useRef)();if(Object(a.useEffect)((function(){if(r&&qe(r)&&(n||!qe(n))&&n){var e=Object.values(n).sort((function(e,t){return e.start_2-t.start_2})),a=Object.values(r).sort((function(e,t){return e.start_2-t.start_2}));e.length>d&&(e=e.filter((function(e){return e.critical})),a=a.filter((function(e){return e.critical})));var u=[Math.min.apply(Math,Object(c.a)(e.map((function(e){return e.start_2})))),Math.max.apply(Math,Object(c.a)(e.map((function(e){return e.finish_2}))))],m=[Math.min.apply(Math,Object(c.a)(a.map((function(e){return e.start_2})))),Math.max.apply(Math,Object(c.a)(a.map((function(e){return e.finish_2}))))],h=[Math.min(u[0],m[0]),Math.max(u[1],m[1])];e=He(e,d),a=He(a,d);var p=[e.length,0],v=[a.length,0],g=Xe({margin:40,x_domain:h,y_domain:[Math.max(p[0],v[0]),Math.min(p[1],v[1])],width:o||560,height:l||500,ref:f,x_type:Ze.g,y_type:Ze.f}),b=g.svg,y=g.x_scale,_=g.y_scale;b.append("g").selectAll("rect").data(a).join("rect").attr("x",(function(e){return y(e.start_2)})).attr("y",(function(e,t){return _(t)})).attr("width",(function(e){return Math.max(y(e.finish_2)-y(e.start_2),0)})).attr("height",_(1)-_(0)-1-1).attr("fill",(function(e){return e.critical&&qe(r)<=d?nt.TaskPlot.baselineCriticalTask:nt.TaskPlot.baselineTask})).attr("rx",8).attr("ry",8),b.append("g").selectAll("rect").data(e).join("rect").attr("x",(function(e){return y(e.start_2)})).attr("y",(function(e,t){return _(t)})).attr("width",(function(e){return Math.max(y(e.finish_2)-y(e.start_2),0)})).attr("rx",8).attr("ry",8).attr("height",_(1)-_(0)-1-1).attr("fill",(function(e){return e.critical&&qe(n)<=d?nt.TaskPlot.optimizedCriticalTask:s||t})).on("mouseover",(function(e,t){var n=t.name,r=t.drtn_hr_2,a=i.a.createElement("div",{title:n,style:{background:"#eeeeee",position:"absolute",top:e.pageY,left:e.pageX+10,padding:"6px 8px",pointerEvents:"none",borderRadius:"8px"}},n,i.a.createElement("br",null),i.a.createElement("small",null,r," hours"));Ke.a.render(a,document.getElementById("tooltip"))})).on("mouseout",(function(){Ke.a.unmountComponentAtNode(document.getElementById("tooltip"))}))}}),[n]),!r||!qe(r)||!n&&qe(n))return null;var m=qe(n)>d?"Chart is only showing up to first 400 critical paths as the project has ".concat(Object.values(n).sort((function(e,t){return e.start_2-t.start_2})).length," tasks"):"";return i.a.createElement(i.a.Fragment,null,Object.values(n).sort((function(e,t){return e.start_2-t.start_2})).length>400?i.a.createElement(rt.a,{sx:{margin:"20px 20px -20px"},severity:"info"},i.a.createElement(at.a,null,m)):"",i.a.createElement("div",{id:"tooltip"}),i.a.createElement("svg",{ref:f}))}function ot(e){var t=e.results,n=void 0===t?[]:t,r=e.optimizer,o=e.optimizationPresets,l=e.selectedPreset,s=e.selectedResultIndex,c=void 0===s?-1:s,u=e.width,d=void 0===u?550:u,f=e.height,m=void 0===f?500:f,h=e.k,p=e.x_label,v=e.y_label,g=e.onClick,b=Object(a.useRef)();return Object(a.useEffect)((function(){if(!(null===n||void 0===n?void 0:n.length))return null;var e=[r.baseline_result];Object.values(o).forEach((function(t){t.optimizer.results.length>0&&(e=e.concat(t.optimizer.results))}));var t=$e(Ze.e(e.map((function(e){return e.drtn_day}))),Ze.e(e.map((function(e){return e[h]}))),.15,.15),a=Xe({x_domain:t.x_domain,y_domain:t.y_domain,margin:50,width:d,height:m,ref:b,x_label:p,y_label:v,x_type:Ze.f,y_type:Ze.f}),i=a.svg,s=a.x_scale,u=a.y_scale;i.append("g").selectAll("circle").data([r.baseline_result]).join("circle").attr("cx",(function(e){return s(e.drtn_day)})).attr("cy",(function(e){return u(e[h])})).attr("r",(function(e){return 6})).attr("fill","#cccccc"),Object.keys(o).forEach((function(e){var t=o[e],n=i.append("g");for(var r in t.optimizer.results)t.optimizer.results[r].index=parseInt(r);n.selectAll("circle").data(t.optimizer.results).join("circle").attr("cx",(function(e){return s(e.drtn_day)})).attr("cy",(function(e){return u(e[h])})).attr("r",(function(e,n){return 0===n?0:n===t.optimizer.sim_in.steps-1?6:2})).attr("fill-opacity",(function(e,n){return n/t.optimizer.results.length})).style("stroke",(function(t,n){return c===t.index&&l===e?"#e61717":void 0})).attr("stroke-width",(function(t,n){return c===t.index&&l===e?2:0})).attr("fill",t.color).on("click",(function(t,n){g(e,n.index)})).style("cursor","pointer")}))}),[n]),(null===n||void 0===n?void 0:n.length)?i.a.createElement("svg",{ref:b}):null}var lt=E.a.div(Qe||(Qe=Object(x.a)(['\n  width: 100%;\n  .summary {\n    width: 100%;\n    display: inline-flex;\n    justify-content: space-between;\n    background: #fbfbfb;\n    margin: 0px 0 20px;\n    .stats {\n      padding: 25px;\n      width: 20%;\n      display: flex;\n      flex-direction: column;\n      position: relative;\n      &:last-child {\n        &:after {\n          width: 0px;\n        }\n      }\n      &:after {\n        content: \'\';\n        height: 65px;\n        width: 1px;\n        background: #eeeeee;\n        position: absolute;\n        right: 0;\n        top: calc(50% - 32px);\n      }\n      .title {\n        display: flex;\n        align-items: center;\n        svg {\n          margin-left: 5px;\n          width: 18px;\n        }\n      }\n      .figure {\n        display: inline-flex;\n        margin: 16px 0;\n        align-items: baseline;\n        .numbers {\n          font-family: "Lato", sans-serif;\n          font-size: 40px;\n          color: #000000;\n          font-weight: 700;\n          margin-right: 10px;\n        }\n        .baseline-stats {\n            font-family: "Lato", sans-serif;\n            font-size: 28px;\n            color: #999999;\n            font-weight: 700;\n         }\n      }\n      .badge {\n          padding: 3px 10px;\n          font-size: 12px;\n          font-weight: 700;\n          border-radius: 8px;\n          width: 50px;\n          display: flex;\n          align-items: center;\n          svg {\n            margin-right: 5px;\n          }\n          &.plus {\n            background: #e2f5e2;\n            color: #499249;\n          }\n          &.minus {\n            background: #feeaea;\n            color: #ff4d4d;\n          }\n        }\n    }\n  }\n']))),st=E.a.div(et||(et=Object(x.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 20px;\n  width: 100%;\n  /* background: #ffffff; */\n  /* padding: 30px 20px; */\n  box-sizing: border-box;\n  .full-chart {\n    box-sizing: border-box;\n    background: #ffffff;\n    padding: 20px;\n    width: 100%;\n  }\n  .chart { \n    width: 49%;\n    .section {\n      margin-bottom: 20px;\n      background: #ffffff;\n      padding: 20px;\n      .MuiFormControl-root {\n        width: 100%;\n        .presets {\n          justify-content: flex-start;\n          label {\n            width: 33%;\n            margin-right: 0;\n          }\n        }\n      }\n    }\n  }\n  .bar-tooltip {\n    padding: 5px;\n    border-radius: 8px;\n    background: yellow;\n  }\n"]))),ct=E.a.div(tt||(tt=Object(x.a)(["\n  display: inline-block;\n  @keyframes blink {\n      0% {\n        opacity: .2;\n      }\n      20% {\n        opacity: 1;\n      }\n      100% {\n        opacity: .2;\n      }\n  }\n\n  span {\n    font-size: 50px;\n    animation-name: blink;\n    animation-duration: 1.4s;\n    animation-iteration-count: infinite;\n    animation-fill-mode: both;\n  }\n\n  span:nth-child(2) {\n      animation-delay: .2s;\n  }\n\n  span:nth-child(3) {\n      animation-delay: .4s;\n  }\n"])));function ut(e){var t,n,r,a,o,l,s,d,f,m,h,p,v,g,b,y,_,x,E,w,k,O,j,N,L,z,S,R,C,F=e.optimizer,T=e.optimizationPresets,P=e.selectedPreset,I=e.selectedResultIndex,D=e.handleSelectPreset,M=e.handleSelectResultIndex,A=e.goNext,G=null===(t=T.balanced)||void 0===t||null===(n=t.optimizer)||void 0===n||null===(r=n.results)||void 0===r?void 0:r.length,B=null===(a=T.shortest_duration)||void 0===a||null===(o=a.optimizer)||void 0===o||null===(l=o.results)||void 0===l?void 0:l.length,U=null===(s=T.least_max_resources)||void 0===s||null===(d=s.optimizer)||void 0===d||null===(f=d.results)||void 0===f?void 0:f.length,W=null===(m=T.least_std_resources)||void 0===m||null===(h=m.optimizer)||void 0===h||null===(p=h.results)||void 0===p?void 0:p.length,Y=Object.keys(T).filter((function(e){var t,n;return null===(t=T[e])||void 0===t||null===(n=t.optimizer)||void 0===n?void 0:n.optimizing})).map((function(e){return e}))[0],V=0===G&&0===B&&0===U&&0===W,q=0===(null===(v=T[P])||void 0===v||null===(g=v.optimizer)||void 0===g||null===(b=g.results)||void 0===b?void 0:b.length);console.log(G,B,U,W);var H=function(e,t){return i.a.createElement("div",{className:"stats"},i.a.createElement("div",{className:"title"},e),i.a.createElement("div",{className:"figure"},i.a.createElement("div",{className:"numbers"},t)))};return i.a.createElement(i.a.Fragment,null,i.a.createElement(lt,null,i.a.createElement("h2",null,"Baseline Summary"),i.a.createElement("div",{className:"summary"},H("Project Duration (days)",Math.round(null===F||void 0===F||null===(y=F.baseline_result)||void 0===y?void 0:y.drtn_day)),H("Resources",Math.round(null===F||void 0===F||null===(_=F.baseline_result)||void 0===_?void 0:_.rsrc_max)),H("Tasks",Object.values(null===F||void 0===F||null===(x=F.baseline_result)||void 0===x||null===(E=x.inp)||void 0===E?void 0:E.tasks).length),H("Tasks on Critical Path",Math.round(null===F||void 0===F||null===(w=F.baseline_result)||void 0===w?void 0:w.num_crt))),F?i.a.createElement(i.a.Fragment,null,i.a.createElement(st,{className:"multi-charts"},T?i.a.createElement("div",{className:"full-chart"},i.a.createElement("div",{className:"section"},void 0===Y&&0===G?i.a.createElement("h3",null,"Starting Optimization ",i.a.createElement(ct,null,i.a.createElement("span",null,"."),i.a.createElement("span",null,"."),i.a.createElement("span",null,"."))):Y?i.a.createElement("h3",null,"Currently optimizing for ",T[Y].label," (Step ",P&&(null===(k=T[Y])||void 0===k||null===(O=k.optimizer)||void 0===O||null===(j=O.results)||void 0===j?void 0:j.length),"/",null===F||void 0===F?void 0:F.sim_in.steps,") ",i.a.createElement(ct,null,i.a.createElement("span",null,"."),i.a.createElement("span",null,"."),i.a.createElement("span",null,"."))):i.a.createElement("h3",null,"Tasks Overview (Optimized) for ",T[P].label),i.a.createElement("div",{className:"legend"},i.a.createElement("div",{className:"item"},i.a.createElement("div",{style:{width:"14px",height:"14px",background:T[Y||P].color,marginRight:"5px",borderRadius:"50%"}}),i.a.createElement("div",null,T[Y||P].label)),i.a.createElement("div",{className:"item"},i.a.createElement("div",{style:{width:"14px",height:"14px",background:"#cccccc",marginRight:"5px",borderRadius:"50%"}}),i.a.createElement("div",null,"Baseline")),qe((null===(N=T[Y||P].optimizer.results.at(-1))||void 0===N||null===(L=N.inp)||void 0===L?void 0:L.tasks)||{})<=400?i.a.createElement("div",{className:"item"},i.a.createElement("div",{style:{width:"14px",height:"14px",background:"#e61717",marginRight:"5px",borderRadius:"50%"}}),i.a.createElement("div",null,"Critical Path")):i.a.createElement(i.a.Fragment,null)),Y?i.a.createElement(it,{tasks:(null===(z=T[Y].optimizer.results.at(-1))||void 0===z?void 0:z.inp.tasks)||[],width:"1150",height:"600",color:T[Y].color,baselineTasks:null===(S=F.baseline_result)||void 0===S?void 0:S.inp.tasks,title:"Tasks (Overview)"}):i.a.createElement(it,{tasks:(null===(R=T[P].optimizer.results.at(I))||void 0===R?void 0:R.inp.tasks)||[],width:"1150",height:"600",color:T[P].color,baselineTasks:null===(C=F.baseline_result)||void 0===C?void 0:C.inp.tasks,title:"Tasks (Overview)"}))):null),i.a.createElement(st,null,i.a.createElement("div",{className:"chart"},i.a.createElement("div",{className:"section"},i.a.createElement("h3",null,"Comparison Chart"),i.a.createElement("div",{className:"legend"},i.a.createElement("div",{className:"item"},i.a.createElement("div",{style:{width:"14px",height:"14px",background:"#cccccc",marginRight:"5px",borderRadius:"50%"}}),i.a.createElement("div",null,"Baseline")),Object.keys(T).map((function(e){return i.a.createElement("div",{key:e,className:"item"},i.a.createElement("div",{style:{width:"14px",height:"14px",background:T[e].color,marginRight:"5px",borderRadius:"50%"}}),i.a.createElement("div",null,T[e].label))}))),i.a.createElement(ot,{results:[].concat(Object(c.a)(Object.keys(T).filter((function(e){var t,n;return(null===(t=T[e])||void 0===t||null===(n=t.optimizer)||void 0===n?void 0:n.results.length)>0})).map((function(e){var t,n,r;return Object(u.a)({},null===(t=T[e])||void 0===t||null===(n=t.optimizer)||void 0===n||null===(r=n.results)||void 0===r?void 0:r.at(-1))}))||[]),[Object(u.a)(Object(u.a)({},F.baseline_result),{},{option:"baseline"})]),optimizer:F,optimizationPresets:T,selectedPreset:P,selectedResultIndex:I,k:"rsrc_max",x_label:"Duration (days)",y_label:"Maximum Resource (units)",title:"Maximum of combined resources VS Project duration",onClick:function(e,t){D(e),M(t)}}))),i.a.createElement("div",{className:"chart"},i.a.createElement("div",{className:"section"},i.a.createElement("h3",null,"Optimization Presets"),i.a.createElement("p",null,"These available presets are pre-configured settings that are designed to deliver the best performance or quality for each individual specific use case."),i.a.createElement("p",null,"Please select from one of the following options to generate your optimized report: "),i.a.createElement(ye.a,{component:"fieldset"},i.a.createElement(We.a,{value:P,onChange:function(e){D(e.target.value),M(T[e.target.value].optimizer.results.length-1)}},Object.keys(T).map((function(e){var t,n,r;return i.a.createElement("div",{key:e,className:"row presets"},i.a.createElement(Ye.a,{disabled:0===(null===(t=T[e])||void 0===t||null===(n=t.optimizer)||void 0===n||null===(r=n.results)||void 0===r?void 0:r.length),value:e,control:i.a.createElement(Ve.a,null),label:T[e].label}),i.a.createElement("div",{style:{fontSize:"12px",fontFamily:"Inter"}},T[e].description))})))),i.a.createElement("div",{className:"row"},i.a.createElement("div",null),i.a.createElement(Fe,{variant:"contained",onClick:A,disabled:q||V},"View Optimized Summary")))))," "):""))}var dt,ft,mt,ht,pt=n(436),vt=E.a.div(dt||(dt=Object(x.a)(["\n  width: 100%;\n  overflow: hidden;\n  position: absolute;\n  text-align: center;\n  bottom: -13px;\n  height: 30px;\n  background: -moz-linear-gradient(top, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%); /* FF3.6-15 */\n  background: -webkit-linear-gradient(top, rgba(255,255,255,1) 0%,rgba(255,255,255,0) 100%); /* Chrome10-25,Safari5.1-6 */\n  background: linear-gradient(to bottom, rgba(255,255,255,1) 0%,rgba(255,255,255,0) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#00ffffff',GradientType=0 ); /* IE6-9 */\n  button {\n    border: 1px solid #F0F1F3;\n    color: #424242;\n    box-shadow: 1px 1px 5px rgb(207 234 229 / 25%);\n    border-radius: 8px;\n    padding: 4px 10px;\n    background: #FFFFFF;\n    font-family: \"Inter\", \"Arial\", sans-serif;\n    font-size: 12px;\n  }\n"]))),gt=function(e){var t=e.children,n=e.onLoadMore,r=Object(a.useState)(!1),o=Object(d.a)(r,2),l=o[0],s=o[1];return i.a.createElement(vt,null,l?t:null,!l&&i.a.createElement("button",{onClick:function(){s(!0),n()}},"Load More"))},bt=n(427),yt=E.a.div(ft||(ft=Object(x.a)(['\n  width: 100%;\n  .summary {\n    width: 100%;\n    display: inline-flex;\n    justify-content: space-between;\n    background: #fbfbfb;\n    margin: 0 0 30px;\n    .stats {\n      padding: 25px;\n      width: 20%;\n      display: flex;\n      flex-direction: column;\n      position: relative;\n      &:last-child {\n        &:after {\n          width: 0px;\n        }\n      }\n      &:after {\n        content: \'\';\n        height: 65px;\n        width: 1px;\n        background: #eeeeee;\n        position: absolute;\n        right: 0;\n        top: calc(50% - 32px);\n      }\n      .title {\n        display: flex;\n        align-items: center;\n        svg {\n          margin-left: 5px;\n          width: 18px;\n        }\n      }\n      .figure {\n        display: inline-flex;\n        margin: 16px 0;\n        align-items: baseline;\n        .numbers {\n          font-family: "Lato", sans-serif;\n          font-size: 40px;\n          color: #000000;\n          font-weight: 700;\n          margin-right: 10px;\n        }\n        .baseline-stats {\n            font-family: "Lato", sans-serif;\n            font-size: 28px;\n            color: #999999;\n            font-weight: 700;\n         }\n      }\n      .badge {\n          font-size: 12px;\n          font-weight: 700;\n          border-radius: 8px;\n          font-family: "Lato";\n          width: 60px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          background: #f2f2f2;\n          svg {\n            margin-right: 5px;\n          }\n          &.plus {\n            background: #e2f5e2;\n            color: #499249;\n          }\n          &.minus {\n            background: #feeaea;\n            color: #ff4d4d;\n          }\n        }\n    }\n  }\n']))),_t=E.a.div(mt||(mt=Object(x.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 20px;\n  width: 100%;\n  /* background: #ffffff;\n  padding: 30px 20px; */\n  box-sizing: border-box;\n  &.multi-charts {\n    flex-wrap: wrap;\n    .div {\n    flex: 1 0 45%;\n      /* width: 49%; */\n      &:first-child {\n        flex: 0 1 100%;\n      }\n    }\n  }\n  &.full-charts {\n    display: block !important;\n    margin-bottom: 20px;\n  }\n  .chart {\n    margin-bottom: 20px;\n    background: #ffffff;\n    padding: 20px;\n    width: 46%;\n  }\n  .full-chart {\n    box-sizing: border-box;\n    margin-bottom: 20px;\n    background: #ffffff;\n    padding: 20px;\n    width: 100%;\n  }\n  /* .chart {\n    width: 100%;\n  } */\n"]))),xt=Object(E.a)(bt.a)(ht||(ht=Object(x.a)(["\n  margin: 15px 0 10px;\n  button {\n    width: 50%;\n  }\n"])));function Et(e){var t=e.base_results,n=e.new_results,r=e.base_resource_distribution,o=e.new_resource_distribution,l=e.filter,s=e.width,c=void 0===s?560:s,u=e.height,f=void 0===u?500:u,m=Object(a.useRef)(),h=n,p=Object(a.useState)("optimized"),v=Object(d.a)(p,2),g=v[0],b=v[1],y=Object(a.useReducer)((function(e){return e+1}),0),_=Object(d.a)(y,2),x=_[0],E=_[1];return Object(a.useEffect)((function(){if(o){"optimized"===g?h=n:"baseline"===g&&(h=t);var e=Ze.e(Object.keys(o)),a=Ze.e(Object.keys(r)),s="optimized"===g?e:a,u=n.map((function(e){return Object.values(e.dist)})),d=Ze.e(u.flat()),p=t.map((function(e){if(l&&e.type===l)return Object.values(e.dist)})),v=Ze.e(p.flat()),b="optimized"===g?d:v,y=Xe({x_domain:s,y_domain:b,width:c,height:f,ref:m,x_type:Ze.g,y_type:Ze.f}),_=y.svg,x=y.x_scale,E=y.y_scale,w=0,k=function(e){_.append("g").selectAll("rect").data(Object.entries(h[e].dist)).join("rect").attr("x",(function(e){return x(e[0])})).attr("width",(function(e){return x(864e5)-x(0)})).attr("y",(function(e){return E(e[1])})).attr("height",(function(e){return E(b[0])-E(e[1])})).attr("fill",(function(t,n){return h[e].show_in_plot&&h[e].type===l?nt.ResourcePlot.allResources[w%nt.ResourcePlot.allResources.length]:"none"})).on("mouseover",(function(t,n){var r=i.a.createElement("div",{title:h[e].name,style:{background:"#eeeeee",position:"absolute",top:t.pageY,left:t.pageX+10,padding:"6px 8px",pointerEvents:"none",borderRadius:"8px"}},h[e].name);Ke.a.render(r,document.getElementById("tooltip"))})).on("mouseout",(function(){Ke.a.unmountComponentAtNode(document.getElementById("tooltip"))})),w++};for(var O in h)k(O)}}),[o,g,x]),o?i.a.createElement(i.a.Fragment,null,i.a.createElement(xt,{className:"row",value:g,exclusive:!0},i.a.createElement(pt.a,{value:"optimized",onClick:function(){return b("optimized")}},"Optimized"),i.a.createElement(pt.a,{value:"baseline",onClick:function(){return b("baseline")}},"Baseline")),i.a.createElement("svg",{ref:m}),h?i.a.createElement(wt,{resources:h,filter:l,toggleSelectResource:function(e){t.filter((function(t){return t.id===e})).map((function(e){e.show_in_plot=!e.show_in_plot})),n.filter((function(t){return t.id===e})).map((function(e){return e.show_in_plot=!e.show_in_plot})),E()}}):""):null}var wt=function(e){var t=e.resources,n=e.filter,r=e.toggleSelectResource,o=Object(a.useState)(Object.values(t).length>50?56:35),l=Object(d.a)(o,2),s=l[0],c=l[1],u=Object.values(t).length-s;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"row"},i.a.createElement("h4",null,"Legend")),i.a.createElement("div",{className:"legend"},Object.values(t).filter((function(e){return e.type===n})).slice(0,s).map((function(e,t){return i.a.createElement("div",{key:e+" "+t,className:"item resources",style:{opacity:(null===e||void 0===e?void 0:e.show_in_plot)?"100%":"50%",cursor:"pointer"},onClick:function(t,n){r(e.id)}},i.a.createElement("div",{style:{width:"14px",height:"14px",background:nt.ResourcePlot.allResources[t%nt.ResourcePlot.allResources.length],marginRight:"5px",borderRadius:"50%"}}),i.a.createElement("div",null,(n=e.name,a=20,n?n.length<=a?n:n.substring(0,a)+"...":"")));var n,a})),Object.values(t).filter((function(e){return e.type===n})).length>s&&i.a.createElement(gt,{onLoadMore:function(){c((function(e){return e+u}))}},i.a.createElement("button",null,"Load More"))))},kt=function(e,t){var n=(e-t)/t*100,r=Math.sign(n);return 1===r?i.a.createElement("span",{className:"badge minus"},Math.round(n),"%"):-1===r?i.a.createElement("span",{className:"badge plus"},Math.abs(Math.round(n)),"%"):i.a.createElement("span",{className:"badge"},Math.round(n),"%")};function Ot(e){var t,n,r,a,o,l,s,c,u,d,f,m,h,p,v,g,b,y,_,x,E,w,k,O,j,N,L,z,S,R,C,F,T,P,I,D,M,A,G,B,U,W,Y,V,q,H,J,K,Z,X,$,Q,ee=e.optimizer,te=e.selectedPreset,ne=e.selectedResultIndex,re=e.goPrev,ae=e.goNext,ie=null===ee||void 0===ee||null===(t=ee.baseline_result)||void 0===t||null===(n=t.inp)||void 0===n?void 0:n.rsrcs,oe=null===ee||void 0===ee||null===(r=ee.results)||void 0===r||null===(a=r.at(ne))||void 0===a||null===(o=a.inp)||void 0===o?void 0:o.rsrcs,le={labor:{base:[],new:[]},material:{base:[],new:[]}};return oe&&Object.keys(oe).forEach((function(e){"labor"===oe[e].type.toLowerCase()&&le.labor.new.push(oe[e]),"material"===oe[e].type.toLowerCase()&&le.material.new.push(oe[e])})),Object.keys(ie).forEach((function(e){"labor"===ie[e].type.toLowerCase()&&le.labor.base.push(ie[e]),"material"===ie[e].type.toLowerCase()&&le.material.base.push(ie[e])})),i.a.createElement(yt,null,i.a.createElement("h2",null,i.a.createElement("span",{style:{textTransform:"capitalize"}},te.label)," Optimized Summary "),i.a.createElement("div",{className:"summary"},i.a.createElement("div",{className:"stats"},i.a.createElement("div",{className:"title"},"Project Duration (days)"),i.a.createElement("div",{className:"figure"},i.a.createElement("div",{className:"numbers"},Math.round(null===ee||void 0===ee||null===(l=ee.results)||void 0===l||null===(s=l.at(ne))||void 0===s?void 0:s.drtn_day)," "),i.a.createElement("div",{className:"baseline-stats"},Math.round(null===ee||void 0===ee||null===(c=ee.baseline_result)||void 0===c?void 0:c.drtn_day))),kt(null===ee||void 0===ee||null===(u=ee.results)||void 0===u||null===(d=u.at(ne))||void 0===d?void 0:d.drtn_day,null===ee||void 0===ee||null===(f=ee.baseline_result)||void 0===f?void 0:f.drtn_day)),i.a.createElement("div",{className:"stats"},i.a.createElement("div",{className:"title"},"Resources"),i.a.createElement("div",{className:"figure"},i.a.createElement("div",{className:"numbers"},Math.round(null===ee||void 0===ee||null===(m=ee.results)||void 0===m||null===(h=m.at(ne))||void 0===h?void 0:h.rsrc_max)," "),i.a.createElement("div",{className:"baseline-stats"},Math.round(null===ee||void 0===ee||null===(p=ee.baseline_result)||void 0===p?void 0:p.rsrc_max)," ")),kt(null===ee||void 0===ee||null===(v=ee.results)||void 0===v||null===(g=v.at(ne))||void 0===g?void 0:g.rsrc_max,null===ee||void 0===ee||null===(b=ee.baseline_result)||void 0===b?void 0:b.rsrc_max)),i.a.createElement("div",{className:"stats"},i.a.createElement("div",{className:"title"},"Tasks ",i.a.createElement(_e.a,{title:"Tasks that were changed"},i.a.createElement(we.a,null))),i.a.createElement("div",{className:"figure"},i.a.createElement("div",{className:"numbers"},Math.round(null===ee||void 0===ee||null===(y=ee.results)||void 0===y||null===(_=y.at(ne))||void 0===_?void 0:_.num_changed)," "),i.a.createElement("div",{className:"baseline-stats"},Math.round(Object.values(null===ee||void 0===ee||null===(x=ee.baseline_result)||void 0===x||null===(E=x.inp)||void 0===E?void 0:E.tasks).length)," ")),kt(Math.round(Object.values(null===ee||void 0===ee||null===(w=ee.baseline_result)||void 0===w||null===(k=w.inp)||void 0===k?void 0:k.tasks).length)-(null===ee||void 0===ee||null===(O=ee.results)||void 0===O||null===(j=O.at(ne))||void 0===j?void 0:j.num_changed),Object.values(null===ee||void 0===ee||null===(N=ee.baseline_result)||void 0===N||null===(L=N.inp)||void 0===L?void 0:L.tasks).length)),i.a.createElement("div",{className:"stats"},i.a.createElement("div",{className:"title"},"Tasks on Critical Path"),i.a.createElement("div",{className:"figure"},i.a.createElement("div",{className:"numbers"},Math.round(null===ee||void 0===ee||null===(z=ee.results[(null===ee||void 0===ee||null===(S=ee.results)||void 0===S?void 0:S.length)-1])||void 0===z?void 0:z.num_crt)," "),i.a.createElement("div",{className:"baseline-stats"},Math.round(null===ee||void 0===ee||null===(R=ee.baseline_result)||void 0===R?void 0:R.num_crt),"  ")),kt(null===ee||void 0===ee||null===(C=ee.results.at(ne))||void 0===C?void 0:C.num_crt,null===ee||void 0===ee||null===(F=ee.baseline_result)||void 0===F?void 0:F.num_crt))),(null===ee||void 0===ee||null===(T=ee.results)||void 0===T?void 0:T.length)>0?i.a.createElement(_t,{className:"multi-charts"},i.a.createElement("div",{className:"full-chart"},i.a.createElement("h3",null,"Tasks (Overview)"),i.a.createElement("span",{className:"subtitle"},"Overview of all tasks over time"),i.a.createElement("div",{className:"legend"},i.a.createElement("div",{className:"item"},i.a.createElement("div",{style:{width:"14px",height:"14px",background:te.color,marginRight:"5px",borderRadius:"50%"}}),i.a.createElement("div",null,"Optimized")),i.a.createElement("div",{className:"item"},i.a.createElement("div",{style:{width:"14px",height:"14px",background:"#cccccc",marginRight:"5px",borderRadius:"50%"}}),i.a.createElement("div",null,"Baseline")),qe((null===(P=ee.results.at(-1))||void 0===P||null===(I=P.inp)||void 0===I?void 0:I.tasks)||{})<=400?i.a.createElement("div",{className:"item"},i.a.createElement("div",{style:{width:"14px",height:"14px",background:"#e61717",marginRight:"5px",borderRadius:"50%"}}),i.a.createElement("div",null,"Critical Path")):i.a.createElement(i.a.Fragment,null)),(null===(D=ee.results[ee.results.length-1])||void 0===D||null===(M=D.inp)||void 0===M?void 0:M.tasks)?i.a.createElement(it,{selectedColor:te.color,width:"1150",height:"600",tasks:null===(A=ee.results)||void 0===A||null===(G=A.at(ne))||void 0===G?void 0:G.inp.tasks,baselineTasks:null===(B=ee.baseline_result)||void 0===B?void 0:B.inp.tasks,title:"Tasks (Overview)"}):"No data"),i.a.createElement("div",{className:"full-chart"},i.a.createElement("div",{className:"row"},i.a.createElement("div",null,i.a.createElement("h3",null,"Labor Resources"),i.a.createElement("span",{className:"subtitle"},"Total utilization of multiple resources over time"))),(null===(U=ee.results)||void 0===U||null===(W=U.at(ne))||void 0===W?void 0:W.rsrc_dist)?i.a.createElement(Et,{width:"1150",base_results:le.labor.base,new_results:le.labor.new,base_resource_distribution:null===ee||void 0===ee||null===(Y=ee.baseline_result)||void 0===Y?void 0:Y.rsrc_dist,new_resource_distribution:null===ee||void 0===ee||null===(V=ee.results)||void 0===V||null===(q=V.at(ne))||void 0===q?void 0:q.rsrc_dist,filter:"Labor",title:"Combined Resources"}):"No data"),0===(null===le||void 0===le||null===(H=le.material)||void 0===H||null===(J=H.base)||void 0===J?void 0:J.length)?"":i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"full-chart"},i.a.createElement("div",{className:"row"},i.a.createElement("div",null,i.a.createElement("h3",null,"Material Resources"),i.a.createElement("span",{className:"subtitle"},"Total utilization of multiple resources over time"))),(null===(K=ee.results)||void 0===K||null===(Z=K.at(ne))||void 0===Z?void 0:Z.rsrc_dist)?i.a.createElement(Et,{width:"1150",base_results:le.material.base,new_results:le.material.new,base_resource_distribution:null===ee||void 0===ee||null===(X=ee.baseline_result)||void 0===X?void 0:X.rsrc_dist,new_resource_distribution:null===ee||void 0===ee||null===($=ee.results)||void 0===$||null===(Q=$.at(ne))||void 0===Q?void 0:Q.rsrc_dist,filter:"Material",title:"Combined Resources"}):"No data"))):"",i.a.createElement("div",{className:"row"},i.a.createElement(Te,{variant:"contained",onClick:re},"Back"),i.a.createElement(Fe,{variant:"contained",onClick:ae},"View Detailed Report")))}var jt,Nt=n(409),Lt=E.a.div(jt||(jt=Object(x.a)(['\n  .MuiDataGrid-main {\n    font-family: "Inter"\n  }\n'])));function zt(e){var t=e.rows,n=e.columns,r=e.hidden_columns,a=t.length>3?500:300,o={columns:{columnVisibilityModel:r}};return i.a.createElement(Lt,null,i.a.createElement("div",{style:{height:a,width:"100%"}},i.a.createElement(Nt.a,{rows:t,columns:n,initialState:o})))}function St(e){var t=e.dist,n=e.color,r=e.width,o=void 0===r?560:r,l=e.height,s=void 0===l?500:l,c=e.keep,u=void 0===c?1e3:c,d=Object(a.useRef)();if(Object(a.useEffect)((function(){if(t){var e=He(Object.entries(t),u),r=Ze.e(Object.keys(t)),a=Ze.e(Object.values(t)),i=Xe({x_domain:r,y_domain:a,width:o,height:s,ref:d,x_label:"time",y_label:"units",x_type:Ze.g,y_type:Ze.f}),l=i.svg,c=i.x_scale,f=i.y_scale;l.append("g").selectAll("rect").data(e).join("rect").attr("x",(function(e){return c(e[0])})).attr("width",c(864e5)-c(0)).attr("y",(function(e){return f(e[1])})).attr("height",(function(e){return f(a[0])-f(e[1])})).attr("fill",n)}}),[t]),!t)return null;var f=qe(t)>u?"(showing ".concat(u,"/").concat(qe(t)," only due to limited pixels)"):"";return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,f),i.a.createElement("svg",{ref:d}))}function Rt(e){var t=e.results,n=e.name,r=e.x_label,o=e.y_label,l=e.width,s=void 0===l?550:l,c=e.height,u=void 0===c?400:c,d=e.keep,f=void 0===d?1e3:d,m=e.onClick,h=e.selectedResultIndex,p=Object(a.useRef)();if(Object(a.useEffect)((function(){if(!(null===t||void 0===t?void 0:t.length))return null;var e=t;e.forEach((function(e,t){return e.idx=t}));var a=$e(Ze.e(e.map((function(e){return e.drtn_day}))),Ze.e(e.map((function(e){return e[n]}))),.15,.15),i=Xe({x_domain:a.x_domain,y_domain:a.y_domain,width:s,height:u,ref:p,x_label:r,y_label:o,x_type:Ze.f,y_type:Ze.f}),l=i.svg,c=i.x_scale,d=i.y_scale;l.append("g").selectAll("circle").data(e).join("circle").attr("cx",(function(e){return c(e.drtn_day)})).attr("cy",(function(e){return d(e[n])})).attr("r",(function(e,t){return t===h?6:3})).style("cursor",(function(e){return"baseline"===e.option?"auto":"pointer"})).attr("fill",(function(e,t){return e.loss_task+e.loss_rsrc+e.loss_task_rsrc>0?t===h?"#db4444":"#cccccc":t===h?"#db4444":"#00beae"})).on("click",(function(e,t){return m(t.idx)}))}),[t,h]),!t||!qe(t))return null;var v=qe(t)>f?"(showing ".concat(f,"/").concat(qe(t)," only due to limited pixels)"):"";return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"legend"},i.a.createElement("div",{className:"item"},i.a.createElement("div",{style:{width:"14px",height:"14px",background:"#e61717",marginRight:"5px",borderRadius:"50%"}}),i.a.createElement("div",null,"Step Selected")),i.a.createElement("div",{className:"item"},i.a.createElement("div",{style:{width:"14px",height:"14px",background:"#00beae",marginRight:"5px",borderRadius:"50%"}}),i.a.createElement("div",null,"Constraints Satisfied")),i.a.createElement("div",{className:"item"},i.a.createElement("div",{style:{width:"14px",height:"14px",background:"#cccccc",marginRight:"5px",borderRadius:"50%"}}),i.a.createElement("div",null,"Constraints Violated"))),i.a.createElement(i.a.Fragment,null,v),i.a.createElement("svg",{ref:p}))}function Ct(e){var t=e.results,n=e.name,r=(e.x_axis,e.x_label),o=e.y_label,l=e.width,s=void 0===l?550:l,c=e.height,u=void 0===c?400:c,d=e.keep,f=void 0===d?1e3:d,m=e.onClick,h=e.selectedResultIndex,p=Object(a.useRef)();if(Object(a.useEffect)((function(){if(!(null===t||void 0===t?void 0:t.length))return null;var e=t;e.forEach((function(e,t){return e.idx=t}));var a=$e(Ze.e([1,e.length]),Ze.e(e.map((function(e){return e[n]}))),0,0),i=Xe({margin:50,x_domain:a.x_domain,y_domain:a.y_domain,width:s,height:u,ref:p,x_label:r||"Optimization steps",y_label:o,x_type:Ze.f,y_type:Ze.f}),l=i.svg,c=i.x_scale,d=i.y_scale;l.append("g").selectAll("circle").data(e).join("circle").attr("cx",(function(e,t){return c(e.idx)})).attr("cy",(function(e){return d(e[n])})).attr("r",(function(e,t){return t===h?6:3})).style("cursor",(function(e){return"baseline"===e.option?"auto":"pointer"})).attr("fill",(function(e,t){return e.loss_task+e.loss_rsrc+e.loss_task_rsrc>0?t===h?"#db4444":"#cccccc":t===h?"#db4444":"#00beae"})).on("click",(function(e,t){m(t.idx)}))}),[t,h]),!t||!qe(t))return null;var v=qe(t)>f?"(showing ".concat(f,"/").concat(qe(t)," only due to limited pixels)"):"";return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"legend"},i.a.createElement("div",{className:"item"},i.a.createElement("div",{style:{width:"14px",height:"14px",background:"#e61717",marginRight:"5px",borderRadius:"50%"}}),i.a.createElement("div",null,"Step Selected")),i.a.createElement("div",{className:"item"},i.a.createElement("div",{style:{width:"14px",height:"14px",background:"#00beae",marginRight:"5px",borderRadius:"50%"}}),i.a.createElement("div",null,"Constraints Satisfied")),i.a.createElement("div",{className:"item"},i.a.createElement("div",{style:{width:"14px",height:"14px",background:"#cccccc",marginRight:"5px",borderRadius:"50%"}}),i.a.createElement("div",null,"Constraints Violated"))),i.a.createElement(i.a.Fragment,null,v),i.a.createElement("svg",{ref:p}))}var Ft,Tt,Pt,It,Dt=n(438),Mt=n(439),At=E.a.div(Ft||(Ft=Object(x.a)(["\n  background: white;\n  margin-bottom: 40px;\n  padding: 20px;\n  .circle {\n    width: 14px;\n    height: 14px;\n    border-radius: 50%;\n    background-color: #dddddd;\n    margin: 0 auto;\n    &.critical {\n      background-color: red;\n    }\n  }\n  .MuiDataGrid-columnHeaders {\n    background: #f2f2f2;\n  }\n"])));Object(E.a)(Dt.a)(Tt||(Tt=Object(x.a)(["\n  border: 1px solid #eeeeee;\n  border-radius: 6px;\n  thead {\n    tr {\n      background: #f2f2f2;\n      > th {\n        font-weight: bold;\n        color: #222222;\n      }\n    }\n  }\n  .MuiTableSortLabel-icon {\n    opacity: 1;\n  }\n  \n"]))),Object(E.a)(Mt.a)(Pt||(Pt=Object(x.a)([""])));function Gt(e){var t,n,r,o,l=e.optimizer,s=e.selectedPreset,c=e.selectedResultIndex,u=e.handleSelectResultIndex,f=e.goPrev,m=Object(a.useState)(!1),h=Object(d.a)(m,2),p=h[0],v=h[1],g=null===l||void 0===l?void 0:l.results[c],b=null===g||void 0===g||null===(t=g.inp)||void 0===t?void 0:t.tasks,y=null===g||void 0===g||null===(n=g.inp)||void 0===n?void 0:n.rsrcs,_=null===g||void 0===g||null===(r=g.inp)||void 0===r?void 0:r.task_rsrcs,x=b&&Object.keys(b).filter((function(e){return b[e].changed})),E=x&&x.map((function(e){var t=b[e],n=t.critical,r=t.id,a=t.task_code,i=t.name,o=t.drtn_hr,l=t.drtn_hr_2,s=(l/o).toFixed(2);return{id:a||r,critical:n,name:i,task_code:a||r,old_duration:"".concat(o," hours"),new_duration:"".concat(l," hours"),ratio:s}})),w=[{field:"critical",headerName:"Critical",width:80,renderCell:function(e){return e.value?i.a.createElement("div",{className:"circle critical"}):i.a.createElement("div",{className:"circle"})}},{field:"id",headerName:"ID",width:280},{field:"name",headerName:"Name",width:430,renderCell:function(e){return i.a.createElement("div",{style:{maxHeight:"inherit",width:"100%",whiteSpace:"initial"}},e.value)}},{field:"old_duration",headerName:"Duration (Baseline)",width:150},{field:"new_duration",headerName:"Duration (New)",width:150},{field:"ratio",headerName:"Ratio",width:50}],k=y&&Object.keys(y),O=k&&k.map((function(e){var t=y[e],n=t.id,r=t.name,a=t.type,i=t.rng,o=t.dist,l=t.max,s=t.std;return{name:r,id:n,type:a,rng:JSON.stringify(i),dist:Math.round(Object.values(o).reduce((function(e,t){return e+t}),0)),max:Math.round(l),std:Math.round(s)}})),j=[{field:"id",headerName:"ID",width:120},{field:"type",headerName:"type",width:150},{field:"name",headerName:"Name",width:350,renderCell:function(e){return i.a.createElement("div",{style:{maxHeight:"inherit",width:"100%",whiteSpace:"initial"}},e.value)}},{field:"rng",headerName:"Range [min, max]",width:130},{field:"dist",headerName:"Resource Dist.",width:130},{field:"max",headerName:"Max N.",width:130},{field:"std",headerName:"Standard Deviation",width:130}],N=[],L=_&&Object.keys(_);L&&L.map((function(e){var t,n,r=null===l||void 0===l||null===(t=l.results[c])||void 0===t||null===(n=t.inp)||void 0===n?void 0:n.task_rsrcs[e];x.map((function(e){var t,n,a=null===l||void 0===l||null===(t=l.results[c])||void 0===t||null===(n=t.inp)||void 0===n?void 0:n.tasks[e];r&&r.t_id===e&&N.push({drtn_hr:a.drtn_hr,drtn_hr_2:a.drtn_hr_2,r_id:r.r_id,t_id:r.t_id,units:r.units,units_2:r.units_2,units_rng:r.units_rng,work_hr:r.work_hr})}))}));var z=N&&N.map((function(e,t){var n,r,a,i=e.task_code,o=e.r_id,l=e.t_id,s=e.units,c=e.units_2,u=e.units_rng,d=e.drtn_hr,f=e.drtn_hr_2,m=e.work_hr;return{critical:(a=l,Object.values(null===g||void 0===g?void 0:g.crt_path).filter((function(e){return e===a})).length>0),id:t,t_id:i||l,resource_name:null===(n=y[o])||void 0===n?void 0:n.name,t_name:null===(r=b[l])||void 0===r?void 0:r.name,old_units:s&&s.toFixed(2),new_units:c&&c.toFixed(2),rng:JSON.stringify(u),old_duration:"".concat(d," hours"),new_duration:"".concat(f," hours"),work_hr:"".concat(m," hours")}})),S=[{field:"critical",headerName:"Critical",width:80,renderCell:function(e){return e.value?i.a.createElement("div",{className:"circle critical"}):i.a.createElement("div",{className:"circle"})}},{field:"id",headerName:"ID",width:0},{field:"t_id",headerName:"Task Code",width:120},{field:"resource_name",headerName:"Resource Name",width:200,renderCell:function(e){return i.a.createElement("div",{style:{maxHeight:"inherit",width:"100%",whiteSpace:"initial"}},e.value)}},{field:"t_name",headerName:"Task Name",width:350,renderCell:function(e){return i.a.createElement("div",{style:{maxHeight:"inherit",width:"100%",whiteSpace:"initial"}},e.value)}},{field:"rng",headerName:"Range [min, max]",width:130},{field:"old_units",headerName:"Units (Old)",width:130},{field:"new_units",headerName:"Units (New)",width:130},{field:"old_duration",headerName:"Duration (Old)",width:130},{field:"new_duration",headerName:"Duration (New)",width:130},{field:"work_hr",headerName:"Total Work Hours",width:130}];return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"row"},i.a.createElement("h2",null,i.a.createElement("span",{style:{textTransform:"capitalize"}},s)," Detailed Report"),i.a.createElement(Fe,{onClick:function(){return v(!0)},variant:"contained"},"Export Report")),i.a.createElement(De,null,i.a.createElement(At,null,i.a.createElement("div",{className:"row"},i.a.createElement("h3",null,"Changed Tasks (Overview)")),i.a.createElement("div",{className:"legend",style:{width:"400px",justifyContent:"flex-start",marginBottom:"20px"}},i.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",marginRight:"10px"}},i.a.createElement("div",{className:"circle critical"})," Critical"),i.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},i.a.createElement("div",{className:"circle"})," Non-Critical")),(null===l||void 0===l?void 0:l.results[c])?i.a.createElement(zt,{rows:E,columns:w}):"Please select a Optimization Preset before generating your report"),i.a.createElement("h2",null,"Resources Tables"),i.a.createElement(At,null,i.a.createElement("h4",null,"Changed Resources"),(null===l||void 0===l?void 0:l.results[c])?i.a.createElement(zt,{rows:O,columns:j}):"Please select a Optimization Preset before generating your report"),i.a.createElement(At,null,i.a.createElement("h4",null,"Changed Task-Resources"),(null===l||void 0===l?void 0:l.results[c])?i.a.createElement(zt,{hidden_columns:{id:!1},rows:z,columns:S}):"Please select a Optimization Preset before generating your report"),(null===l||void 0===l?void 0:l.loss_weights)?i.a.createElement(i.a.Fragment,null,i.a.createElement(_t,{className:"multi-charts"},i.a.createElement("div",{className:"row"},i.a.createElement("h2",null,"Optimization Iteration Charts")),i.a.createElement("div",{className:"chart"},i.a.createElement("h4",null,"Project Duration"),i.a.createElement(Ct,{results:null===l||void 0===l?void 0:l.results,name:"drtn_day",x_axis:!0,x_label:"Optimization steps",y_label:"Duration (days)",onClick:function(e){u(e)},selectedResultIndex:c})),i.a.createElement("div",{className:"chart"},i.a.createElement("h4",null,"Maximum Labour Resources"),i.a.createElement(Ct,{results:null===l||void 0===l?void 0:l.results,name:"rsrc_max",x_axis:!0,x_label:"Optimization steps",y_label:"Maximum Resources",onClick:function(e){u(e)},selectedResultIndex:c})),i.a.createElement("div",{className:"chart"},i.a.createElement("h4",null,"Standard Deviation Labour Resources"),i.a.createElement(Ct,{results:null===l||void 0===l?void 0:l.results,name:"rsrc_std",x_axis:!0,x_label:"Optimization steps",y_label:"Standard Deviation",onClick:function(e){u(e)},selectedResultIndex:c})),i.a.createElement("div",{className:"chart"},i.a.createElement("h4",null,"Number of Changed Tasks"),i.a.createElement(Ct,{results:null===l||void 0===l?void 0:l.results,name:"num_changed",x_axis:!0,x_label:"Optimization steps",y_label:"Number of changed task",onClick:function(e){u(e)},selectedResultIndex:c})),i.a.createElement("div",{className:"chart"},i.a.createElement("h4",null,"Critical Path Tasks"),i.a.createElement(Ct,{results:null===l||void 0===l?void 0:l.results,name:"num_crt",x_axis:!0,x_label:"Optimization steps",y_label:"Number of tasks",onClick:function(e){u(e)},selectedResultIndex:c})),i.a.createElement("div",{className:"chart"},i.a.createElement("h4",null,"Loss Function (Dimensionless)"),i.a.createElement(Ct,{results:null===l||void 0===l?void 0:l.results,name:"loss_sum",x_axis:!0,x_label:"Optimization steps",y_label:"Loss function",onClick:function(e){u(e)},selectedResultIndex:c}))),i.a.createElement(_t,{className:"multi-charts"},i.a.createElement("div",{className:"row"},i.a.createElement("h2",null,"Resources Plots")),Object.values((null===l||void 0===l||null===(o=l.results[c])||void 0===o?void 0:o.inp.rsrcs)||{}).map((function(e,t){return i.a.createElement("div",{key:e.id,className:"chart"},i.a.createElement("h4",null,"(".concat(e.type,") ").concat(e.name)),i.a.createElement(St,{dist:e.dist,title:"(".concat(e.type,") ").concat(e.name),color:nt.ResourcePlot.allResources[t%nt.ResourcePlot.allResources.length]}))}))),i.a.createElement(_t,{className:"multi-charts"},i.a.createElement("div",{className:"row"},i.a.createElement("h2",null,"Loss Function Charts")),i.a.createElement("div",{className:"chart"},i.a.createElement("h4",null,"Loss Function: Tasks Resources"),i.a.createElement(Rt,{results:null===l||void 0===l?void 0:l.results,name:"loss_task_rsrc",x_label:"Duration (days)",y_label:"Loss function: task resources",onClick:function(e){u(e)},selectedResultIndex:c})),i.a.createElement("div",{className:"chart"},i.a.createElement("h4",null,"Loss Function: Sum"),i.a.createElement(Rt,{results:null===l||void 0===l?void 0:l.results,name:"loss_sum",x_label:"Duration (days)",y_label:"Loss function: sum",onClick:function(e){u(e)},selectedResultIndex:c})),i.a.createElement("div",{className:"chart"},i.a.createElement("h4",null,"Loss Function: Resources"),i.a.createElement(Rt,{results:null===l||void 0===l?void 0:l.results,name:"loss_rsrc",x_label:"Duration (days)",y_label:"Loss function: resources",onClick:function(e){u(e)},selectedResultIndex:c})),i.a.createElement("div",{className:"chart"},i.a.createElement("h4",null,"Loss Function: Tasks"),i.a.createElement(Rt,{results:null===l||void 0===l?void 0:l.results,name:"loss_task",x_label:"Duration (days)",y_label:"Loss function: task",onClick:function(e){u(e)},selectedResultIndex:c})))):"No data",i.a.createElement("div",{className:"row"},i.a.createElement(Te,{variant:"contained",onClick:f},"Back"),i.a.createElement(Fe,{onClick:function(){return v(!0)},variant:"contained"},"Export Report"))),i.a.createElement(Se,{isLoading:p,onClose:function(){return v(!1)},title:"Export Optimized File",content:i.a.createElement("div",{className:"row"},i.a.createElement(Fe,{onClick:function(){l.reader.merge_data(l.results[c].inp),l.reader.export()},variant:"contained"},"Original Format")," \xa0",i.a.createElement(Fe,{onClick:function(){l.reader.export_excel(l.results[c].inp)},variant:"contained"},"Excel"))}))}var Bt=E.a.div(It||(It=Object(x.a)(["\n  width: 100%;\n  box-sizing: border-box;\n  .content {\n    margin: 20px auto;\n    width: 1200px;\n    max-width: 100%;\n    /* background: #ffffff; */\n    /* padding: 1px 20px 20px; */\n    border-radius: 6px;\n    box-sizing: border-box;\n    .legend {\n      display: flex;\n      justify-content: flex-start;\n      align-items: flex-start;\n      position: relative;\n      font-size: 11px;\n      width: 100%;\n      margin-top: 20px;\n      flex-wrap: wrap;\n      &:has(.resources) {\n        margin-bottom: 30px;\n      }\n      .item {\n        display: flex; \n        justify-content: flex-start;\n        align-items: center;\n        margin-right: 23px;\n        &.resources {\n          width: 14%;\n          margin-right: 0 !important;\n        }\n      }\n      .circle {\n        margin-right: 5px;\n      }\n    }\n  }\n"]))),Ut=["Input Data","Baseline Summary","Optimized Summary","Optimized Report"],Wt={balanced:{label:"Balanced",color:"#82B5C7",description:"Best combination of the fastest, minimum and levelled resources"},shortest_duration:{label:"Fastest",color:"#f7dc5b",description:"Shortest project duration"},least_max_resources:{label:"Minimum Resources",color:"#db7930",description:"Least amount of required resources"},least_std_resources:{label:"Levelled Resources",color:"#AABB5D",description:"Best resource distribution"}};function Yt(){var e,t,n,r,o,l=Object(a.useState)(0),s=Object(d.a)(l,2),f=s[0],m=s[1],h=Object(a.useState)(null),p=Object(d.a)(h,2),v=p[0],g=p[1],y=Object(a.useState)(!1),_=Object(d.a)(y,2),x=_[0],E=_[1],w=Object(a.useState)(Wt),k=Object(d.a)(w,2),j=k[0],N=k[1],L=Object(a.useState)("balanced"),z=Object(d.a)(L,2),S=z[0],R=z[1],C=Object(a.useState)(-1),F=Object(d.a)(C,2),T=F[0],P=F[1],I=Object(a.useState)(),D=Object(d.a)(I,2),M=D[0],A=D[1],G=Object(a.useState)("No file chosen"),B=Object(d.a)(G,2),W=B[0],Y=B[1],V=Object(a.useState)("No file chosen"),q=Object(d.a)(V,2),H=q[0],J=q[1],K=Object(a.useReducer)((function(e){return e+1}),0),Z=Object(d.a)(K,2),X=(Z[0],Z[1]);Object(a.useEffect)((function(){x&&(!function(e){if(e){for(var t in j){var n;(null===(n=j[t])||void 0===n?void 0:n.optimizer)&&j[t].optimizer.stop()}for(var r in j){for(var a in j[r].optimizer=new b(null===e||void 0===e?void 0:e.fileReader),j[r].optimizer.sim_in=Object(u.a)({},e.optimizer.sim_in),j[r].optimizer.loss_weights)j[r].optimizer.loss_weights[a]=0;"shortest_duration"===r?j[r].optimizer.loss_weights.drtn_day=100:"least_max_resources"===r?j[r].optimizer.loss_weights.rsrc_max=100:"least_std_resources"===r?j[r].optimizer.loss_weights.rsrc_std=100:"balanced"===r&&(j[r].optimizer.loss_weights.drtn_day=50,j[r].optimizer.loss_weights.rsrc_max=50)}j.balanced.optimizer.optimize((function(t){1===t.length&&(e.optimizer.baseline_result=Object(u.a)({},t[0])),j.balanced.optimizer.optimizing=!0,j.balanced.optimizer.results=t,""===S&&R("balanced"),X()}),(function(e){j.balanced.optimizer.optimizing=!1,j.shortest_duration.optimizer.optimize((function(e){j.shortest_duration.optimizer.optimizing=!0,j.shortest_duration.optimizer.results=e,X()}),(function(e){j.shortest_duration.optimizer.optimizing=!1,j.least_max_resources.optimizer.optimize((function(e){j.least_max_resources.optimizer.optimizing=!0,j.least_max_resources.optimizer.results=e,X()}),(function(e){j.least_max_resources.optimizer.optimizing=!1,j.least_std_resources.optimizer.optimize((function(e){j.least_std_resources.optimizer.optimizing=!0,j.least_std_resources.optimizer.results=e,X()}),(function(e){j.least_std_resources.optimizer.optimizing=!1,X()}))}))}))}))}}(v),m(1),E(!1))}),[j,x]);var $=null;0===f?$=i.a.createElement(Ue,{project:v,fileName:W,setFileName:Y,uploadedFile:M,setUploadedFile:A,constraintsFileName:H,setConstraintsFileName:J,updateProject:function(e){g(e)},goNext:function(){N(Wt),E(!0)}}):1===f?$=i.a.createElement(ut,{optimizer:null===v||void 0===v?void 0:v.optimizer,optimizationPresets:j,selectedPreset:S,selectedResultIndex:T,handleSelectPreset:function(e){R(e),j[e].optimizer.results.length-1<T&&P(j[e].optimizer.results.length-1)},handleSelectResultIndex:function(e){P(e)},goPrev:function(){m(f-1)},goNext:function(){m(f+1),-1===T&&P(j[S].optimizer.results.length-1),v.optimizer.loss_weights=Object(u.a)({},j[S].optimizer.loss_weights),v.optimizer.results=Object(c.a)(j[S].optimizer.results)}}):2===f?$=i.a.createElement(Ot,{optimizer:null===v||void 0===v?void 0:v.optimizer,selectedPreset:j[S],selectedResultIndex:T,goPrev:function(){m(f-1)},goNext:function(){m(f+1)}}):3===f&&($=i.a.createElement(Gt,{optimizer:null===v||void 0===v?void 0:v.optimizer,selectedPreset:j[S].label,selectedResultIndex:T,handleSelectResultIndex:function(e){P(e)},goPrev:function(){m(f-1)},goNext:function(){m(f+1)}}));var Q=S&&0===(null===(e=j[S])||void 0===e||null===(t=e.optimizer)||void 0===t||null===(n=t.results)||void 0===n?void 0:n.length);return i.a.createElement(i.a.Fragment,null,i.a.createElement(U,null),i.a.createElement(O,{navAt:f,steps:Ut,navigate:function(e){1===f&&(-1===T&&P(j[S].optimizer.results.length-1),v.optimizer.loss_weights=Object(u.a)({},j[S].optimizer.loss_weights),v.optimizer.results=Object(c.a)(j[S].optimizer.results)),0===e&&(g(void 0),Y("Wait for the file to be re-uploaded")),m(e)},disabled:Q||0===f||null===v||void 0===(null===v||void 0===v?void 0:v.optimizer)||void 0===(null===(r=j.balanced)||void 0===r||null===(o=r.optimizer)||void 0===o?void 0:o.optimizing)}),i.a.createElement(Bt,null,i.a.createElement("div",{className:"content"},$)))}var Vt,qt=n(419);function Ht(){Ht=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(L){s=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),l=new O(a||[]);return r(o,"_invoke",{value:x(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=c;var d={};function f(){}function m(){}function h(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(j([])));g&&g!==t&&n.call(g,i)&&(p=g);var b=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var s=u(e[a],e,i);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,l)}))}l(s.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function x(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=E(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=h,r(b,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:m,configurable:!0}),m.displayName=s(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(_.prototype),s(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new _(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(b),s(b,l,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Jt(e){return Kt.apply(this,arguments)}function Kt(){return(Kt=Object(f.a)(Ht().mark((function e(t){return Ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.frontline-optimizer.com","/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zt(e){return Xt.apply(this,arguments)}function Xt(){return(Xt=Object(f.a)(Ht().mark((function e(t){return Ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.frontline-optimizer.com","/auth/request-reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $t(e){return Qt.apply(this,arguments)}function Qt(){return(Qt=Object(f.a)(Ht().mark((function e(t){return Ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.frontline-optimizer.com","/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function en(e){var t=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(String(e).toLowerCase());return t?{result:t,message:""}:{result:t,message:"Please enter a valid email address."}}n(325).config();var tn,nn=E.a.div(Vt||(Vt=Object(x.a)(["\n  width: 100vw;\n  height: 100vh;\n  background: linear-gradient(\n    180deg,\n    rgba(255, 204, 103, 0.195) 0%,\n    rgba(0, 145, 132, 0.3) 100%\n  );\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .MuiBox-root {\n    width: 450px;\n    h3 {\n      margin-top: 0;\n    }\n    &.form {\n      background: #ffffff;\n      padding: 30px;\n      border-radius: 16px;\n      box-sizing: border-box;\n      /* display: flex;\n      flex-direction: column; */\n      .MuiTextField-root {\n        width: 100%;\n        margin-bottom: 12px;\n      }\n    }\n    img.logo {\n      width: 300px;\n    }\n  }\n  .divider {\n    position: relative;\n    &:after { \n      content: '';\n      position: absolute;\n      height: 1px;\n      width: 100%;\n      background: #eeeeee;\n      left: 0;\n      bottom: 0;\n    }\n  }\n  .error {\n    color: rgb(0, 190, 174) !important;\n    font-weight: 700;\n  }\n"])));function rn(){rn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(L){s=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),l=new O(a||[]);return r(o,"_invoke",{value:x(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=c;var d={};function f(){}function m(){}function h(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(j([])));g&&g!==t&&n.call(g,i)&&(p=g);var b=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var s=u(e[a],e,i);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,l)}))}l(s.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function x(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=E(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=h,r(b,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:m,configurable:!0}),m.displayName=s(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(_.prototype),s(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new _(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(b),s(b,l,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function an(){var e=Object(a.useRef)(),t=Object(a.useState)(""),n=Object(d.a)(t,2),r=n[0],o=n[1],c=Object(a.useState)(""),u=Object(d.a)(c,2),m=u[0],h=u[1],p=Object(a.useRef)(),v=Object(a.useState)(""),g=Object(d.a)(v,2),b=g[0],y=(g[1],Object(s.c)()),_=Object(l.n)();function x(){return(x=Object(f.a)(rn().mark((function t(){var n;return rn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=en(e.current.value),o(n.message),n.result){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,Jt({email:e.current.value,password:p.current.value}).then((function(e){return e.json()})).then((function(t){return t.resetPasswordRequired?(h("This is your first time logging in, you will be redirected to set up a password."),void _("/#/reset-password?email="+e.current.value)):t.accessToken?(y({token:t.accessToken,expiresIn:1440,tokenType:"Bearer",authState:{email:e.current.value}}),void _("/")):void h(t.message)})).catch((function(e){console.error("Error:",e)}));case 6:t.sent;case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return i.a.createElement(nn,null,i.a.createElement(Ne.a,{sx:{display:"flex",flexDirection:"column",marginRight:"40px"}},i.a.createElement("img",{className:"logo",src:P.a,alt:"Frontline Logo"}),i.a.createElement("h1",null,"Optimization Platform"),"Find the best sequence of activities with optimal resource loading to ace your project"),i.a.createElement(Ne.a,{className:"form",component:"form",noValidate:!0,autoComplete:"off"},i.a.createElement("h2",null,"Log In"),i.a.createElement("p",{className:"error"},m),i.a.createElement(qt.a,{label:"Email",variant:"outlined",inputRef:e,error:""!==r,helperText:r,placeholder:"sample@googlemail.com"}),i.a.createElement(qt.a,{label:"Password",type:"password",variant:"outlined",inputRef:p,error:""!==b,helperText:b,placeholder:"******"}),i.a.createElement("div",{className:"row"},i.a.createElement("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){_("/reset-password?email="+e.current.value)}},"Forgot password"),i.a.createElement(Fe,{variant:"contained",onClick:function(){return x.apply(this,arguments)}},"Login")),i.a.createElement("br",null),i.a.createElement("div",{className:"divider"}),i.a.createElement("h2",null,"New Users"),"Our platform is currently only available to subscribers. Please contact ",i.a.createElement("a",{href:"mailto:sales@frontlinec.com",target:"_blank",rel:"noreferrer"},"sales@frontlinec.com")," to request a demo."))}var on=E.a.div(tn||(tn=Object(x.a)(["\n  width: 100vw;\n  height: 100vh;\n  background: linear-gradient(\n    180deg,\n    rgba(255, 204, 103, 0.195) 0%,\n    rgba(0, 145, 132, 0.3) 100%\n  );\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .MuiBox-root {\n    width: 450px;\n    h3 {\n      margin-top: 0;\n    }\n    &.form {\n      background: #ffffff;\n      padding: 30px;\n      border-radius: 16px;\n      box-sizing: border-box;\n      /* display: flex;\n      flex-direction: column; */\n      p {\n        color: #888888;\n        &.error {\n          color: rgb(0, 190, 174);\n          font-weight: 700;\n          margin-bottom: 15px;\n        }\n      }\n      .MuiTextField-root {\n        width: 100%;\n        margin-bottom: 12px;\n      }\n    }\n    img.logo {\n      width: 300px;\n    }\n  }\n"])));function ln(){ln=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(L){s=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),l=new O(a||[]);return r(o,"_invoke",{value:x(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=c;var d={};function f(){}function m(){}function h(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(j([])));g&&g!==t&&n.call(g,i)&&(p=g);var b=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var s=u(e[a],e,i);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,l)}))}l(s.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function x(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=E(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=h,r(b,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:m,configurable:!0}),m.displayName=s(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(_.prototype),s(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new _(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(b),s(b,l,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function sn(){var e=Object(o.b)(),t=Object(d.a)(e,2),n=t[0],r=(t[1],Object(a.useState)(n.get("email")?n.get("email"):"")),s=Object(d.a)(r,2),c=s[0],u=s[1],m=Object(a.useState)(""),h=Object(d.a)(m,2),p=h[0],v=h[1],g=Object(a.useState)(n.get("resetToken")),b=Object(d.a)(g,2),y=b[0],_=(b[1],Object(a.useState)("")),x=Object(d.a)(_,2),E=x[0],w=x[1],k=Object(l.n)();function O(){return(O=Object(f.a)(ln().mark((function e(){var t;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=en(c),w(t.message),t.result){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Zt({email:c}).then((function(e){return e.json()})).then((function(e){w("We have sent the password reset instructions to your email. Please note the link expires in 1 hour.")})).catch((function(e){console.error("Error:",e)}));case 6:e.sent;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(f.a)(ln().mark((function e(){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$t({email:c,password:p,token:y}).then((function(e){return e.json()})).then((function(e){w("Your password has been successfully reset!"),k("/")})).catch((function(e){console.error("Error:",e)}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return y?i.a.createElement(nn,null,i.a.createElement(Ne.a,{sx:{display:"flex",flexDirection:"column",marginRight:"40px"}},i.a.createElement("img",{className:"logo",src:P.a,alt:"Frontline Logo"}),i.a.createElement("h1",null,"Optimization Platform"),"Find the best sequence of activities with optimal resource loading to ace your project"),i.a.createElement(Ne.a,{className:"form",component:"form",noValidate:!0,autoComplete:"off"},i.a.createElement("h2",null,"Reset Password"),E,i.a.createElement("p",null,"Your new password must be different from previous used passwords."),i.a.createElement(qt.a,{label:"Email",variant:"outlined",value:c,disabled:!0}),i.a.createElement("br",null),i.a.createElement(qt.a,{label:"Password",type:"password",variant:"outlined",value:p,onChange:function(e){return v(e.target.value)}}),i.a.createElement("br",null),i.a.createElement("div",{className:"row"},i.a.createElement("div",null),i.a.createElement(Fe,{variant:"contained",onClick:function(){return j.apply(this,arguments)}},"Reset Password")))):i.a.createElement(i.a.Fragment,null,i.a.createElement(on,null,i.a.createElement(Ne.a,{sx:{display:"flex",flexDirection:"column",marginRight:"40px"},noValidate:!0,autoComplete:"off"},i.a.createElement("img",{className:"logo",src:P.a,alt:"Frontline Logo"}),i.a.createElement("h1",null,"Optimization Platform"),"Find the best sequence of activities with optimal resource loading to ace your project"),i.a.createElement(Ne.a,{className:"form",component:"form",noValidate:!0,autoComplete:"off"},i.a.createElement("h3",null,"Reset Password"),i.a.createElement("p",{className:"error"},E),i.a.createElement("p",null,"Enter the email associated with your account and we'll send an email with instructions to reset your password."),i.a.createElement(qt.a,{label:"Email",placeholder:"example@gmail.com",variant:"outlined",value:c,onChange:function(e){return u(e.target.value)}}),i.a.createElement("div",{className:"row"},i.a.createElement(Te,{variant:"contained",onClick:function(){k("/login")}},"Back"),i.a.createElement(Fe,{variant:"contained",onClick:function(){return O.apply(this,arguments)}},"Request")))))}function cn(){return i.a.createElement(s.a,{authType:"cookie",authName:"_auth",cookieDomain:window.location.hostname,cookieSecure:!1},i.a.createElement(o.a,null,i.a.createElement(Ce,null,i.a.createElement(l.d,null,i.a.createElement(l.b,{path:"/",element:i.a.createElement(s.b,{loginPath:"/login"},i.a.createElement(Yt,null))}),i.a.createElement(l.b,{path:"/login",element:i.a.createElement(an,null)}),i.a.createElement(l.b,{path:"/reset-password",element:i.a.createElement(sn,null)})))))}n(330);r.a.registerComponent("App",(function(){return cn})),r.a.runApplication("App",{rootTag:document.getElementById("root")})},74:function(e,t,n){e.exports=n.p+"static/media/logo.458142f4.png"}},[[305,1,2]]]);
//# sourceMappingURL=main.711e6d98.chunk.js.map