/*! For license information please see main.df3dadf3.chunk.js.LICENSE.txt */
(this["webpackJsonpfrontline-industrial-software-app"]=this["webpackJsonpfrontline-industrial-software-app"]||[]).push([[0],{324:function(e,t,n){e.exports=n(357)},347:function(e,t,n){},357:function(e,t,n){"use strict";n.r(t);var r,a=n(416),i=n(0),o=n.n(i),l=n(52),c=n(13),s=n(64),u=n(14),d=n(58),m=n(6),f=n(435),h=n(422),p=n(21),v=n(22),g=n(426),b=Object(v.a)(g.a)(r||(r=Object(p.a)(["\n  margin: 30px auto;\n  width: 1200px;\n  .Mui-active circle {\n    color: #00beae;\n  }\n  .Mui-completed circle,.Mui-completed {\n    color: #002F2B !important;\n  }\n"])));function y(e){var t=e.steps,n=e.navAt,r=e.navigate,a=e.disabled;return o.a.createElement(b,{activeStep:n,alternativeLabel:!0},t.map((function(e,t){return o.a.createElement(f.a,{key:e,onClick:function(){a||r(t)}},o.a.createElement(h.a,null,e))})))}var x,_=n(216),E=n(425),w=n(434),k=n(410),O=n(409),j=n(412),N=v.a.div(x||(x=Object(p.a)(["\n  width: 100%;\n  box-sizing: border-box;\n  min-height: 55px;\n  box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;\n  .header { \n    margin: 0 auto 20px;\n    padding: 20px 0;\n    max-width: 1200px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    .logo {\n      display: flex;\n      align-items: center;\n      img {\n        max-width: 200px;\n        margin-right: 20px;\n      }\n    }\n    .menu {\n      &:focus {\n         outline: none !important;\n      }\n    }\n  }\n"]))),L=n(65),z=n.n(L),S=n(194),P=n.n(S),R=n(200),C=n.n(R),F=n(201),T=n.n(F);function I(){var e=Object(s.d)(),t=Object(c.n)();var n=o.a.useState(null),r=Object(m.a)(n,2),a=r[0],i=r[1],l=Boolean(a);return o.a.createElement(N,null,o.a.createElement("div",{className:"header"},o.a.createElement("div",{className:"logo"},o.a.createElement("a",{href:"/"},o.a.createElement("img",{src:z.a,alt:"Frontline Logo"})),o.a.createElement("span",null,"v2.0.0")),o.a.createElement("div",{className:"account"},o.a.createElement(P.a,{id:"basic-button","aria-controls":l?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":l?"true":void 0,onClick:function(e){i(e.currentTarget)},fontSize:"medium"}),o.a.createElement(_.a,{id:"basic-menu",anchorEl:a,open:l,onClose:function(){i(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},MenuListProps:{"aria-labelledby":"basic-button"}},o.a.createElement(E.a,{className:"menu"},o.a.createElement(w.a,{onClick:function(){window.open("https://app.frontline-optimizer.com/v1.0.0/","_blank","noopener,noreferrer")}},o.a.createElement(O.a,null,o.a.createElement(C.a,{fontSize:"small"})),o.a.createElement(k.a,null,"Back to v1.0.0")),o.a.createElement(j.a,null),o.a.createElement(w.a,{onClick:function(){e(),t("/login")}},o.a.createElement(O.a,null,o.a.createElement(T.a,null)),o.a.createElement(k.a,null,"Log Out")))))))}var D,M,A,G=n(20),B=n(437),U=n(415),q=n(424),W=n(433),Y=n(67),J=n.n(Y),V=n(137),K=n.n(V),Z=n(428),H=v.a.div(D||(D=Object(p.a)(['\n  background: #F0F1F3;\n  margin: 0;\n  /* padding: 0 0 50px; */\n  min-height: 100vh;\n  min-width: 1200px;\n  .row {\n    display: flex;\n    width: 100%;\n    justify-content: space-between;\n    align-items: center;\n    box-sizing: border-box;\n    /* margin-top: 10px; */\n  }\n  .MuiTableCell-body, .MuiTableCell-head {\n    font-family: "Inter", Arial, Helvetica, sans-serif;\n  }\n']))),X=Object(v.a)(Z.a)(M||(M=Object(p.a)(['\n  padding: 10px 20px !important;\n  box-shadow: none !important;\n  background: #008277 !important;\n  width: auto !important;   \n  font-weight: bold !important;\n  text-transform: capitalize !important;\n  font-size: 1rem !important;\n  font-family: "Inter", sans-serif !important;\n  &:hover {\n      background: #0b534d !important;\n    }\n  &.Mui-disabled {\n    color: #dbdbdb;    \n    background: #f0f0f0 !important;\n  }\n']))),$=Object(v.a)(X)(A||(A=Object(p.a)(["\n  padding: 10px 20px !important;\n  box-shadow: none !important;\n  color: #008277 !important;\n  border: 1px solid #008277 !important;\n  background: white !important;\n  width: auto !important;\n  text-transform: capitalize !important;\n  font-weight: bold !important;\n  &:hover {\n  background: white !important;\n      color: #0b534d !important;\n    }\n  &.Mui-disabled {\n    color: #dbdbdb;    \n    border: 1px solid #f0f0f0 !important;\n  }\n"]))),Q=n(24),ee=n(25),te=n(79);function ne(){ne=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),l=new O(a||[]);return r(o,"_invoke",{value:_(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var d={};function m(){}function f(){}function h(){}var p={};c(p,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(j([])));g&&g!==t&&n.call(g,i)&&(p=g);var b=h.prototype=m.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var c=u(e[a],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,l)}))}l(c.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function _(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=E(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return f.prototype=h,r(b,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:f,configurable:!0}),f.displayName=c(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(x.prototype),c(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new x(s(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(b),c(b,l,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var re=function(){function e(t){Object(Q.a)(this,e),this.reader=t,this.sim_in={steps:"100",default_start:"2023-01-01",min_ratio:"0.5",max_ratio:"1.5",lr:"0.005"},this.loss_weights={drtn_day:100,rsrc_max:0,rsrc_std:0,loss_task:0,loss_rsrc:0,loss_task_rsrc:0},this.results=[]}return Object(ee.a)(e,[{key:"init",value:function(){var e=this;return new Promise((function(t){e.ws=new WebSocket("wss://engine.frontline-optimizer.com"),e.ws.onopen=function(e){console.log("Optimization Engine connected!"),te.a.success("Optimization Engine connected!"),t()},e.ws.onclose=function(t){console.log("Optimization Engine disconnected!"),te.a.error("Optimization Engine disconnected!"),e.finishedCallback(e.results)},e.ws.onmessage=function(t){var n=JSON.parse(t.data.replace(/\bNaN\b/g,"null"));n.success&&te.a.success("Engine: "+n.success),n.error&&te.a.error("Engine: "+n.error),n.drtn_day&&(e.modify_output(n),e.results.push(n),e.results=[e.results[0]].concat(Object(u.a)(e.results.slice(1).sort((function(e,t){return t.loss_sum-e.loss_sum}))))),e.resultCallback(e.results)},e.ws.onerror=function(e){te.a.error("Optimization Engine connection error!")}}))}},{key:"modify_output",value:function(e){var t=0,n={},r={};Object.values(e.inp.tasks).forEach((function(e){e.drtn_hr_2=Math.round(e.drtn_hr_2),e.changed=e.drtn_hr!==e.drtn_hr_2,e.drtn_ratio=e.drtn_hr_2/e.drtn_hr,e.changed&&(t+=1),Object.values(e.rsrcs).forEach((function(e){n[e.id]=e})),Object.values(e.preds).forEach((function(e){r[e.id]=e}))})),Object.assign(e.inp,{task_preds:r,task_rsrcs:n}),e.num_changed=t,e.num_crt=e.crt_path.length,Object.values(e.inp.rsrcs).forEach((function(e){e.show_in_plot=!0}))}},{key:"debug_output",value:function(e){var t=e.inp,n=t.tasks,r=t.rsrcs,a=t.clndrs,i=t.task_preds,o=t.task_rsrcs;if(1===this.results.length){console.log(e);for(var l=0,c=[n,r,a,i,o];l<c.length;l++){var s=c[l];console.log(Object.values(s)[0])}}}},{key:"send",value:function(e){this.ws.send(JSON.stringify(e))}},{key:"stop",value:function(){var e=Object(G.a)(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.ws&&this.ws.close();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"optimize",value:function(){var e=Object(G.a)(ne().mark((function e(t,n){var r,a,i,o,l,c,s,u,d;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.resultCallback=t,this.finishedCallback=n,this.ws){e.next=7;break}return e.next=5,this.init();case 5:e.next=10;break;case 7:if(this.ws.readyState===this.ws.OPEN){e.next=10;break}return e.next=10,this.init();case 10:this.results=[],a=this.reader.data,i=a.tasks,o=a.rsrcs,l=a.clndrs,(null===(r=this.reader)||void 0===r?void 0:r.cons_data)&&(c=this.reader.cons_data,s=c.tasks_cons,u=c.rsrcs_cons,d=c.task_rsrc_cons,s.forEach((function(e){i[e.id].drtn_hr_rng=[e.min_drtn_hr,e.max_drtn_hr]})),u.forEach((function(e){o[e.id].rng=[0,e.max_units_per_day]})),d.forEach((function(e){i[e.t_id].rsrcs[e.r_id].units_rng=[e.min_units,e.max_units]}))),this.send({func:"optimize",tasks:i,rsrcs:o,clndrs:l,drtn_ratios:{},default_start:Date.parse(this.sim_in.default_start+"Z"),steps:parseInt(this.sim_in.steps),ratio_rng:[parseFloat(this.sim_in.min_ratio),parseFloat(this.sim_in.max_ratio)],lr:parseFloat(this.sim_in.lr),loss_weights:this.loss_weights});case 14:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),ae=n(40),ie=n(41),oe=n(136);function le(e){return e?new Date(e).toISOString().replace("T"," ").slice(0,16):""}function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"PT200H0M0S";return parseFloat(e.split("PT")[1].split("H")[0])}function se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"07:00:00";return Date.parse("1971-06-28T"+e)-Date.parse("1971-06-28T00:00:00")}function ue(e){return new Date(e).toISOString().split(".")[0]}function de(e){return"id_"+e}function me(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plaincharset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function fe(e){return e?Array.isArray(e)?e:[e]:[]}function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return e.forEach((function(e,r){return n[e]=t[r]})),n}var pe=function(){function e(){Object(Q.a)(this,e),this.dic={}}return Object(ee.a)(e,[{key:"size",get:function(){return ve(this.dic)}},{key:"list",get:function(){return Object.entries(this.dic).map((function(e){var t=Object(m.a)(e,2),n=t[0],r=t[1];return"".concat(n," (count: ").concat(r,")")}))}},{key:"add",value:function(e){e in this.dic||(this.dic[e]=0),this.dic[e]+=1}}]),e}();function ve(e){return Object.keys(e).length}var ge=n(38);function be(e){return new Promise((function(t){var n=new FileReader;n.onload=function(e){var n=ge.a(e.target.result,{type:"binary"}),r={};n.SheetNames.forEach((function(e){r[e]=ge.b.sheet_to_json(n.Sheets[e],{})})),t(r)},n.readAsBinaryString(e)}))}function ye(e){var t=e.book,n=e.filename,r=ge.b.book_new();Object.entries(t).forEach((function(e){var t=Object(m.a)(e,2),n=t[0],a=t[1],i=ge.b.json_to_sheet(Object.values(a));ge.b.book_append_sheet(r,i,n)})),ge.c(r,n)}function xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"string"===typeof t?t:e.includes("start")||e.includes("finish")?le(t):"number"===typeof t?e.includes("ratio")?t.toFixed(2):t.toFixed(0):null===t||!1===t?"":Array.isArray(t)&&t.length<3?JSON.stringify(t):"object"===typeof t?ve(t):JSON.stringify(t)}function _e(){_e=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),l=new O(a||[]);return r(o,"_invoke",{value:_(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var d={};function m(){}function f(){}function h(){}var p={};c(p,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(j([])));g&&g!==t&&n.call(g,i)&&(p=g);var b=h.prototype=m.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var c=u(e[a],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,l)}))}l(c.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function _(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=E(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return f.prototype=h,r(b,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:f,configurable:!0}),f.displayName=c(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(x.prototype),c(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new x(s(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(b),c(b,l,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var Ee,we,ke,Oe,je=function(){function e(){Object(Q.a)(this,e),this.errors=new pe}return Object(ee.a)(e,[{key:"read_from_file",value:function(){var e=Object(G.a)(_e().mark((function e(){var t,n,r=this,a=arguments;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:new File,this.filename=t.name,n=new FileReader,e.abrupt("return",new Promise((function(e){n.onload=function(t){var n=t.target.result.trim();r.parse_text(n),r.extract_data(),r.cons_data=r.make_constraints(),e(!0)},n.readAsText(t)})));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"parse_text",value:function(){}},{key:"extract_data",value:function(){}},{key:"merge_data",value:function(){}},{key:"export",value:function(){}},{key:"export_excel",value:function(e){for(var t,n=(t=e,JSON.parse(JSON.stringify(t))),r=n.tasks,a=n.rsrcs,i=n.clndrs,o=n.task_preds,l=n.task_rsrcs,c=0,s=[r,a,i,o,l];c<s.length;c++){var u=s[c];Object.values(u).forEach((function(e){Object.keys(e).forEach((function(t){e[t]=xe(t,e[t])}))}))}ye({book:{tasks:r,rsrcs:a,clndrs:i,task_preds:o,task_rsrcs:l},filename:this.filename.replace(".xml","_Frontline.xlsx").replace(".xer","_Frontline.xlsx")})}},{key:"make_constraints",value:function(){var e=this,t=[],n=[],r=[];return Object.values(this.data.tasks).forEach((function(n){var a=n.id,i=n.name,o=n.drtn_hr,l=n.clndr_id;t.push({id:a,name:i,drtn_hr:o,min_drtn_hr:null,max_drtn_hr:null,week_hr_cnt:e.data.clndrs[l].week_hr_cnt}),Object.values(n.rsrcs).forEach((function(t){var n=t.id,a=t.t_id,o=t.r_id,l=t.units;r.push({id:n,t_id:a,r_id:o,t_name:i,r_name:e.data.rsrcs[o].name,units:l,min_units:null,max_units:null})}))})),Object.values(this.data.rsrcs).forEach((function(e){var t=e.id,r=e.name,a=e.baseline_resource;n.push({id:t,name:r,max_units_per_day:null,cost_per_unit_hr:null,baseline_resource:a||null})})),{tasks_cons:t,rsrcs_cons:n,task_rsrc_cons:r}}},{key:"export_constraints",value:function(){var e=this.filename.replace(".xml","_Frontline_Cons.xlsx").replace(".xer","_Frontline_Cons.xlsx");ye({book:this.make_constraints(),filename:e})}},{key:"read_constraints",value:function(){var e=Object(G.a)(_e().mark((function e(t){return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.cons_filename=t.name,e.next=3,be(t);case 3:this.cons_data=e.sent;case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ne=function(e){Object(ae.a)(n,e);var t=Object(ie.a)(n);function n(){return Object(Q.a)(this,n),t.apply(this,arguments)}return Object(ee.a)(n,[{key:"parse_text",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new oe.XMLParser({ignoreAttributes:!1});this.raw_data=t.parse(e)}},{key:"extract_data",value:function(){var e,t=this,n={},r={},a={"id_-1":{id:"id_-1",name:"standard 5x(4+4)",week_hr_cnt:40}},i=this.raw_data.Project,o={};i.Tasks.Task.forEach((function(e){var t=de(e.UID),n=e.Summary,r=e.Name;o[t]={is_summary:n,name:r}})),i.Tasks.Task.forEach((function(e){var r=de(e.UID),a=e.Name,i=Date.parse(e.Start+"Z"),l=Date.parse(e.Finish+"Z"),c=ce(e.Duration),s=Date.parse(e.ActualStart+"Z"),u=Date.parse(e.ActualFinish+"Z"),d=de(e.CalendarUID),m={};fe(e.PredecessorLink).forEach((function(e){var n=de(e.PredecessorUID),i={0:"FF",1:"FS",2:"SF",3:"SS"}[e.Type],l=e.LinkLag/600,c=o[n];if(c.is_summary){var s="ignoring RELATIONSHIP between `".concat(c.name,"` and `").concat(a,"` because the former is a summary");t.errors.add(s)}else m[n]={id:r+"-"+n,t_id:r,p_id:n,type:i,lag_hr:l}})),o[r].is_summary||(n[r]={id:r,name:a,start:i,finish:l,drtn_hr:c,act_start:s,act_finish:u,preds:m,rsrcs:{},clndr_id:d})})),fe(i.Resources.Resource).forEach((function(e){var t=de(e.UID),n=e.Name,a=["Material","Work","Cost"][e.Type];a={Work:"Labor",Material:"Material",Cost:"Cost"}[a],r[t]={id:t,name:n,type:a,dist:{}}})),i.Calendars.Calendar.forEach((function(e){var t=de(e.UID),n=e.Name,r=0;e.WeekDays&&e.WeekDays.WeekDay.forEach((function(e){var t;[null,"Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.DayType]&&fe(null===(t=e.WorkingTimes)||void 0===t?void 0:t.WorkingTime).forEach((function(e){var t=(se(e.ToTime)-se(e.FromTime))/36e5;t<0&&(t+=24),r+=t}))})),a[t]={id:t,name:n,week_hr_cnt:r}})),(null===(e=i.Assignments)||void 0===e?void 0:e.Assignment)&&i.Assignments.Assignment.forEach((function(e){if(e.Work){var a=de(e.UID),i=de(e.TaskUID),o=de(e.ResourceUID);if(r[o]){var l=ce(e.Work),c=l/n[i].drtn_hr;n[i].rsrcs[o]={id:a,t_id:i,r_id:o,work_hr:l,units:c}}else t.errors.add("unknown resource `".concat(o,"` in resource assignment"))}})),this.data={tasks:n,rsrcs:r,clndrs:a}}},{key:"merge_data",value:function(e){var t=this.raw_data.Project;t.Tasks.Task.forEach((function(t){if(!t.Summary){var n=de(t.UID),r=e.tasks[n];t.Start=t.EarlyStart=t.LateStart=ue(r.start_2),t.Finish=t.EarlyFinish=t.LateFinish=ue(r.finish_2),t.Duration=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"PT"+e+"H0M0S"}(r.drtn_hr_2),t.act_start&&t.act_finish&&(t.ActualDuration=t.Duration)}})),t.Assignments.Assignment.forEach((function(t){if(t.Work){var n=de(t.UID),r=e.task_rsrcs[n];r&&(t.PeekUnits=r.units_2)}}))}},{key:"export",value:function(){var e=new oe.XMLBuilder({ignoreAttributes:!1}).build(this.raw_data);me(this.filename.replace(".xml","_Frontline.xml"),e)}}]),n}(je),Le=function(e){Object(ae.a)(n,e);var t=Object(ie.a)(n);function n(){return Object(Q.a)(this,n),t.apply(this,arguments)}return Object(ee.a)(n,[{key:"parse_text",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n={tables:{}},r=[];t.split("\n").forEach((function(t){var a=t.split("\t").map((function(e){return e.trim()})),i=a[0],o=a.slice(1);switch(i){case"ERMHDR":n.header=o;break;case"%T":r=n.tables[a[1]]=[];break;case"%F":e=o;break;case"%R":r.push(he(e,o));break;case"%E":break;default:console.error(i)}})),this.raw_data=n}},{key:"extract_data",value:function(){var e=this,t={},n={},r={},a=this.raw_data.tables,i={};a.TASK.forEach((function(e){var n=de(e.task_id),r=e.task_name,a=Date.parse(e.target_start_date+"Z"),o=Date.parse(e.target_end_date+"Z"),l=parseFloat(e.target_drtn_hr_cnt),c=Date.parse(e.act_start_date+"Z"),s=Date.parse(e.act_end_date+"Z"),u=de(e.clndr_id),d=e.task_code;i[n]=d,t[n]={id:n,name:r,start:a,finish:o,drtn_hr:l,act_start:c,act_finish:s,preds:{},rsrcs:{},clndr_id:u,task_code:d}})),a.RSRC&&a.RSRC.forEach((function(e){var t=de(e.rsrc_id),r=e.rsrc_name,a=e.rsrc_type.slice(3);a={Labor:"Labor",Equip:"Equipment",Mat:"Material"}[a],n[t]={id:t,name:r,type:a,dist:{}}})),a.CALENDAR.forEach((function(e){var t=de(e.clndr_id),n=e.clndr_name,a=parseFloat(e.week_hr_cnt);r[t]={id:t,name:n,week_hr_cnt:a}})),a.TASKPRED.forEach((function(e){var n=de(e.task_pred_id),r=de(e.task_id),a=de(e.pred_task_id),i=e.pred_type.slice(3),o=parseFloat(e.lag_hr_cnt);t[r].preds[a]={id:n,t_id:r,p_id:a,type:i,lag_hr:o}})),a.TASKRSRC&&(a.TASKRSRC.forEach((function(n){var r=de(n.taskrsrc_id),a=de(n.task_id),o=i[a],l=de(n.rsrc_id),c=parseFloat(n.target_qty),s=c/t[a].drtn_hr;if(t[a].rsrcs[l])return e.errors.add("removed duplicate assignment between task `".concat(a,"` and resource `").concat(l,"`")),void(n.DELETE=!0);t[a].rsrcs[l]={id:r,t_id:a,t_code:o,r_id:l,work_hr:c,units:s}})),a.TASKRSRC=a.TASKRSRC.filter((function(e){return!e.DELETE}))),this.data={tasks:t,rsrcs:n,clndrs:r}}},{key:"merge_data",value:function(e){var t=this.raw_data.tables;t.TASK.forEach((function(t){var n=de(t.task_id),r=e.tasks[n];t.target_start_date=t.early_start_date=t.late_start_date=le(r.start_2),t.target_end_date=t.early_end_date=t.late_end_date=le(r.finish_2),t.target_drtn_hr_cnt=r.drtn_hr_2})),t.TASKRSRC&&t.TASKRSRC.forEach((function(t){var n=de(t.taskrsrc_id),r=e.task_rsrcs[n];t.target_qty_per_hr=r.units_2}))}},{key:"export",value:function(){var e=[];e.push(["ERMHDR"].concat(Object(u.a)(this.raw_data.header)).join("\t"));var t=this.raw_data.tables;Object.entries(t).forEach((function(t){var n=Object(m.a)(t,2),r=n[0],a=n[1];e.push(["%T",r].join("\t")),e.push(["%F"].concat(Object(u.a)(Object.keys(a[0]))).join("\t")),a.forEach((function(t){e.push(["%R"].concat(Object(u.a)(Object.values(t))).join("\t"))}))})),e.push("%E"),me(this.filename.replace(".xer","_Frontline.xer"),e.join("\n"))}}]),n}(je),ze=n(419),Se=n(436),Pe=v.a.div(Ee||(Ee=Object(p.a)(["\n    background: #ffffff;\n    padding: 1px 20px 20px;\n"]))),Re=v.a.div(we||(we=Object(p.a)(["\n  width: 100%;\n  .upload-file {\n    /* width: 100%; */\n    margin: 20px 0;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    color: #008277;\n    font-weight: 700;\n    button, input {\n      /* width: 100% !important; */\n      justify-content: flex-start;\n      font-family: \"Inter\", sans-serif;\n    }\n    label {\n      font-weight: 700 !important;\n      svg {\n        margin-right: 8px;\n      }\n    }\n    .upload-button {\n      background: #008277;\n      color: #FFFFFF;\n      border: 1px transparent;\n      padding: 10px 20px;\n      text-align: center;\n      margin-right: 20px;\n      border-radius: 6px;\n      cursor: pointer;\n      &:hover {\n        background: #0b534d;\n      }\n      &.second-upload {\n        color: #008277;\n        background: transparent;\n        border: 1px solid;\n        &:hover {\n          color: #0b534d;\n        }\n      }\n    }\n  }\n  .optimization-input {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    .section {\n      width: 100%;\n      display: flex;\n      margin: 10px 0;\n      min-height: 50px;\n      display: flex-start !important;\n      justify-content: space-between;\n      position: relative;\n      &.disabled {\n        opacity: 0.3;\n      }\n      &:last-of-type {\n        &:after {\n          height: 0;\n        }\n      }\n      &:after {\n        content: '';\n        position: absolute;\n        background: #eeeeee;\n        bottom: 0;\n        left: 0;\n        width: 100%;\n        height: 1px;\n      }\n      .intro {\n        width: 40%;\n        h2 {\n          margin: 0;\n          font-size: 18px;\n          font-weight: 500;\n        }\n        h3 {\n          margin: 0;\n          color: #888888;\n          font-weight: 300;\n          font-size: 16px;\n          line-height: 16px;\n        }\n      }\n      .input-wrapper {\n        width: 60%;\n        .inputs {\n          margin: 0 0 20px;\n          display: flex;\n          justify-content: space-between;\n        }\n      }\n      label {\n         margin-bottom: 0px;\n         font-weight: 400;\n         display: flex;\n         align-items: center;\n        svg {\n          margin-left: 5px;\n          width: 18px;\n        }\n      }\n      .MuiSlider-colorPrimary {\n        color: #00A597;\n        margin: 15px 0;\n      }\n      .MuiInput-root {\n        margin: 6px 0;\n        border: 1px solid #f2f2f2;\n        &.Mui-focused {\n          border: 1px solid #00beae;\n          background: #ffffff;\n        }\n        &:after {\n          border: 0;\n        }\n      }\n      .MuiFormControl-root {\n        width: 45%;\n        margin-right: 50px;\n      }\n    }\n  }\n"]))),Ce=Object(v.a)(ze.a)(ke||(ke=Object(p.a)(['\n  .MuiBox-root {\n    background: #f2f2f2;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    .loader {\n      width: 64px;\n      height: 64px;\n      background: linear-gradient(180deg, #002F2B 0%, rgba(0, 0, 0, 0.1) 25%);\n      border-radius: 50%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      position: relative;\n      animation: spin 1s linear infinite;\n      margin: 0 0 15px;\n    }\n    .loader::after {\n      content: "";\n      width: calc(100% - 4px);\n      height: calc(100% - 4px);\n      border-radius: 50%;\n      background: #f2f2f2;\n    }\n    @keyframes spin {\n      100% {\n        transform: rotate(360deg);\n      }\n    }\n    .title {\n      font-size: 20px;\n      font-family: "Nunito", sans-serif;\n      font-weight: 500;\n      margin: 0 0 15px;\n    }\n    span {\n      color: #696969;\n    }\n    &:focus-visible {\n      outline: none;\n    }\n}\n']))),Fe=Object(v.a)(Se.a)(Oe||(Oe=Object(p.a)(["\n  background: #f2f2f2;\n  border-radius: 6px;\n  padding: 4px 8px;\n  &:before {\n    border: 0 !important;\n  }\n"])));function Te(){Te=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),l=new O(a||[]);return r(o,"_invoke",{value:_(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var d={};function m(){}function f(){}function h(){}var p={};c(p,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(j([])));g&&g!==t&&n.call(g,i)&&(p=g);var b=h.prototype=m.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var c=u(e[a],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,l)}))}l(c.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function _(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=E(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return f.prototype=h,r(b,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:f,configurable:!0}),f.displayName=c(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(x.prototype),c(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new x(s(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(b),c(b,l,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var Ie={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,p:3},De=[{value:0,label:"0%"},{value:100,label:"100%"},{value:200,label:"200%"}],Me=[{value:0,label:"0"},{value:50,label:"50"},{value:100,label:"100"}];function Ae(e){var t,n,r,a=e.fileName,l=e.setFileName,c=e.constraintsFileName,s=e.setConstraintsFileName,u=e.project,d=e.updateProject,f=e.goNext,h=Object(i.useState)(!1),p=Object(m.a)(h,2),v=p[0],g=p[1],b=Object(i.useState)(!!(null===u||void 0===u?void 0:u.fileReader)),y=Object(m.a)(b,2),x=y[0],_=y[1],E=Object(i.useState)((null===u||void 0===u||null===(t=u.optimizer)||void 0===t?void 0:t.sim_in)?[Math.ceil(100*u.optimizer.sim_in.min_ratio),Math.ceil(100*u.optimizer.sim_in.max_ratio)]:[50,150]),w=Object(m.a)(E,2),k=w[0],O=w[1],j=Object(i.useState)((null===u||void 0===u||null===(n=u.optimizer)||void 0===n?void 0:n.sim_in)?u.optimizer.sim_in.steps:100),N=Object(m.a)(j,2),L=N[0],z=N[1],S=new Date,P=Object(i.useState)((null===u||void 0===u||null===(r=u.optimizer)||void 0===r?void 0:r.sim_in)?u.optimizer.sim_in.default_start:S.toISOString().slice(0,10)),R=Object(m.a)(P,2),C=R[0],F=R[1];function T(e,t){var n;g(!0),e.name.endsWith("xer")?n=new Le:e.name.endsWith("xml")&&(n=new Ne),n.read_from_file(e).then(function(){var r=Object(G.a)(Te().mark((function r(a){var i;return Te().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((i=new re(n)).sim_in.steps=1,!i.init){r.next=5;break}return r.next=5,i.init();case 5:i.optimize((function(){}),(function(r){l(e.name),g(!1),i.baseline_result=r[0],i.sim_in.steps=L,Object.keys(n.data.rsrcs).forEach((function(e){return n.data.rsrcs[e].baseline_resource=r[0].inp.rsrcs[e].max})),d({fileReader:n,optimizer:i,isDemo:t}),_(!0)}));case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}return Object(i.useEffect)((function(){var e;(null===u||void 0===u||null===(e=u.optimizer)||void 0===e?void 0:e.sim_in)&&(u.optimizer.sim_in.default_start=C),d(u)}),[C]),Object(i.useEffect)((function(){var e;(null===u||void 0===u||null===(e=u.optimizer)||void 0===e?void 0:e.sim_in)&&(u.optimizer.sim_in.steps=L),d(u)}),[L]),Object(i.useEffect)((function(){var e;(null===u||void 0===u||null===(e=u.optimizer)||void 0===e?void 0:e.sim_in)&&(u.optimizer.sim_in.min_ratio=k[0]/100,u.optimizer.sim_in.max_ratio=k[1]/100),d(u)}),[k]),o.a.createElement(Pe,null,o.a.createElement("h2",null,"Upload schedule and enter optimization settings"),o.a.createElement(Re,null,o.a.createElement("div",{className:"optimization-input"},o.a.createElement("div",{className:"section"},o.a.createElement("div",{className:"intro"},o.a.createElement("h2",null,"Schedule"),o.a.createElement("h3",null,"Upload your schedule,  accepted file formats are: .xer or .xml")),o.a.createElement("div",{className:"input-wrapper"},o.a.createElement("div",{className:"inputs",style:{alignItems:"center"}},o.a.createElement("div",{className:"upload-file"},o.a.createElement("input",{hidden:!0,type:"file",id:"project-file",name:"project",onChange:function(e){T(e.target.files[0],!1)},accept:".xer,.xml"}),o.a.createElement("label",{className:"upload-button",htmlFor:"project-file"},o.a.createElement(K.a,null)," Upload file"),o.a.createElement("span",null,a)),o.a.createElement("span",null,"or ",o.a.createElement("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){fetch("/demo_project.xml").then((function(e){return e.blob()})).then((function(e){T(new File([e],"demo_project.xml"),!0)}))}}," use a demo project"))))),o.a.createElement("div",{className:"section ".concat(x?"":"disabled")},o.a.createElement("div",{className:"intro"},o.a.createElement("h2",null,"Constraints"),o.a.createElement("h3",null,"Upload your constraints (",o.a.createElement("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){u.fileReader.export_constraints()}},"download template"),")")),o.a.createElement("div",{className:"input-wrapper"},o.a.createElement("div",{className:"inputs"},o.a.createElement("div",{className:"upload-file"},o.a.createElement("input",{hidden:!0,type:"file",id:"constraints-file",name:"constraints",onChange:function(e){var t;t=e.target.files[0],(null===u||void 0===u?void 0:u.fileReader)&&(s(t.name),u.fileReader.read_constraints(t),d(u))},accept:".xls,.xlsx"}),o.a.createElement("label",{className:"upload-button  second-upload",htmlFor:"constraints-file"},o.a.createElement(K.a,null)," Upload file"),o.a.createElement("span",null,c))))),o.a.createElement("div",{className:"section ".concat(x?"":"disabled")},o.a.createElement("div",{className:"intro"},o.a.createElement("h2",null,"Optimization Settings"),o.a.createElement("h3",null,"Customize your optimization results")),o.a.createElement("div",{className:"input-wrapper"},o.a.createElement("div",{className:"inputs"},o.a.createElement(B.a,null,o.a.createElement("label",null,"Default Start Date"),o.a.createElement(Fe,{type:"date",defaultValue:C,onChange:function(e){return F(e.target.value)},id:"start-date",placeholder:"eg: 2023-10-19",variant:"outlined",disabled:!x}),o.a.createElement("small",null,"Please enter commencement date")),o.a.createElement(B.a,null,o.a.createElement("label",null,"Learning Rate ",o.a.createElement(U.a,{title:o.a.createElement("div",{style:{fontSize:"13px",fontFamily:"Inter"}},"The learning rate is a tuning parameter in an optimization algorithm that determines the step size at each iteration while moving toward a minimum of a loss function.")},o.a.createElement(J.a,null))),o.a.createElement(Fe,{id:"start-date",defaultValue:.5,placeholder:"eg: 0.005",variant:"outlined",disabled:!x}))),o.a.createElement("div",{className:"inputs"},o.a.createElement(B.a,{style:{width:"100%"}},o.a.createElement("label",null,"Optimization Ratio ",k?o.a.createElement(o.a.Fragment,null,"(",k[0].toString(),"% - ",k[1].toString(),"%)"):"",o.a.createElement(U.a,{title:o.a.createElement("div",{style:{fontSize:"13px",fontFamily:"Inter"}},"Ratio = New Duration over Baseline Duration")},o.a.createElement(J.a,null))),o.a.createElement(q.a,{id:"optimization-ratio",step:5,min:0,max:200,valueLabelDisplay:"auto",getAriaLabel:function(){return"Optimization Ratio"},value:k,marks:De,onChange:function(e){return O(e.target.value)},disabled:!x}))),o.a.createElement("div",{className:"inputs"},o.a.createElement(B.a,{style:{width:"100%"}},o.a.createElement("label",null,"Optimization Steps (",L.toString(),")"),o.a.createElement(q.a,{id:"optimization-steps","aria-label":"optimization-steps",value:L,onChange:function(e){return z(e.target.value)},step:1,min:0,max:100,marks:Me,valueLabelDisplay:"auto",disabled:!x})))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",null),o.a.createElement(X,{variant:"contained",onClick:f,disabled:!x},"Next")),o.a.createElement(Ce,{open:v,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},o.a.createElement(W.a,{sx:Ie},o.a.createElement("div",{className:"loader"}," "),o.a.createElement("div",{className:"title",id:"modal-modal-title"},"Uploading data..."),o.a.createElement("span",null,"Please wait. This action may take up to a few minutes depending on the size of your file.")))))}var Ge=n(429),Be=n(438),Ue=n(421),qe=n(18);function We(e){var t=e.margin,n=void 0===t?40:t,r=e.x_domain,a=e.y_domain,i=e.width,o=e.height,l=e.ref,c=e.x_label,s=e.y_label,u=e.x_type,d=void 0===u?qe.f:u,m=e.y_type,f=void 0===m?qe.f:m,h=n,p=i-n,v=n,g=o-n,b=d(r,[h,p]),y=f(a,[g,v]),x=qe.j(l.current).attr("width",i).attr("height",o);x.selectChildren().remove(),x.append("g").call(qe.a(b)).attr("transform","translate(0, ".concat(g,")")).call((function(e){e.append("text").attr("x",i/2).attr("y",40).attr("fill","#2d2d2d").attr("font-size",16).attr("text-align","right").text(c)})),x.append("g").call(qe.d(b).tickValues([])).attr("transform","translate(0, ".concat(v,")")),x.append("g").call(qe.b(y)).attr("transform","translate(".concat(h,", 0)")).call((function(e){e.append("text").attr("text-anchor","end").attr("y",30).attr("x",-30).attr("fill","#2d2d2d").attr("font-size",16).text(s).attr("text-anchor","start")})),x.append("g").call(qe.c(y).tickValues([])).attr("transform","translate(".concat(p,", 0)"));var _=qe.a().scale(b).tickFormat("").tickSizeInner(o-2*n);x.append("g").attr("class","x-grid").attr("transform","translate(0, ".concat(v,")")).style("opacity",.3).style("stroke-dasharray","3, 3").call(_);var E=qe.b().scale(y).tickFormat("").tickSizeInner(2*n-i);return x.append("g").attr("class","x-grid").attr("transform","translate(".concat(h,", 0)")).style("opacity",.3).style("stroke-dasharray","3, 3").call(E),{svg:x,x_scale:b,y_scale:y}}function Ye(e,t,n,r){var a=(e[1]-e[0])*n,i=(t[1]-t[0])*r;return{x_domain:[e[0]-a,e[1]+a],y_domain:[t[0]-i,t[1]+i]}}var Je,Ve,Ke={TaskPlot:{optimizedTask:"#82B5C7",optimizedCriticalTask:"#e6171799",baselineTask:"#CCCCCC",baselineCriticalTask:"#e6a7a7"},ResourcePlot:{allResources:["#55CBCD98","#f7dc5b98","#FFAEA598","#82B5C798","#939ce398","#AABB5D98","#BAA19098","#db793098","#099A4D98","#f07e9398"]}};function Ze(e){return Object.keys(e).length}function He(e,t){var n=[];if(e.length>t)for(var r=Math.floor(e.length/t),a=0;a<t;a++)n.push(e[a*r]);else n=e;return n}function Xe(e){var t=e.tasks,n=e.baselineTasks,r=e.width,a=e.height,l=e.color,c=e.keep,s=void 0===c?400:c,d=Object(i.useRef)();if(Object(i.useEffect)((function(){if(n&&Ze(n)&&(t||!Ze(t))){var e=Object.values(t).sort((function(e,t){return e.start_2-t.start_2})),i=Object.values(n).sort((function(e,t){return e.start_2-t.start_2}));e.length>s&&(e=e.filter((function(e){return e.critical})),i=i.filter((function(e){return e.critical})));var o=[Math.min.apply(Math,Object(u.a)(e.map((function(e){return e.start_2})))),Math.max.apply(Math,Object(u.a)(e.map((function(e){return e.finish_2}))))],c=[Math.min.apply(Math,Object(u.a)(i.map((function(e){return e.start_2})))),Math.max.apply(Math,Object(u.a)(i.map((function(e){return e.finish_2}))))],m=[Math.min(o[0],c[0]),Math.max(o[1],c[1])];e=He(e,s),i=He(i,s);var f=[e.length,0],h=[i.length,0],p=We({margin:40,x_domain:m,y_domain:[Math.max(f[0],h[0]),Math.min(f[1],h[1])],width:r||560,height:a||500,ref:d,x_type:qe.h,y_type:qe.f}),v=p.svg,g=p.x_scale,b=p.y_scale;v.append("g").selectAll("rect").data(i).join("rect").attr("x",(function(e){return g(e.start_2)})).attr("y",(function(e,t){return b(t)})).attr("width",(function(e){return Math.max(g(e.finish_2)-g(e.start_2),0)})).attr("height",b(1)-b(0)).attr("fill",(function(e){return e.critical&&Ze(n)<=s?Ke.TaskPlot.baselineCriticalTask:Ke.TaskPlot.baselineTask})),v.append("g").selectAll("rect").data(e).join("rect").attr("x",(function(e){return g(e.start_2)})).attr("y",(function(e,t){return b(t)})).attr("width",(function(e){return Math.max(g(e.finish_2)-g(e.start_2),0)})).attr("height",b(1)-b(0)).attr("fill",(function(e){return e.critical&&Ze(t)<=s?Ke.TaskPlot.optimizedCriticalTask:l||Ke.TaskPlot.optimizedTask}))}}),[t]),!n||!Ze(n)||!t&&Ze(t))return null;var m=Ze(t)>s?"showing up to 400 critical tasks only due to limited pixels":"";return o.a.createElement(o.a.Fragment,null,o.a.createElement("br",null),o.a.createElement(o.a.Fragment,null,m),o.a.createElement("svg",{ref:d}))}function $e(e){var t=e.results,n=void 0===t?[]:t,r=e.optimizer,a=e.optimizationPresets,l=e.selectedPreset,c=e.selectedResultIndex,s=void 0===c?-1:c,u=e.width,d=void 0===u?550:u,m=e.height,f=void 0===m?500:m,h=e.k,p=e.x_label,v=e.y_label,g=e.onClick,b=Object(i.useRef)();return Object(i.useEffect)((function(){if(!(null===n||void 0===n?void 0:n.length))return null;var e=[r.baseline_result];Object.values(a).forEach((function(t){t.optimizer.results.length>0&&(e=e.concat(t.optimizer.results))}));var t=Ye(qe.e(e.map((function(e){return e.drtn_day}))),qe.e(e.map((function(e){return e[h]}))),.15,.15),i=We({x_domain:t.x_domain,y_domain:t.y_domain,margin:50,width:d,height:f,ref:b,x_label:p,y_label:v,x_type:qe.f,y_type:qe.f}),o=i.svg,c=i.x_scale,u=i.y_scale;o.append("g").selectAll("circle").data([r.baseline_result]).join("circle").attr("cx",(function(e){return c(e.drtn_day)})).attr("cy",(function(e){return u(e[h])})).attr("r",(function(e){return 6})).attr("fill","#cccccc"),Object.keys(a).forEach((function(e){var t=a[e],n=o.append("g");for(var r in t.optimizer.results)t.optimizer.results[r].index=parseInt(r);n.selectAll("circle").data(t.optimizer.results).join("circle").attr("cx",(function(e){return c(e.drtn_day)})).attr("cy",(function(e){return u(e[h])})).attr("r",(function(e,n){return 0===n?0:n===t.optimizer.sim_in.steps-1?6:2})).attr("fill-opacity",(function(e,n){return n/t.optimizer.results.length})).style("stroke",(function(t,n){return s===t.index&&l===e?"#e61717":void 0})).attr("stroke-width",(function(t,n){return s===t.index&&l===e?2:0})).attr("fill",t.color).on("click",(function(t,n){g(e,n.index)})).style("cursor","pointer")}))}),[n]),(null===n||void 0===n?void 0:n.length)?o.a.createElement("svg",{ref:b}):null}var Qe=v.a.div(Je||(Je=Object(p.a)(['\n  width: 100%;\n  .summary {\n    width: 100%;\n    display: inline-flex;\n    justify-content: space-between;\n    background: #fbfbfb;\n    margin: 0px 0 20px;\n    .stats {\n      padding: 25px;\n      width: 20%;\n      display: flex;\n      flex-direction: column;\n      position: relative;\n      &:last-child {\n        &:after {\n          width: 0px;\n        }\n      }\n      &:after {\n        content: \'\';\n        height: 65px;\n        width: 1px;\n        background: #eeeeee;\n        position: absolute;\n        right: 0;\n        top: calc(50% - 32px);\n      }\n      .title {\n        display: flex;\n        align-items: center;\n        svg {\n          margin-left: 5px;\n          width: 18px;\n        }\n      }\n      .figure {\n        display: inline-flex;\n        margin: 16px 0;\n        align-items: baseline;\n        .numbers {\n          font-family: "Lato", sans-serif;\n          font-size: 40px;\n          color: #000000;\n          font-weight: 700;\n          margin-right: 10px;\n        }\n        .baseline-stats {\n            font-family: "Lato", sans-serif;\n            font-size: 28px;\n            color: #999999;\n            font-weight: 700;\n         }\n      }\n      .badge {\n          padding: 3px 10px;\n          font-size: 12px;\n          font-weight: 700;\n          border-radius: 8px;\n          width: 50px;\n          display: flex;\n          align-items: center;\n          svg {\n            margin-right: 5px;\n          }\n          &.plus {\n            background: #e2f5e2;\n            color: #499249;\n          }\n          &.minus {\n            background: #feeaea;\n            color: #ff4d4d;\n          }\n        }\n    }\n  }\n']))),et=v.a.div(Ve||(Ve=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 20px;\n  width: 100%;\n  /* background: #ffffff; */\n  /* padding: 30px 20px; */\n  box-sizing: border-box;\n  .chart { \n    width: 49%;\n    .section {\n      margin-bottom: 20px;\n      background: #ffffff;\n      padding: 20px;\n    }\n  }\n  .presets {\n    width: 47%;\n    background: #ffffff;\n    padding: 20px;\n  }\n"])));function tt(e){var t,n,r,a,i,l,c,s,m,f,h,p,v,g,b=e.optimizer,y=e.optimizationPresets,x=e.selectedPreset,_=e.selectedResultIndex,E=e.handleSelectPreset,w=e.handleSelectResultIndex,k=e.goNext,O=Object.keys(y).filter((function(e){var t,n;return null===(t=y[e])||void 0===t||null===(n=t.optimizer)||void 0===n?void 0:n.optimizing})).map((function(e){return e}))[0];null===(t=y.balanced)||void 0===t||null===(n=t.optimizer)||void 0===n||null===(r=n.results)||void 0===r||r.length;return o.a.createElement(Qe,null,o.a.createElement("h2",null,"Baseline Summary"),o.a.createElement("div",{className:"summary"},o.a.createElement("div",{className:"stats"},o.a.createElement("div",{className:"title"},"Project Duration (days)"),o.a.createElement("div",{className:"figure"},o.a.createElement("div",{className:"numbers"},Math.round(null===b||void 0===b||null===(a=b.baseline_result)||void 0===a?void 0:a.drtn_day)," "))),o.a.createElement("div",{className:"stats"},o.a.createElement("div",{className:"title"},"Resources"),o.a.createElement("div",{className:"figure"},o.a.createElement("div",{className:"numbers"},Math.round(null===b||void 0===b||null===(i=b.baseline_result)||void 0===i?void 0:i.rsrc_max)," "))),o.a.createElement("div",{className:"stats"},o.a.createElement("div",{className:"title"},"Tasks"),o.a.createElement("div",{className:"figure"},o.a.createElement("div",{className:"numbers"},Object.values(null===b||void 0===b||null===(l=b.baseline_result)||void 0===l||null===(c=l.inp)||void 0===c?void 0:c.tasks).length))),o.a.createElement("div",{className:"stats"},o.a.createElement("div",{className:"title"},"Tasks on Critical Path"),o.a.createElement("div",{className:"figure"},o.a.createElement("div",{className:"numbers"},Math.round(null===b||void 0===b||null===(s=b.baseline_result)||void 0===s?void 0:s.num_crt),"  ")))),b?o.a.createElement(et,null,o.a.createElement("div",{className:"chart"},o.a.createElement("div",{className:"section"},o.a.createElement("h3",null,"Comparison Chart"),o.a.createElement("div",{className:"legend"},o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#cccccc",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Baseline")),Object.keys(y).map((function(e){return o.a.createElement("div",{key:e,className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:y[e].color,marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,y[e].label))}))),o.a.createElement($e,{results:[].concat(Object(u.a)(Object.keys(y).filter((function(e){var t,n;return(null===(t=y[e])||void 0===t||null===(n=t.optimizer)||void 0===n?void 0:n.results.length)>0})).map((function(e){var t,n,r;return Object(d.a)({},null===(t=y[e])||void 0===t||null===(n=t.optimizer)||void 0===n||null===(r=n.results)||void 0===r?void 0:r.at(-1))}))||[]),[Object(d.a)(Object(d.a)({},b.baseline_result),{},{option:"baseline"})]),optimizer:b,optimizationPresets:y,selectedPreset:x,selectedResultIndex:_,k:"rsrc_max",x_label:"Duration (days)",y_label:"Maximum Resource (units)",title:"Maximum of combined resources VS Project duration",onClick:function(e,t){E(e),w(t)}}))),o.a.createElement("div",{className:"chart"},y?o.a.createElement("div",{className:"section"},O?o.a.createElement("h3",null,"Currently optimizing for ",y[O].label,"......"):o.a.createElement("h3",null,"Optimization result for ",y[x].label),o.a.createElement("div",{className:"legend"},o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:y[O||x].color,marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,y[O||x].label)),o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#cccccc",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Baseline")),Ze((null===(m=y[O||x].optimizer.results.at(-1))||void 0===m||null===(f=m.inp)||void 0===f?void 0:f.tasks)||{})<=400?o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#e61717",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Critical Path")):o.a.createElement(o.a.Fragment,null)),O?o.a.createElement(Xe,{tasks:(null===(h=y[O].optimizer.results.at(-1))||void 0===h?void 0:h.inp.tasks)||[],width:"550",height:"300",color:y[O].color,baselineTasks:null===(p=b.baseline_result)||void 0===p?void 0:p.inp.tasks,title:"Tasks (Overview)"}):o.a.createElement(Xe,{tasks:(null===(v=y[x].optimizer.results.at(_))||void 0===v?void 0:v.inp.tasks)||[],width:"550",height:"300",color:y[x].color,baselineTasks:null===(g=b.baseline_result)||void 0===g?void 0:g.inp.tasks,title:"Tasks (Overview)"})):null,o.a.createElement("div",{className:"section"},o.a.createElement("h3",null,"Optimization Presets"),o.a.createElement("p",null,"These available presets are pre-configured settings that are designed to deliver the best performance or quality for each individual specific use case."),o.a.createElement("p",null,"Please select from one of the following options to generate your optimized report: "),o.a.createElement(B.a,{component:"fieldset"},o.a.createElement(Ge.a,{value:x,onChange:function(e){E(e.target.value),w(y[e.target.value].optimizer.results.length-1)}},Object.keys(y).map((function(e){var t,n,r;return o.a.createElement("div",{key:e,className:"row"},o.a.createElement(Be.a,{disabled:0===(null===(t=y[e])||void 0===t||null===(n=t.optimizer)||void 0===n||null===(r=n.results)||void 0===r?void 0:r.length),value:e,control:o.a.createElement(Ue.a,null),label:y[e].label}),o.a.createElement(U.a,{title:o.a.createElement("div",{style:{fontSize:"13px",fontFamily:"Inter"}},y[e].description)},o.a.createElement(J.a,null)))})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",null),o.a.createElement(X,{variant:"contained",onClick:k},"View Optimized Summary"))))):"")}var nt,rt,at,it=n(439),ot=n(430),lt=v.a.div(nt||(nt=Object(p.a)(['\n  width: 100%;\n  .summary {\n    width: 100%;\n    display: inline-flex;\n    justify-content: space-between;\n    background: #fbfbfb;\n    margin: 0 0 30px;\n    .stats {\n      padding: 25px;\n      width: 20%;\n      display: flex;\n      flex-direction: column;\n      position: relative;\n      &:last-child {\n        &:after {\n          width: 0px;\n        }\n      }\n      &:after {\n        content: \'\';\n        height: 65px;\n        width: 1px;\n        background: #eeeeee;\n        position: absolute;\n        right: 0;\n        top: calc(50% - 32px);\n      }\n      .title {\n        display: flex;\n        align-items: center;\n        svg {\n          margin-left: 5px;\n          width: 18px;\n        }\n      }\n      .figure {\n        display: inline-flex;\n        margin: 16px 0;\n        align-items: baseline;\n        .numbers {\n          font-family: "Lato", sans-serif;\n          font-size: 40px;\n          color: #000000;\n          font-weight: 700;\n          margin-right: 10px;\n        }\n        .baseline-stats {\n            font-family: "Lato", sans-serif;\n            font-size: 28px;\n            color: #999999;\n            font-weight: 700;\n         }\n      }\n      .badge {\n          font-size: 12px;\n          font-weight: 700;\n          border-radius: 8px;\n          font-family: "Lato";\n          width: 60px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          background: #f2f2f2;\n          svg {\n            margin-right: 5px;\n          }\n          &.plus {\n            background: #e2f5e2;\n            color: #499249;\n          }\n          &.minus {\n            background: #feeaea;\n            color: #ff4d4d;\n          }\n        }\n    }\n  }\n']))),ct=v.a.div(rt||(rt=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 20px;\n  width: 100%;\n  /* background: #ffffff;\n  padding: 30px 20px; */\n  box-sizing: border-box;\n  &.multi-charts {\n    flex-wrap: wrap;\n    .div {\n    flex: 1 0 45%;\n      /* width: 49%; */\n      &:first-child {\n        flex: 0 1 100%;\n      }\n    }\n  }\n  &.full-charts {\n    display: block !important;\n    margin-bottom: 20px;\n  }\n  .chart {\n    margin-bottom: 20px;\n    background: #ffffff;\n    padding: 20px;\n    width: 46%;\n  }\n  /* .chart {\n    width: 100%;\n  } */\n"]))),st=Object(v.a)(ot.a)(at||(at=Object(p.a)(["\n  margin: 15px 0 10px;\n  button {\n    width: 50%;\n  }\n"])));function ut(e){var t=e.optimizer,n=e.width,r=void 0===n?560:n,a=e.height,l=void 0===a?500:a,c=e.keep,s=void 0===c?1e3:c,u=Object(i.useRef)(),d=t.baseline_result,f=t.results.at(-1),h=f.rsrc_dist,p=f.inp.rsrcs,v=Object(i.useState)("optimized"),g=Object(m.a)(v,2),b=g[0],y=g[1],x=Object(i.useReducer)((function(e){return e+1}),0),_=Object(m.a)(x,2),E=_[0],w=_[1];if(Object(i.useEffect)((function(){if(h){"optimized"===b?p=f.inp.rsrcs:"baseline"===b&&(p=d.inp.rsrcs);He(Object.entries(h),s),qe.g(qe.i);var e=qe.e(Object.keys(h)),t=qe.e(Object.keys(null===d||void 0===d?void 0:d.rsrc_dist)),n=[Math.min(e[0],t[0]),Math.max(e[1],t[1])],a=Object.values(f.inp.rsrcs).map((function(e){return Object.values(e.dist)})),i=qe.e(a.flat()),o=Object.values(d.inp.rsrcs).map((function(e){return Object.values(e.dist)})),c=qe.e(o.flat()),m=[Math.min(i[0],c[0]),Math.max(i[1],c[1])],v=We({x_domain:n,y_domain:m,width:r,height:l,ref:u,x_type:qe.h,y_type:qe.f}),g=v.svg,y=v.x_scale,x=v.y_scale,_=0,E=function(e){g.append("g").selectAll("rect").data(Object.entries(p[e].dist)).join("rect").attr("x",(function(e){return y(e[0])})).attr("width",(function(e){return y(864e5)-y(0)})).attr("y",(function(e){return x(e[1])})).attr("height",(function(e){return x(m[0])-x(e[1])})).attr("fill",(function(t,n){return p[e].show_in_plot&&"Labor"===p[e].type?Ke.ResourcePlot.allResources[_%Ke.ResourcePlot.allResources.length]:"none"})),_++};for(var w in p)E(w)}}),[h,b,E]),!h)return null;var k=Ze(h)>s?"(showing ".concat(s,"/").concat(Ze(h)," only due to limited pixels)"):"";return o.a.createElement(o.a.Fragment,null,o.a.createElement(st,{className:"row",value:b,exclusive:!0},o.a.createElement(it.a,{value:"optimized",onClick:function(){return y("optimized")}},"Optimized"),o.a.createElement(it.a,{value:"baseline",onClick:function(){return y("baseline")}},"Baseline")),o.a.createElement("div",{className:"legend"},Object.values(p).map((function(e,t){var n,r,a;if("Labor"===e.type)return o.a.createElement("div",{key:e+" "+t,className:"item resources",style:{opacity:(null===(n=p[e.id])||void 0===n?void 0:n.show_in_plot)?"100%":"50%",cursor:"pointer"},onClick:function(t,n){!function(e){d.inp.rsrcs[e].show_in_plot=!d.inp.rsrcs[e].show_in_plot,f.inp.rsrcs[e].show_in_plot=!f.inp.rsrcs[e].show_in_plot,w()}(e.id)}},o.a.createElement("div",{style:{width:"14px",height:"14px",background:Ke.ResourcePlot.allResources[t%Ke.ResourcePlot.allResources.length],marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,(r=e.name,a=20,r?r.length<=a?r:r.substring(0,a)+"...":"")))}))),o.a.createElement(o.a.Fragment,null,k),o.a.createElement("svg",{ref:u}))}var dt=function(e,t){var n=(e-t)/t*100,r=Math.sign(n);return 1===r?o.a.createElement("span",{className:"badge minus"},Math.round(n),"%"):-1===r?o.a.createElement("span",{className:"badge plus"},Math.abs(Math.round(n)),"%"):o.a.createElement("span",{className:"badge"},Math.round(n),"%")};function mt(e){var t,n,r,a,i,l,c,s,u,d,m,f,h,p,v,g,b,y,x,_,E,w,k,O,j,N,L,z,S,P,R,C,F,T,I,D,M,A=e.optimizationPresets,G=e.optimizer,B=e.selectedPreset,q=e.selectedResultIndex,W=e.goPrev,Y=e.goNext;Object.keys(A).filter((function(e){var t,n;return null===(t=A[e])||void 0===t||null===(n=t.optimizer)||void 0===n?void 0:n.optimizing})).map((function(e){return e}))[0];return o.a.createElement(lt,null,o.a.createElement("h2",null,o.a.createElement("span",{style:{textTransform:"capitalize"}},B)," Optimized Summary "),o.a.createElement("div",{className:"summary"},o.a.createElement("div",{className:"stats"},o.a.createElement("div",{className:"title"},"Project Duration (days)"),o.a.createElement("div",{className:"figure"},o.a.createElement("div",{className:"numbers"},Math.round(null===G||void 0===G||null===(t=G.results)||void 0===t||null===(n=t.at(q))||void 0===n?void 0:n.drtn_day)," "),o.a.createElement("div",{className:"baseline-stats"},Math.round(null===G||void 0===G||null===(r=G.baseline_result)||void 0===r?void 0:r.drtn_day))),dt(null===G||void 0===G||null===(a=G.results)||void 0===a||null===(i=a.at(q))||void 0===i?void 0:i.drtn_day,null===G||void 0===G||null===(l=G.baseline_result)||void 0===l?void 0:l.drtn_day)),o.a.createElement("div",{className:"stats"},o.a.createElement("div",{className:"title"},"Resources"),o.a.createElement("div",{className:"figure"},o.a.createElement("div",{className:"numbers"},Math.round(null===G||void 0===G||null===(c=G.results)||void 0===c||null===(s=c.at(q))||void 0===s?void 0:s.rsrc_max)," "),o.a.createElement("div",{className:"baseline-stats"},Math.round(null===G||void 0===G||null===(u=G.baseline_result)||void 0===u?void 0:u.rsrc_max)," ")),dt(null===G||void 0===G||null===(d=G.results)||void 0===d||null===(m=d.at(q))||void 0===m?void 0:m.rsrc_max,null===G||void 0===G||null===(f=G.baseline_result)||void 0===f?void 0:f.rsrc_max)),o.a.createElement("div",{className:"stats"},o.a.createElement("div",{className:"title"},"Tasks ",o.a.createElement(U.a,{title:"Tasks that were changed"},o.a.createElement(J.a,null))),o.a.createElement("div",{className:"figure"},o.a.createElement("div",{className:"numbers"},Math.round(null===G||void 0===G||null===(h=G.results)||void 0===h||null===(p=h.at(q))||void 0===p?void 0:p.num_changed)," "),o.a.createElement("div",{className:"baseline-stats"},Math.round(Object.values(null===G||void 0===G||null===(v=G.baseline_result)||void 0===v||null===(g=v.inp)||void 0===g?void 0:g.tasks).length)," ")),dt(Math.round(Object.values(null===G||void 0===G||null===(b=G.baseline_result)||void 0===b||null===(y=b.inp)||void 0===y?void 0:y.tasks).length)-(null===G||void 0===G||null===(x=G.results)||void 0===x||null===(_=x.at(q))||void 0===_?void 0:_.num_changed),Object.values(null===G||void 0===G||null===(E=G.baseline_result)||void 0===E||null===(w=E.inp)||void 0===w?void 0:w.tasks).length)),o.a.createElement("div",{className:"stats"},o.a.createElement("div",{className:"title"},"Tasks on Critical Path"),o.a.createElement("div",{className:"figure"},o.a.createElement("div",{className:"numbers"},Math.round(null===G||void 0===G||null===(k=G.results[(null===G||void 0===G||null===(O=G.results)||void 0===O?void 0:O.length)-1])||void 0===k?void 0:k.num_crt)," "),o.a.createElement("div",{className:"baseline-stats"},Math.round(null===G||void 0===G||null===(j=G.baseline_result)||void 0===j?void 0:j.num_crt),"  ")),dt(null===G||void 0===G||null===(N=G.results.at(q))||void 0===N?void 0:N.num_crt,null===G||void 0===G||null===(L=G.baseline_result)||void 0===L?void 0:L.num_crt))),(null===G||void 0===G||null===(z=G.results)||void 0===z?void 0:z.length)>0?o.a.createElement(ct,null,o.a.createElement("div",{className:"chart"},o.a.createElement("h3",null,"Tasks (Overview)"),o.a.createElement("span",{className:"subtitle"},"Overview of all tasks over time"),o.a.createElement("div",{className:"legend"},o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#82B5C7",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Optimized")),o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#cccccc",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Baseline")),Ze((null===(S=G.results.at(-1))||void 0===S||null===(P=S.inp)||void 0===P?void 0:P.tasks)||{})<=400?o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#e61717",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Critical Path")):o.a.createElement(o.a.Fragment,null)),(null===(R=G.results[G.results.length-1])||void 0===R||null===(C=R.inp)||void 0===C?void 0:C.tasks)?o.a.createElement(Xe,{height:"600",tasks:null===(F=G.results)||void 0===F||null===(T=F.at(q))||void 0===T?void 0:T.inp.tasks,baselineTasks:null===(I=G.baseline_result)||void 0===I?void 0:I.inp.tasks,title:"Tasks (Overview)"}):"No data"),o.a.createElement("div",{className:"chart"},o.a.createElement("div",{className:"row"},o.a.createElement("div",null,o.a.createElement("h3",null,"Combined Resources"),o.a.createElement("span",{className:"subtitle"},"Total utilization of multiple resources over time"))),(null===(D=G.results)||void 0===D||null===(M=D.at(q))||void 0===M?void 0:M.rsrc_dist)?o.a.createElement(ut,{optimizer:G,title:"Combined Resources"}):"No data")):"",o.a.createElement("div",{className:"row"},o.a.createElement($,{variant:"contained",onClick:W},"Back"),o.a.createElement(X,{variant:"contained",onClick:Y},"View Detailed Report")))}var ft,ht,pt,vt=n(440),gt=n(441),bt=v.a.div(ft||(ft=Object(p.a)(["\n  background: white;\n  margin-bottom: 40px;\n  padding: 20px;\n  .circle {\n    width: 14px;\n    height: 14px;\n    border-radius: 50%;\n    background-color: #dddddd;\n    margin: 0 auto;\n    &.critical {\n      background-color: red;\n    }\n  }\n"]))),yt=Object(v.a)(vt.a)(ht||(ht=Object(p.a)(["\n  border: 1px solid #eeeeee;\n  border-radius: 6px;\n  thead {\n    tr {\n      background: #f2f2f2;\n      > th {\n        font-weight: bold;\n        color: #222222;\n      }\n    }\n  }\n  .MuiTableSortLabel-icon {\n    opacity: 1;\n  }\n  \n"])));Object(v.a)(gt.a)(pt||(pt=Object(p.a)([""])));function xt(e){var t=e.dist,n=e.color,r=e.width,a=void 0===r?560:r,l=e.height,c=void 0===l?500:l,s=e.keep,u=void 0===s?1e3:s,d=Object(i.useRef)();if(Object(i.useEffect)((function(){if(t){var e=He(Object.entries(t),u),r=qe.e(Object.keys(t)),i=qe.e(Object.values(t)),o=We({x_domain:r,y_domain:i,width:a,height:c,ref:d,x_label:"time",y_label:"units",x_type:qe.h,y_type:qe.f}),l=o.svg,s=o.x_scale,m=o.y_scale;l.append("g").selectAll("rect").data(e).join("rect").attr("x",(function(e){return s(e[0])})).attr("width",s(864e5)-s(0)).attr("y",(function(e){return m(e[1])})).attr("height",(function(e){return m(i[0])-m(e[1])})).attr("fill",n)}}),[t]),!t)return null;var m=Ze(t)>u?"(showing ".concat(u,"/").concat(Ze(t)," only due to limited pixels)"):"";return o.a.createElement(o.a.Fragment,null,o.a.createElement(o.a.Fragment,null,m),o.a.createElement("svg",{ref:d}))}function _t(e){var t=e.results,n=e.name,r=e.x_label,a=e.y_label,l=e.width,c=void 0===l?550:l,s=e.height,u=void 0===s?400:s,d=e.keep,m=void 0===d?1e3:d,f=e.onClick,h=e.selectedResultIndex,p=Object(i.useRef)();if(Object(i.useEffect)((function(){if(!(null===t||void 0===t?void 0:t.length))return null;var e=t;e.forEach((function(e,t){return e.idx=t}));var i=Ye(qe.e(e.map((function(e){return e.drtn_day}))),qe.e(e.map((function(e){return e[n]}))),.15,.15),o=We({x_domain:i.x_domain,y_domain:i.y_domain,width:c,height:u,ref:p,x_label:r,y_label:a,x_type:qe.f,y_type:qe.f}),l=o.svg,s=o.x_scale,d=o.y_scale;l.append("g").selectAll("circle").data(e).join("circle").attr("cx",(function(e){return s(e.drtn_day)})).attr("cy",(function(e){return d(e[n])})).attr("r",(function(e,t){return t===h?6:3})).style("cursor",(function(e){return"baseline"===e.option?"auto":"pointer"})).attr("fill",(function(e,t){return e.loss_task+e.loss_rsrc+e.loss_task_rsrc>0?t===h?"#db4444":"#cccccc":t===h?"#db4444":"#00beae"})).on("click",(function(e,t){return f(t.idx)}))}),[t,h]),!t||!Ze(t))return null;var v=Ze(t)>m?"(showing ".concat(m,"/").concat(Ze(t)," only due to limited pixels)"):"";return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"legend"},o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#e61717",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Step Selected")),o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#00beae",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Constraints Satisfied")),o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#cccccc",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Constraints Violated"))),o.a.createElement(o.a.Fragment,null,v),o.a.createElement("svg",{ref:p}))}function Et(e){var t=e.results,n=e.name,r=(e.x_axis,e.x_label),a=e.y_label,l=e.width,c=void 0===l?550:l,s=e.height,u=void 0===s?400:s,d=e.keep,m=void 0===d?1e3:d,f=e.onClick,h=e.selectedResultIndex,p=Object(i.useRef)();if(Object(i.useEffect)((function(){if(!(null===t||void 0===t?void 0:t.length))return null;var e=t;e.forEach((function(e,t){return e.idx=t}));var i=Ye(qe.e([0,e.length]),qe.e(e.map((function(e){return e[n]}))),0,0),o=We({margin:50,x_domain:i.x_domain,y_domain:i.y_domain,width:c,height:u,ref:p,x_label:r||"Optimization steps",y_label:a,x_type:qe.f,y_type:qe.f}),l=o.svg,s=o.x_scale,d=o.y_scale;l.append("g").selectAll("circle").data(e).join("circle").attr("cx",(function(e,t){return s(e.idx)})).attr("cy",(function(e){return d(e[n])})).attr("r",(function(e,t){return t===h?6:3})).style("cursor",(function(e){return"baseline"===e.option?"auto":"pointer"})).attr("fill",(function(e,t){return e.loss_task+e.loss_rsrc+e.loss_task_rsrc>0?t===h?"#db4444":"#cccccc":t===h?"#db4444":"#00beae"})).on("click",(function(e,t){f(t.idx)}))}),[t,h]),!t||!Ze(t))return null;var v=Ze(t)>m?"(showing ".concat(m,"/").concat(Ze(t)," only due to limited pixels)"):"";return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"legend"},o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#e61717",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Step Selected")),o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#00beae",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Constraints Satisfied")),o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#cccccc",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Constraints Violated"))),o.a.createElement(o.a.Fragment,null,v),o.a.createElement("svg",{ref:p}))}function wt(e){var t,n=e.results,r=(e.loss,e.selectedResultIndex),a=e.handleChooseResult;return o.a.createElement(o.a.Fragment,null,o.a.createElement(lt,null,o.a.createElement(ct,{className:"multi-charts"},o.a.createElement("div",{className:"row"},o.a.createElement("h2",null,"Optimization Iteration Charts")),o.a.createElement("div",{className:"chart"},o.a.createElement("h4",null,"Project Duration"),o.a.createElement(Et,{results:n,name:"drtn_day",x_axis:!0,x_label:"Optimization steps",y_label:"Duration (days)",onClick:a,selectedResultIndex:r})),o.a.createElement("div",{className:"chart"},o.a.createElement("h4",null,"Maximum Labour Resources"),o.a.createElement(Et,{results:n,name:"rsrc_max",x_axis:!0,x_label:"Optimization steps",y_label:"Maximum Resources",onClick:a,selectedResultIndex:r})),o.a.createElement("div",{className:"chart"},o.a.createElement("h4",null,"Standard Deviation Labour Resources"),o.a.createElement(Et,{results:n,name:"rsrc_std",x_axis:!0,x_label:"Optimization steps",y_label:"Standard Deviation",onClick:a,selectedResultIndex:r})),o.a.createElement("div",{className:"chart"},o.a.createElement("h4",null,"Number of Changed Tasks"),o.a.createElement(Et,{results:n,name:"num_changed",x_axis:!0,x_label:"Optimization steps",y_label:"Number of changed task",onClick:a,selectedResultIndex:r})),o.a.createElement("div",{className:"chart"},o.a.createElement("h4",null,"Critical Path Tasks"),o.a.createElement(Et,{results:n,name:"num_crt",x_axis:!0,x_label:"Optimization steps",y_label:"Number of tasks",onClick:a,selectedResultIndex:r})),o.a.createElement("div",{className:"chart"},o.a.createElement("h4",null,"Loss Function (Dimensionless)"),o.a.createElement(Et,{results:n,name:"loss_sum",x_axis:!0,x_label:"Optimization steps",y_label:"Loss function",onClick:a,selectedResultIndex:r}))),o.a.createElement(ct,{className:"multi-charts"},o.a.createElement("div",{className:"row"},o.a.createElement("h2",null,"Resources Plots")),Object.values((null===(t=n[r])||void 0===t?void 0:t.inp.rsrcs)||{}).map((function(e,t){return o.a.createElement("div",{key:e.id,className:"chart"},o.a.createElement("h4",null,"(".concat(e.type,") ").concat(e.name)),o.a.createElement(xt,{dist:e.dist,title:"(".concat(e.type,") ").concat(e.name),color:Ke.ResourcePlot.allResources[t%Ke.ResourcePlot.allResources.length]}))}))),o.a.createElement(ct,{className:"multi-charts"},o.a.createElement("div",{className:"row"},o.a.createElement("h2",null,"Loss Function Charts")),o.a.createElement("div",{className:"chart"},o.a.createElement("h4",null,"Loss Function: Tasks Resources"),o.a.createElement(_t,{results:n,name:"loss_task_rsrc",x_label:"Duration (days)",y_label:"Loss function: task resources",onClick:a,selectedResultIndex:r})),o.a.createElement("div",{className:"chart"},o.a.createElement("h4",null,"Loss Function: Sum"),o.a.createElement(_t,{results:n,name:"loss_sum",x_label:"Duration (days)",y_label:"Loss function: sum",onClick:a,selectedResultIndex:r})),o.a.createElement("div",{className:"chart"},o.a.createElement("h4",null,"Loss Function: Resources"),o.a.createElement(_t,{results:n,name:"loss_rsrc",x_label:"Duration (days)",y_label:"Loss function: resources",onClick:a,selectedResultIndex:r})),o.a.createElement("div",{className:"chart"},o.a.createElement("h4",null,"Loss Function: Tasks"),o.a.createElement(_t,{results:n,name:"loss_task",x_label:"Duration (days)",y_label:"Loss function: task",onClick:a,selectedResultIndex:r})))))}var kt=n(445),Ot=n(443),jt=n(444),Nt=n(417),Lt=n(442),zt=n(431),St=n(414);var Pt=[{id:"critical",numeric:!1,disablePadding:!1,label:"Critical"},{id:"id",numeric:!1,disablePadding:!1,label:"ID"},{id:"name",numeric:!1,disablePadding:!0,label:"Name"},{id:"old_duration",numeric:!0,disablePadding:!1,label:"Duration (Baseline)"},{id:"new_duration",numeric:!0,disablePadding:!1,label:"Duration (New)"},{id:"ratio",numeric:!0,disablePadding:!1,label:"Ratio"}];function Rt(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function Ct(e){var t=e.order,n=e.orderBy,r=e.onRequestSort;return o.a.createElement(gt.a,null,o.a.createElement(Lt.a,null,Pt.map((function(e){return o.a.createElement(Ot.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:n===e.id&&t},o.a.createElement(zt.a,{active:n===e.id,direction:n===e.id?t:"asc",onClick:(a=e.id,function(e){r(e,a)})},e.label,n===e.id?o.a.createElement(W.a,{component:"span",sx:St.a},"desc"===t?"sorted descending":"sorted ascending"):null));var a}))))}function Ft(e){var t,n=e.result,r=e.ariaLabel,a=Object(i.useState)("asc"),l=Object(m.a)(a,2),c=l[0],s=l[1],u=Object(i.useState)("dsc"),d=Object(m.a)(u,2),f=d[0],h=d[1],p=Object(i.useState)([]),v=Object(m.a)(p,2),g=v[0],b=v[1],y=Object(i.useState)(0),x=Object(m.a)(y,2),_=x[0],E=x[1],w=Object(i.useState)(10),k=Object(m.a)(w,2),O=k[0],j=k[1],N=Object.keys(null===n||void 0===n||null===(t=n.inp)||void 0===t?void 0:t.tasks).filter((function(e){var t;return null===n||void 0===n||null===(t=n.inp)||void 0===t?void 0:t.tasks[e].changed})).map((function(e){var t,r=null===n||void 0===n||null===(t=n.inp)||void 0===t?void 0:t.tasks[e],a=r.critical,i=r.id,o=r.task_code,l=r.name,c=r.drtn_hr,s=r.drtn_hr_2;return function(e,t,n,r,a,i){return{critical:e,name:t,id:n,old_duration:r,new_duration:a,ratio:i}}(a,l,o||i,c,s,(s/c).toFixed(2))})),L=_>0?Math.max(0,(1+_)*O-N.length):0;return o.a.createElement(o.a.Fragment,null,o.a.createElement(jt.a,null,o.a.createElement(yt,{sx:{minWidth:750},"aria-labelledby":r,size:"medium"},o.a.createElement(Ct,{numSelected:g.length,order:c,orderBy:f,onSelectAllClick:function(e){if(e.target.checked){var t=N.map((function(e){return e.name}));b(t)}else b([])},onRequestSort:function(e,t){s(f===t&&"asc"===c?"desc":"asc"),h(t)},rowCount:N.length}),o.a.createElement(kt.a,null,function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n.map((function(e){return e[0]}))}(N,function(e,t){return"desc"===e?function(e,n){return Rt(e,n,t)}:function(e,n){return-Rt(e,n,t)}}(c,f)).slice(_*O,_*O+O).map((function(e,t){var n,r=(n=e.name,-1!==g.indexOf(n)),a="enhanced-table-checkbox-".concat(t);return o.a.createElement(Lt.a,{hover:!0,onClick:function(t){return function(e,t){var n=g.indexOf(t),r=[];-1===n?r=r.concat(g,t):0===n?r=r.concat(g.slice(1)):n===g.length-1?r=r.concat(g.slice(0,-1)):n>0&&(r=r.concat(g.slice(0,n),g.slice(n+1))),b(r)}(0,e.name)},role:"checkbox","aria-checked":r,tabIndex:-1,key:e.id,selected:r},o.a.createElement(Ot.a,{width:"100",sortDirection:"desc",padding:"checkbox",align:"center"},o.a.createElement("div",{className:"circle ".concat(e.critical?"critical":"")})),o.a.createElement(Ot.a,{width:"100",align:"left"},e.id),o.a.createElement(Ot.a,{component:"th",width:"500",id:a,scope:"row",padding:"none",align:"left"},e.name),o.a.createElement(Ot.a,{width:"150",align:"right"},e.old_duration," hours"),o.a.createElement(Ot.a,{width:"150",align:"right"},e.new_duration," hours"),o.a.createElement(Ot.a,{width:"100",align:"right"},e.ratio))})),L>0&&o.a.createElement(Lt.a,{style:{height:33*L}},o.a.createElement(Ot.a,{colSpan:6}))))),o.a.createElement(Nt.a,{rowsPerPageOptions:[10,25,50],component:"div",count:N.length,rowsPerPage:O,page:_,onPageChange:function(e,t){E(t)},onRowsPerPageChange:function(e){j(parseInt(e.target.value,10)),E(0)}}))}var Tt=[{id:"id",numeric:!1,disablePadding:!1,label:"ID"},{id:"type",numeric:!1,disablePadding:!1,label:"Type"},{id:"name",numeric:!1,disablePadding:!1,label:"Name"},{id:"rng",numeric:!1,disablePadding:!1,label:"Range [min, max]",sort:!1},{id:"dist",numeric:!0,disablePadding:!1,label:"Resource Dist."},{id:"max",numeric:!0,disablePadding:!1,label:"Maximum N"},{id:"std",numeric:!0,disablePadding:!1,label:"Standard Deviation"}];function It(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function Dt(e){var t=e.order,n=e.orderBy,r=e.onRequestSort;return o.a.createElement(gt.a,null,o.a.createElement(Lt.a,null,Tt.map((function(e){return o.a.createElement(Ot.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:n===e.id&&t},o.a.createElement(zt.a,{active:n===e.id,direction:n===e.id?t:"asc",onClick:(a=e.id,function(e){r(e,a)})},e.label,n===e.id?o.a.createElement(W.a,{component:"span",sx:St.a},"desc"===t?"sorted descending":"sorted ascending"):null));var a}))))}function Mt(e){var t,n=e.result,r=e.ariaLabel,a=Object(i.useState)("asc"),l=Object(m.a)(a,2),c=l[0],s=l[1],u=Object(i.useState)("dsc"),d=Object(m.a)(u,2),f=d[0],h=d[1],p=Object(i.useState)([]),v=Object(m.a)(p,2),g=v[0],b=v[1],y=Object(i.useState)(0),x=Object(m.a)(y,2),_=x[0],E=x[1],w=Object(i.useState)(10),k=Object(m.a)(w,2),O=k[0],j=k[1],N=Object(i.useState)([]),L=Object(m.a)(N,2),z=(L[0],L[1],Object.keys(null===n||void 0===n||null===(t=n.inp)||void 0===t?void 0:t.rsrcs).map((function(e){var t,r=null===n||void 0===n||null===(t=n.inp)||void 0===t?void 0:t.rsrcs[e],a=r.id,i=r.name,o=r.type,l=r.rng,c=r.dist,s=r.max,u=r.std;return function(e,t,n,r,a,i,o){return{name:e,id:t,type:n,rng:r,dist:a,max:i,std:o}}(i,a,o,l,Math.round(Object.values(c).reduce((function(e,t){return e+t}),0)),Math.round(s),Math.round(u))}))),S=_>0?Math.max(0,(1+_)*O-z.length):0;return o.a.createElement(o.a.Fragment,null,o.a.createElement(jt.a,null,o.a.createElement(yt,{sx:{minWidth:550},"aria-labelledby":r,size:"medium"},o.a.createElement(Dt,{numSelected:g.length,order:c,orderBy:f,onSelectAllClick:function(e){if(e.target.checked){var t=z.map((function(e){return e.name}));b(t)}else b([])},onRequestSort:function(e,t){s(f===t&&"asc"===c?"desc":"asc"),h(t)},rowCount:z.length}),o.a.createElement(kt.a,null,function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n.map((function(e){return e[0]}))}(z,function(e,t){return"desc"===e?function(e,n){return It(e,n,t)}:function(e,n){return-It(e,n,t)}}(c,f)).slice(_*O,_*O+O).map((function(e,t){var n,r=(n=e.name,-1!==g.indexOf(n)),a="enhanced-table-checkbox-".concat(t);return o.a.createElement(Lt.a,{hover:!0,onClick:function(t){return function(e,t){var n=g.indexOf(t),r=[];-1===n?r=r.concat(g,t):0===n?r=r.concat(g.slice(1)):n===g.length-1?r=r.concat(g.slice(0,-1)):n>0&&(r=r.concat(g.slice(0,n),g.slice(n+1))),b(r)}(0,e.name)},role:"checkbox","aria-checked":r,tabIndex:-1,key:e.id,selected:r},o.a.createElement(Ot.a,{width:"50",align:"left"},e.id),o.a.createElement(Ot.a,{width:"100"},e.type),o.a.createElement(Ot.a,{component:"th",width:"300",id:a,scope:"row",align:"left"},e.name),o.a.createElement(Ot.a,{width:"170"},JSON.stringify(e.rng)),o.a.createElement(Ot.a,{width:"170",align:"right"},Math.floor(e.dist/24)," days"),o.a.createElement(Ot.a,{width:"170",align:"right"},e.max),o.a.createElement(Ot.a,{width:"170",align:"right"},e.std))})),S>0&&o.a.createElement(Lt.a,{style:{height:33*S}},o.a.createElement(Ot.a,{colSpan:6}))))),o.a.createElement(Nt.a,{rowsPerPageOptions:[10,25,50],component:"div",count:z.length,rowsPerPage:O,page:_,onPageChange:function(e,t){E(t)},onRowsPerPageChange:function(e){j(parseInt(e.target.value,10)),E(0)}}))}var At,Gt=[{id:"critical",numeric:!1,disablePadding:!1,label:"Critical"},{id:"id",numeric:!1,disablePadding:!1,label:"ID"},{id:"r_id",numeric:!1,disablePadding:!1,label:"Resource Name"},{id:"t_id",numeric:!1,disablePadding:!1,label:"Task Name"},{id:"units_rng",numeric:!1,disablePadding:!1,label:"Range [min, max]"},{id:"units",numeric:!0,disablePadding:!1,label:"Units (Baseline)"},{id:"units_2",numeric:!0,disablePadding:!1,label:"Units (Optimized)"},{id:"drtn_hr",numeric:!0,disablePadding:!1,label:"Duration (Baseline)"},{id:"drtn_hr_2",numeric:!0,disablePadding:!1,label:"Duration (Optimized)"},{id:"work_hr",numeric:!0,disablePadding:!1,label:"Total Work Hours"}];function Bt(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function Ut(e){var t=e.order,n=e.orderBy,r=e.onRequestSort;return o.a.createElement(gt.a,null,o.a.createElement(Lt.a,null,Gt.map((function(e){return o.a.createElement(Ot.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:n===e.id&&t},o.a.createElement(zt.a,{active:n===e.id,direction:n===e.id?t:"asc",onClick:(a=e.id,function(e){r(e,a)})},e.label,n===e.id?o.a.createElement(W.a,{component:"span",sx:St.a},"desc"===t?"sorted descending":"sorted ascending"):null));var a}))))}function qt(e){var t,n,r=e.result,a=e.ariaLabel,l=Object(i.useState)("asc"),c=Object(m.a)(l,2),s=c[0],u=c[1],d=Object(i.useState)("dsc"),f=Object(m.a)(d,2),h=f[0],p=f[1],v=Object(i.useState)([]),g=Object(m.a)(v,2),b=g[0],y=g[1],x=Object(i.useState)(0),_=Object(m.a)(x,2),E=_[0],w=_[1],k=Object(i.useState)(10),O=Object(m.a)(k,2),j=O[0],N=O[1],L=Object.keys(null===r||void 0===r||null===(t=r.inp)||void 0===t?void 0:t.tasks).filter((function(e){var t;return null===r||void 0===r||null===(t=r.inp)||void 0===t?void 0:t.tasks[e].changed})),z=Object.keys(null===r||void 0===r||null===(n=r.inp)||void 0===n?void 0:n.task_rsrcs),S=[];z.map((function(e){var t,n=null===r||void 0===r||null===(t=r.inp)||void 0===t?void 0:t.task_rsrcs[e];L.map((function(e){var t,a=null===r||void 0===r||null===(t=r.inp)||void 0===t?void 0:t.tasks[e];n.t_id===e&&S.push({drtn_hr:a.drtn_hr,drtn_hr_2:a.drtn_hr_2,r_id:n.r_id,t_id:n.t_id,units:n.units,units_2:n.units_2,units_rng:n.units_rng,work_hr:n.work_hr})}))}));var P=S&&S.map((function(e){e.id;var t,n,a,i,o=e.r_id,l=e.t_id,c=e.units,s=e.units_2,u=e.units_rng,d=e.drtn_hr,m=e.drtn_hr_2,f=e.work_hr;return function(e,t,n,r,a,i,o,l,c,s){return{critical:e,id:t,r_id:n,t_id:r,units:a,units_2:i,units_rng:o,drtn_hr:l,drtn_hr_2:c,work_hr:s}}(function(e){return Object.values(null===r||void 0===r?void 0:r.crt_path).filter((function(t){return t===e})).length>0}(l),l,null===r||void 0===r||null===(t=r.inp)||void 0===t||null===(n=t.rsrcs[o])||void 0===n?void 0:n.name,null===r||void 0===r||null===(a=r.inp)||void 0===a||null===(i=a.tasks[l])||void 0===i?void 0:i.name,c.toFixed(2),s.toFixed(2),u,d,m,f)})),R=E>0?Math.max(0,(1+E)*j-P.length):0;return o.a.createElement(o.a.Fragment,null,o.a.createElement(jt.a,null,o.a.createElement(yt,{sx:{minWidth:550},"aria-labelledby":a,size:"medium"},o.a.createElement(Ut,{numSelected:b.length,order:s,orderBy:h,onSelectAllClick:function(e){if(e.target.checked){var t=P.map((function(e){return e.name}));y(t)}else y([])},onRequestSort:function(e,t){u(h===t&&"asc"===s?"desc":"asc"),p(t)},rowCount:P.length}),o.a.createElement(kt.a,null,function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n.map((function(e){return e[0]}))}(P,function(e,t){return"desc"===e?function(e,n){return Bt(e,n,t)}:function(e,n){return-Bt(e,n,t)}}(s,h)).slice(E*j,E*j+j).map((function(e,t){var n,r=(n=e.name,-1!==b.indexOf(n));"enhanced-table-checkbox-".concat(t);return o.a.createElement(Lt.a,{hover:!0,onClick:function(t){return function(e,t){var n=b.indexOf(t),r=[];-1===n?r=r.concat(b,t):0===n?r=r.concat(b.slice(1)):n===b.length-1?r=r.concat(b.slice(0,-1)):n>0&&(r=r.concat(b.slice(0,n),b.slice(n+1))),y(r)}(0,e.id)},role:"checkbox","aria-checked":r,tabIndex:-1,key:e.id+" "+e.r_id+" "+e.t_id,selected:r},o.a.createElement(Ot.a,{width:"80",sortDirection:"desc",padding:"checkbox",align:"center"},o.a.createElement("div",{className:"circle ".concat(e.critical?"critical":"")})),o.a.createElement(Ot.a,{align:"left"},e.id),o.a.createElement(Ot.a,{width:"250",align:"left"},e.r_id),o.a.createElement(Ot.a,{width:"250",align:"left"},e.t_id),o.a.createElement(Ot.a,{width:"200"},JSON.stringify(e.units_rng)),o.a.createElement(Ot.a,{align:"right"},e.units),o.a.createElement(Ot.a,{align:"right"},e.units_2),o.a.createElement(Ot.a,{align:"right"},e.drtn_hr," hours"),o.a.createElement(Ot.a,{align:"right"},e.drtn_hr_2," hours"),o.a.createElement(Ot.a,{width:"100",align:"right"},e.work_hr," hours"))})),R>0&&o.a.createElement(Lt.a,{style:{height:33*R}},o.a.createElement(Ot.a,{colSpan:6}))))),o.a.createElement(Nt.a,{rowsPerPageOptions:[10,25,50],component:"div",count:P.length,rowsPerPage:j,page:E,onPageChange:function(e,t){w(t)},onRowsPerPageChange:function(e){N(parseInt(e.target.value,10)),w(0)}}))}function Wt(e){var t=e.optimizer,n=e.selectedPreset,r=e.selectedResultIndex,a=e.handleSelectResultIndex,l=e.goPrev,c=Object(i.useState)(!1),s=Object(m.a)(c,2),u=s[0],d=s[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,o.a.createElement("span",{style:{textTransform:"capitalize"}},n)," Detailed Report"),o.a.createElement(Re,null,o.a.createElement(bt,null,o.a.createElement("div",{className:"row"},o.a.createElement("h3",null,"Changed Tasks (Overview)")),o.a.createElement("div",{className:"legend",style:{width:"400px",justifyContent:"flex-start",marginBottom:"20px"}},o.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",marginRight:"10px"}},o.a.createElement("div",{className:"circle critical"})," Critical"),o.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},o.a.createElement("div",{className:"circle"})," Non-Critical")),(null===t||void 0===t?void 0:t.results[r])?o.a.createElement(Ft,{ariaLabel:"changed-tasks-overview",result:null===t||void 0===t?void 0:t.results[r]}):"Please select a Optimization Preset before generating your report"),o.a.createElement("h2",null,"Resources Tables"),o.a.createElement(bt,null,o.a.createElement("h4",null,"Changed Resources"),(null===t||void 0===t?void 0:t.results[r])?o.a.createElement(Mt,{ariaLabel:"changed-resources",result:null===t||void 0===t?void 0:t.results[r]}):"Please select a Optimization Preset before generating your report"),o.a.createElement(bt,null,o.a.createElement("h4",null,"Changed Task-Resources"),(null===t||void 0===t?void 0:t.results[r])?o.a.createElement(qt,{ariaLabel:"changed-tasks-resources",result:null===t||void 0===t?void 0:t.results[r]}):"Please select a Optimization Preset before generating your report"),(null===t||void 0===t?void 0:t.loss_weights)?o.a.createElement(wt,{results:null===t||void 0===t?void 0:t.results,loss:null===t||void 0===t?void 0:t.loss_weights,selectedResultIndex:r,handleChooseResult:function(e){a(e)}}):"No data",o.a.createElement("div",{className:"row"},o.a.createElement($,{variant:"contained",onClick:l},"Back"),o.a.createElement(X,{onClick:function(){return d(!0)},variant:"contained"},"Export Report"))),o.a.createElement(Ce,{open:u,onClose:function(){return d(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},o.a.createElement(W.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,p:3}},o.a.createElement("div",{className:"title",id:"modal-modal-title"},"Export Optimized File"),o.a.createElement("div",{className:"row"},o.a.createElement(X,{onClick:function(){t.reader.merge_data(t.results[r].inp),t.reader.export()},variant:"contained"},"Original Format")," \xa0",o.a.createElement(X,{onClick:function(){t.reader.export_excel(t.results[r].inp)},variant:"contained"},"Excel")))))}var Yt=v.a.div(At||(At=Object(p.a)(["\n  width: 100%;\n  box-sizing: border-box;\n  .content {\n    margin: 20px auto;\n    width: 1200px;\n    max-width: 100%;\n    /* background: #ffffff; */\n    /* padding: 1px 20px 20px; */\n    border-radius: 6px;\n    box-sizing: border-box;\n    .legend {\n      display: flex;\n      justify-content: flex-start;\n      align-items: flex-start;\n      font-size: 11px;\n      width: 100%;\n      margin-top: 20px;\n      flex-wrap: wrap;\n      .item {\n        display: flex; \n        justify-content: flex-start;\n        align-items: center;\n        margin-right: 23px;\n        &.resources {\n          width: 29%;\n        }\n      }\n      .circle {\n        margin-right: 5px;\n      }\n    }\n  }\n"]))),Jt=["Input Data","Baseline Summary","Optimized Summary","Optimized Report"];function Vt(){var e,t,n=Object(i.useState)(0),r=Object(m.a)(n,2),a=r[0],l=r[1],c=Object(i.useState)(null),s=Object(m.a)(c,2),f=s[0],h=s[1],p=Object(i.useState)({balanced:{label:"Balanced",color:"#82B5C7",description:"Best combination of the fastest, minimum and levelled resources"},shortest_duration:{label:"Fastest",color:"#f7dc5b",description:"Fastest way to execute the project"},least_max_resources:{label:"Minimum Resources",color:"#db7930",description:"Least amount of required resources to execute the project the fastest"},least_std_resources:{label:"Levelled Resources",color:"#AABB5D",description:"Best resource distribution to execute the project the fastest"}}),v=Object(m.a)(p,2),g=v[0],b=(v[1],Object(i.useState)("balanced")),x=Object(m.a)(b,2),_=x[0],E=x[1],w=Object(i.useState)(-1),k=Object(m.a)(w,2),O=k[0],j=k[1],N=Object(i.useState)("No file chosen"),L=Object(m.a)(N,2),z=L[0],S=L[1],P=Object(i.useState)("No file chosen"),R=Object(m.a)(P,2),C=R[0],F=R[1],T=Object(i.useReducer)((function(e){return e+1}),0),D=Object(m.a)(T,2),M=(D[0],D[1]);var A=null;return 0===a?A=o.a.createElement(Ae,{project:f,fileName:z,setFileName:S,constraintsFileName:C,setConstraintsFileName:F,updateProject:function(e){h(e)},goNext:function(){!function(e){if(e){for(var t in g){var n;(null===(n=g[t])||void 0===n?void 0:n.optimizer)&&g[t].optimizer.stop()}for(var r in g){for(var a in g[r].optimizer=new re(null===e||void 0===e?void 0:e.fileReader),g[r].optimizer.sim_in=Object(d.a)({},e.optimizer.sim_in),g[r].optimizer.loss_weights)g[r].optimizer.loss_weights[a]=0;"shortest_duration"===r?g[r].optimizer.loss_weights.drtn_day=100:"least_max_resources"===r?g[r].optimizer.loss_weights.rsrc_max=100:"least_std_resources"===r?g[r].optimizer.loss_weights.rsrc_std=100:"balanced"===r&&(g[r].optimizer.loss_weights.drtn_day=50,g[r].optimizer.loss_weights.rsrc_max=50)}g.balanced.optimizer.optimize((function(e){g.balanced.optimizer.optimizing=!0,g.balanced.optimizer.results=e,""===_&&E("balanced"),M()}),(function(e){g.balanced.optimizer.optimizing=!1,g.shortest_duration.optimizer.optimize((function(e){g.shortest_duration.optimizer.optimizing=!0,g.shortest_duration.optimizer.results=e,M()}),(function(e){g.shortest_duration.optimizer.optimizing=!1,g.least_max_resources.optimizer.optimize((function(e){g.least_max_resources.optimizer.optimizing=!0,g.least_max_resources.optimizer.results=e,M()}),(function(e){g.least_max_resources.optimizer.optimizing=!1,g.least_std_resources.optimizer.optimize((function(e){g.least_std_resources.optimizer.optimizing=!0,g.least_std_resources.optimizer.results=e,M()}),(function(e){g.least_std_resources.optimizer.optimizing=!1,M()}))}))}))}))}}(f),l(a+1)}}):1===a?A=o.a.createElement(tt,{optimizer:null===f||void 0===f?void 0:f.optimizer,optimizationPresets:g,selectedPreset:_,selectedResultIndex:O,handleSelectPreset:function(e){E(e),g[e].optimizer.results.length-1<O&&j(g[e].optimizer.results.length-1)},handleSelectResultIndex:function(e){j(e)},goPrev:function(){l(a-1)},goNext:function(){l(a+1),-1===O&&j(g[_].optimizer.results.length-1),f.optimizer.loss_weights=Object(d.a)({},g[_].optimizer.loss_weights),f.optimizer.results=Object(u.a)(g[_].optimizer.results)}}):2===a?A=o.a.createElement(mt,{optimizer:null===f||void 0===f?void 0:f.optimizer,optimizationPresets:g,selectedPreset:g[_].label,selectedResultIndex:O,goPrev:function(){l(a-1)},goNext:function(){l(a+1)}}):3===a&&(A=o.a.createElement(Wt,{optimizer:null===f||void 0===f?void 0:f.optimizer,selectedPreset:g[_].label,selectedResultIndex:O,handleSelectResultIndex:function(e){j(e)},goPrev:function(){l(a-1)},goNext:function(){l(a+1)}})),o.a.createElement(o.a.Fragment,null,o.a.createElement(I,null),o.a.createElement(y,{navAt:a,steps:Jt,navigate:function(e){1===a&&(-1===O&&j(g[_].optimizer.results.length-1),f.optimizer.loss_weights=Object(d.a)({},g[_].optimizer.loss_weights),f.optimizer.results=Object(u.a)(g[_].optimizer.results)),l(e)},disabled:null===f||void 0===(null===f||void 0===f?void 0:f.optimizer)||void 0===(null===(e=g.balanced)||void 0===e||null===(t=e.optimizer)||void 0===t?void 0:t.optimizing)}),o.a.createElement(Yt,null,o.a.createElement("div",{className:"content"},A)))}var Kt,Zt=n(418);function Ht(){Ht=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),l=new O(a||[]);return r(o,"_invoke",{value:_(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var d={};function m(){}function f(){}function h(){}var p={};c(p,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(j([])));g&&g!==t&&n.call(g,i)&&(p=g);var b=h.prototype=m.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var c=u(e[a],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,l)}))}l(c.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function _(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=E(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return f.prototype=h,r(b,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:f,configurable:!0}),f.displayName=c(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(x.prototype),c(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new x(s(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(b),c(b,l,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Xt(e,t,n){return $t.apply(this,arguments)}function $t(){return($t=Object(G.a)(Ht().mark((function e(t,n,r){return Ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.frontline-optimizer.com","/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qt(e,t,n){return en.apply(this,arguments)}function en(){return(en=Object(G.a)(Ht().mark((function e(t,n,r){return Ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.frontline-optimizer.com","/auth/request-reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tn(e,t,n){return nn.apply(this,arguments)}function nn(){return(nn=Object(G.a)(Ht().mark((function e(t,n,r){return Ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.frontline-optimizer.com","/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rn(e){var t=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(String(e).toLowerCase());return t?{result:t,message:""}:{result:t,message:"Please enter a valid email address."}}n(342).config();var an,on=v.a.div(Kt||(Kt=Object(p.a)(["\n  width: 100vw;\n  height: 100vh;\n  background: linear-gradient(\n    180deg,\n    rgba(255, 204, 103, 0.195) 0%,\n    rgba(0, 145, 132, 0.3) 100%\n  );\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .MuiBox-root {\n    width: 450px;\n    h3 {\n      margin-top: 0;\n    }\n    &.form {\n      background: #ffffff;\n      padding: 30px;\n      border-radius: 16px;\n      box-sizing: border-box;\n      /* display: flex;\n      flex-direction: column; */\n      .MuiTextField-root {\n        width: 100%;\n        margin-bottom: 12px;\n      }\n    }\n    img.logo {\n      width: 300px;\n    }\n  }\n  .divider {\n    position: relative;\n    &:after { \n      content: '';\n      position: absolute;\n      height: 1px;\n      width: 100%;\n      background: #eeeeee;\n      left: 0;\n      bottom: 0;\n    }\n  }\n  .error {\n    color: rgb(0, 190, 174) !important;\n    font-weight: 700;\n  }\n"])));function ln(){ln=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),l=new O(a||[]);return r(o,"_invoke",{value:_(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var d={};function m(){}function f(){}function h(){}var p={};c(p,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(j([])));g&&g!==t&&n.call(g,i)&&(p=g);var b=h.prototype=m.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var c=u(e[a],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,l)}))}l(c.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function _(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=E(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return f.prototype=h,r(b,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:f,configurable:!0}),f.displayName=c(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(x.prototype),c(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new x(s(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(b),c(b,l,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function cn(){var e=Object(i.useRef)(),t=Object(i.useState)(""),n=Object(m.a)(t,2),r=n[0],a=n[1],l=Object(i.useState)(""),u=Object(m.a)(l,2),d=u[0],f=u[1],h=Object(i.useRef)(),p=Object(i.useState)(""),v=Object(m.a)(p,2),g=v[0],b=(v[1],Object(s.c)()),y=Object(c.n)();function x(){return(x=Object(G.a)(ln().mark((function t(){var n;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=rn(e.current.value),a(n.message),n.result){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,Xt({email:e.current.value,password:h.current.value}).then((function(e){return e.json()})).then((function(t){return t.resetPasswordRequired?(f("This is your first time logging in, you will be redirected to set up a password."),void y("/#/reset-password?email="+e.current.value)):t.accessToken?(b({token:t.accessToken,expiresIn:1440,tokenType:"Bearer",authState:{email:e.current.value}}),void y("/")):void f(t.message)})).catch((function(e){console.error("Error:",e)}));case 6:t.sent;case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return o.a.createElement(on,null,o.a.createElement(W.a,{sx:{display:"flex",flexDirection:"column",marginRight:"40px"}},o.a.createElement("img",{className:"logo",src:z.a,alt:"Frontline Logo"}),o.a.createElement("h1",null,"Optimization Platform"),"Find the best sequence of activities with optimal resource loading to ace your project"),o.a.createElement(W.a,{className:"form",component:"form",noValidate:!0,autoComplete:"off"},o.a.createElement("h2",null,"Log In"),o.a.createElement("p",{className:"error"},d),o.a.createElement(Zt.a,{label:"Email",variant:"outlined",inputRef:e,error:""!==r,helperText:r,placeholder:"sample@googlemail.com"}),o.a.createElement(Zt.a,{label:"Password",type:"password",variant:"outlined",inputRef:h,error:""!==g,helperText:g,placeholder:"******"}),o.a.createElement("div",{className:"row"},o.a.createElement("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){y("/reset-password?email="+e.current.value)}},"Forgot password"),o.a.createElement(X,{variant:"contained",onClick:function(){return x.apply(this,arguments)}},"Login")),o.a.createElement("br",null),o.a.createElement("div",{className:"divider"}),o.a.createElement("h2",null,"New Users"),"Our platform is currently only available to subscribers. Please contact ",o.a.createElement("a",{href:"mailto:sales@frontlinec.com",target:"_blank",rel:"noreferrer"},"sales@frontlinec.com")," to request a demo."))}var sn=v.a.div(an||(an=Object(p.a)(["\n  width: 100vw;\n  height: 100vh;\n  background: linear-gradient(\n    180deg,\n    rgba(255, 204, 103, 0.195) 0%,\n    rgba(0, 145, 132, 0.3) 100%\n  );\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .MuiBox-root {\n    width: 450px;\n    h3 {\n      margin-top: 0;\n    }\n    &.form {\n      background: #ffffff;\n      padding: 30px;\n      border-radius: 16px;\n      box-sizing: border-box;\n      /* display: flex;\n      flex-direction: column; */\n      p {\n        color: #888888;\n        &.error {\n          color: rgb(0, 190, 174);\n          font-weight: 700;\n          margin-bottom: 15px;\n        }\n      }\n      .MuiTextField-root {\n        width: 100%;\n        margin-bottom: 12px;\n      }\n    }\n    img.logo {\n      width: 300px;\n    }\n  }\n"])));function un(){un=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),l=new O(a||[]);return r(o,"_invoke",{value:_(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var d={};function m(){}function f(){}function h(){}var p={};c(p,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(j([])));g&&g!==t&&n.call(g,i)&&(p=g);var b=h.prototype=m.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var c=u(e[a],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,l)}))}l(c.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function _(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=E(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return f.prototype=h,r(b,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:f,configurable:!0}),f.displayName=c(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(x.prototype),c(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new x(s(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(b),c(b,l,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function dn(){var e=Object(l.b)(),t=Object(m.a)(e,2),n=t[0],r=(t[1],Object(i.useState)(n.get("email")?n.get("email"):"")),a=Object(m.a)(r,2),s=a[0],u=a[1],d=Object(i.useState)(""),f=Object(m.a)(d,2),h=f[0],p=f[1],v=Object(i.useState)(n.get("resetToken")),g=Object(m.a)(v,2),b=g[0],y=(g[1],Object(i.useState)("")),x=Object(m.a)(y,2),_=x[0],E=x[1],w=Object(c.n)();function k(){return(k=Object(G.a)(un().mark((function e(){var t;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=rn(s),E(t.message),t.result){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Qt({email:s}).then((function(e){return e.json()})).then((function(e){E("We have sent the password reset instructions to your email. Please note the link expires in 1 hour.")})).catch((function(e){console.error("Error:",e)}));case 6:e.sent;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(G.a)(un().mark((function e(){return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tn({email:s,password:h,token:b}).then((function(e){return e.json()})).then((function(e){E("Your password has been successfully reset!"),w("/")})).catch((function(e){console.error("Error:",e)}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return b?o.a.createElement(on,null,o.a.createElement(W.a,{sx:{display:"flex",flexDirection:"column",marginRight:"40px"}},o.a.createElement("img",{className:"logo",src:z.a,alt:"Frontline Logo"}),o.a.createElement("h1",null,"Optimization Platform"),"Find the best sequence of activities with optimal resource loading to ace your project"),o.a.createElement(W.a,{className:"form",component:"form",noValidate:!0,autoComplete:"off"},o.a.createElement("h2",null,"Reset Password"),_,o.a.createElement("p",null,"Your new password must be different from previous used passwords."),o.a.createElement(Zt.a,{label:"Email",variant:"outlined",value:s,disabled:!0}),o.a.createElement("br",null),o.a.createElement(Zt.a,{label:"Password",type:"password",variant:"outlined",value:h,onChange:function(e){return p(e.target.value)}}),o.a.createElement("br",null),o.a.createElement("div",{className:"row"},o.a.createElement("div",null),o.a.createElement(X,{variant:"contained",onClick:function(){return O.apply(this,arguments)}},"Reset Password")))):o.a.createElement(o.a.Fragment,null,o.a.createElement(sn,null,o.a.createElement(W.a,{sx:{display:"flex",flexDirection:"column",marginRight:"40px"},noValidate:!0,autoComplete:"off"},o.a.createElement("img",{className:"logo",src:z.a,alt:"Frontline Logo"}),o.a.createElement("h1",null,"Optimization Platform"),"Find the best sequence of activities with optimal resource loading to ace your project"),o.a.createElement(W.a,{className:"form",component:"form",noValidate:!0,autoComplete:"off"},o.a.createElement("h3",null,"Reset Password"),o.a.createElement("p",{className:"error"},_),o.a.createElement("p",null,"Enter the email associated with your account and we'll send an email with instructions to reset your password."),o.a.createElement(Zt.a,{label:"Email",placeholder:"example@gmail.com",variant:"outlined",value:s,onChange:function(e){return u(e.target.value)}}),o.a.createElement("div",{className:"row"},o.a.createElement($,{variant:"contained",onClick:function(){w("/login")}},"Back"),o.a.createElement(X,{variant:"contained",onClick:function(){return k.apply(this,arguments)}},"Request")))))}function mn(){return o.a.createElement(s.a,{authType:"cookie",authName:"_auth",cookieDomain:window.location.hostname,cookieSecure:!1},o.a.createElement(l.a,null,o.a.createElement(H,null,o.a.createElement(c.d,null,o.a.createElement(c.b,{path:"/",element:o.a.createElement(s.b,{loginPath:"/login"},o.a.createElement(Vt,null))}),o.a.createElement(c.b,{path:"/login",element:o.a.createElement(cn,null)}),o.a.createElement(c.b,{path:"/reset-password",element:o.a.createElement(dn,null)})))))}n(347);a.a.registerComponent("App",(function(){return mn})),a.a.runApplication("App",{rootTag:document.getElementById("root")})},65:function(e,t,n){e.exports=n.p+"static/media/logo.458142f4.png"}},[[324,1,2]]]);
//# sourceMappingURL=main.df3dadf3.chunk.js.map