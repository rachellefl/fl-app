/*! For license information please see main.9902090b.chunk.js.LICENSE.txt */
(this["webpackJsonpfrontline-industrial-software-app"]=this["webpackJsonpfrontline-industrial-software-app"]||[]).push([[0],{304:function(e,t,n){e.exports=n(339)},329:function(e,t,n){},339:function(e,t,n){"use strict";n.r(t);var r,a=n(409),i=n(0),o=n.n(i),l=n(61),c=n(14),s=n(72),u=n(5),d=n(428),f=n(412),p=n(18),h=n(26),m=n(419),v=Object(h.a)(m.a)(r||(r=Object(p.a)(["\n  margin: 30px auto;\n  width: 1200px;\n  .Mui-active circle {\n    color: #00beae;\n  }\n  .Mui-completed circle,.Mui-completed {\n    color: #002F2B !important;\n  }\n"])));function g(e){var t=e.steps,n=e.navAt,r=e.navigate,a=e.disabled;return o.a.createElement(v,{activeStep:n,alternativeLabel:!0},t.map((function(e,t){return o.a.createElement(d.a,{key:e,onClick:function(){0!==n&&0===t&&(window.location.href="/"),a||r(t)}},o.a.createElement(f.a,null,e))})))}var y,b=n(206),w=n(418),x=n(427),_=n(401),E=n(400),j=n(403),k=h.a.div(y||(y=Object(p.a)(["\n  width: 100%;\n  box-sizing: border-box;\n  min-height: 55px;\n  box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;\n  .header { \n    margin: 0 auto 20px;\n    padding: 20px 0;\n    max-width: 1200px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    .logo {\n      display: flex;\n      align-items: center;\n      img {\n        max-width: 200px;\n        margin-right: 20px;\n      }\n    }\n    .menu {\n      &:focus {\n         outline: none !important;\n      }\n    }\n  }\n"]))),O=n(73),N=n.n(O),S=n(185),T=n.n(S),D=n(190),L=n.n(D),P=n(191),C=n.n(P);function F(){var e=Object(s.d)(),t=Object(c.n)();var n=o.a.useState(null),r=Object(u.a)(n,2),a=r[0],i=r[1],l=Boolean(a);return o.a.createElement(k,null,o.a.createElement("div",{className:"header"},o.a.createElement("div",{className:"logo"},o.a.createElement("a",{href:"/"},o.a.createElement("img",{src:N.a,alt:"Frontline Logo"})),o.a.createElement("span",null,"v2.1.0")),o.a.createElement("div",{className:"account"},o.a.createElement(T.a,{id:"basic-button","aria-controls":l?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":l?"true":void 0,onClick:function(e){i(e.currentTarget)},fontSize:"medium"}),o.a.createElement(b.a,{id:"basic-menu",anchorEl:a,open:l,onClose:function(){i(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},MenuListProps:{"aria-labelledby":"basic-button"}},o.a.createElement(w.a,{className:"menu"},o.a.createElement(x.a,{onClick:function(){window.open("https://app.frontline-optimizer.com/v1.0.0/","_blank","noopener,noreferrer")}},o.a.createElement(E.a,null,o.a.createElement(L.a,{fontSize:"small"})),o.a.createElement(_.a,null,"Back to v1.0.0")),o.a.createElement(j.a,null),o.a.createElement(x.a,{onClick:function(){e(),t("/login")}},o.a.createElement(E.a,null,o.a.createElement(C.a,null)),o.a.createElement(_.a,null,"Log Out")))))))}var R=n(15),I=n(11),M=n(21),z=n(22);function A(e){return e instanceof U?e:new U(e)}var U=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(M.a)(this,e),this.gradient=0,this._backward=function(){},this.data=t,this._previous=new Set(n)}return Object(z.a)(e,[{key:"add",value:function(t){var n=this;t=A(t);var r=new e(this.data+t.data,[this,t]);return r._backward=function(){n.gradient+=r.gradient,t.gradient+=r.gradient},r}},{key:"mul",value:function(t){var n=this;t=A(t);var r=new e(this.data*t.data,[this,t]);return r._backward=function(){n.gradient+=t.data*r.gradient,t.gradient+=n.data*r.gradient},r}},{key:"pow",value:function(t){var n=this,r=new e(Math.pow(this.data,t),[this]);return r._backward=function(){n.gradient+=t*Math.pow(n.data,t-1)*r.gradient},r}},{key:"round",value:function(){var t=this,n=new e(Math.round(this.data),[this]);return n._backward=function(){t.gradient+=n.gradient},n}},{key:"backward",value:function(){var t=[],n=new Set;!function r(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new e(0);n.has(a)||(n.add(a),a._previous.forEach(r),t.push(a))}(this),this.gradient=1,t.reverse().forEach((function(e){e._backward()}))}},{key:"sub",value:function(e){return e=A(e),this.add(e.mul(-1))}},{key:"div",value:function(e){return e=A(e),this.mul(e.pow(-1))}}]),e}(),H=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.9,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.999,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e-8;Object(M.a)(this,e),Object.assign(this,{parameters:t,lr:r,beta1:a,beta2:i,epsilon:o}),this.m={},this.v={},Object.entries(t).forEach((function(e){var t=Object(u.a)(e,2),r=t[0];t[1];n.m[r]=0,n.v[r]=0})),this.t=0}return Object(z.a)(e,[{key:"step",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,t){return t},n=this.parameters,r=this.lr,a=this.beta1,i=this.beta2,o=this.epsilon,l=this.m,c=this.v;this.t+=1,Object.entries(n).forEach((function(s){var d=Object(u.a)(s,2),f=d[0],p=d[1];l[f]=a*l[f]+(1-a)*p.gradient,c[f]=i*c[f]+(1-i)*Math.pow(p.gradient,2);var h=l[f]/(1-Math.pow(a,e.t)),m=c[f]/(1-Math.pow(i,e.t)),v=p.data-r*h/(Math.sqrt(m)+o);n[f]=new U(t(f,v))}))}}]),e}();var W=function(){function e(){Object(M.a)(this,e),this.xy={},this.min=new U(0),this.max=new U(0),this.span=new U(0)}return Object(z.a)(e,[{key:"add",value:function(e,t){this.xy[e]||(this.xy[e]=new U(0)),this.xy[e]=this.xy[e].add(t)}},{key:"evaluate",value:function(){Object.assign(this,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new U(0)];if((e=Object.values(e)).length){var t=new U(1/0),n=new U(-1/0);e.forEach((function(e){e.data<t.data&&(t=e),e.data>n.data&&(n=e)}));var r=n.sub(t);return{min:t,max:n,span:r}}}(this.xy))}}]),e}();function B(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new U(0);return(null===e||void 0===e?void 0:e.data)<n&&(a=a.add(e.sub(n).div(-n))),(null===t||void 0===t?void 0:t.data)>r&&(a=a.add(t.sub(r).div(r))),a}function G(e){if(e instanceof U)return e.data;if(Array.isArray(e))return e.map(G);if("object"===typeof e&&e){var t={};return Object.entries(e).forEach((function(e){var n=Object(u.a)(e,2),r=n[0],a=n[1];t[r]=G(a)})),t}return e}var q=Object(z.a)((function e(){Object(M.a)(this,e),this.tasks={},this.resources={},this.calendars={},this.settings={considerActualDates:!0,optimizationSteps:20,learningRate:.025,minDurationRatio:.5,maxDurationRatio:2},this.output={}})),Y=Object(z.a)((function e(){Object(M.a)(this,e),this.predecessors={},this.resources={}})),V=Object(z.a)((function e(){Object(M.a)(this,e)})),J=Object(z.a)((function e(){Object(M.a)(this,e)})),K=Object(z.a)((function e(){Object(M.a)(this,e)})),X=Object(z.a)((function e(){Object(M.a)(this,e)})),Q=n(40);function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n={};return e.forEach((function(e,r){return n[e]=t[r]})),n}function $(e){return Object.keys(e).length}function ee(e){return e?Array.isArray(e)?e:[e]:[]}var te=function(e){return Date.parse(e+"Z")},ne=function(e){if(e){var t=new Date(e).toISOString();return t.substring(0,10)+" "+t.substring(11,16)}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"PT200H0M0S";return parseInt(e.split("PT")[1].split("H")[0])},ae=function(e){return"PT".concat(e,"H0M0S")};function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,r=Q.b.book_new();Object.entries(e).forEach((function(e){var t=Object(u.a)(e,2),a=t[0],i=t[1];i=Object.values(i);var o=Q.b.json_to_sheet(i);o["!cols"]=Object.keys(i[0]).map((function(e){var t=Math.max.apply(Math,[e.length].concat(Object(I.a)(i.map((function(t){return t[e]?String(t[e]).length:0})))));return{wch:Math.min(n,t+1)}})),Q.b.book_append_sheet(r,o,a)})),Q.c(r,t)}function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new File;return new Promise((function(t){var n=new FileReader;n.onload=function(e){var n=Q.a(e.target.result,{type:"binary"}),r={};n.SheetNames.forEach((function(e){r[e]=Q.b.sheet_to_json(n.Sheets[e])})),t(r)},n.readAsBinaryString(e)}))}function le(e,t,n){return(t||0===t)&&(e=Math.max(t,e)),(n||0===n)&&(e=Math.min(n,e)),e}function ce(){ce=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),l=new k(a||[]);return r(o,"_invoke",{value:x(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var d={};function f(){}function p(){}function h(){}var m={};c(m,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==t&&n.call(g,i)&&(m=g);var y=h.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var c=u(e[a],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,l)}))}l(c.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function x(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=_(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return p.prototype=h,r(y,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=c(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new w(s(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(y),c(y,l,"Generator"),c(y,i,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var se=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new q;Object(M.a)(this,e),this.project=new q,this.results={},this.project=t,this._ignoreTasks(),this._reorderTasks(),this.simulate(),this.planned=this.project.output,this.plannedproject=JSON.parse(JSON.stringify(this.project)),this.constraintTables=this._makeConstraints(),console.log(t.projectFileName)}return Object(z.a)(e,[{key:"_ignoreTasks",value:function(){var e=this.project.tasks;Object.values(e).forEach((function(e){e.ignore="Task"!==e.type})),Object.values(e).forEach((function(t){Object.values(t.predecessors).forEach((function(n){e[n.predecessorId].ignore&&delete t.predecessors[n.predecessorId]}))}))}},{key:"_reorderTasks",value:function(){var e=this,t=this.project,n=t.tasks,r=t.resources,a=t.calendars,i={};this.orderedTasks=[];for(;;){var o=$(i);if(Object.values(n).forEach((function(t){i[t.id]||(t.ignore&&(i[t.id]=!0),Object.values(t.predecessors).every((function(e){return i[e.predecessorId]}))&&(i[t.id]=!0,t.ignore||e.orderedTasks.push(t)))})),$(i)===o)break}if($(i)!==$(n))throw new Error("predecessor error");console.log("topological reordering successful. ".concat($(this.orderedTasks),"/").concat($(n)," tasks considered. ").concat($(r)," resources. ").concat($(a)," calendars."))}},{key:"simulate",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.project,a=r.settings,i=r.calendars,o=new U(1/0),l=new U(0);this.orderedTasks.forEach((function(r){r.criticalPredecessorId=null,r.critical=null;var c=6048e5/i[r.calendarId].weekHourCount;if(a.considerActualDates&&r.actualStart)r.optimizable=!1,r.newStart=new U(r.actualStart),r.newFinish=new U(r.actualFinish||r.plannedFinish),r.newDuration=new U(r.plannedDuration);else{r.optimizable=!0,r.durationRatio=A(n[r.id]||1),r.newDuration=r.durationRatio.mul(r.plannedDuration).round();var s=r.newDuration.mul(c);$(r.predecessors)?r.newStart=t.__findStartFromPredecessors(r,s):r.newStart=new U(r.plannedStart),r.newFinish=r.newStart.add(s)}r.newStart.data<o.data&&(o=r.newStart),r.newFinish.data>l.data&&(l=r.newFinish,e=r.id)}));var c=l.sub(o).div(864e5),s=this.__findResourceDistribution(),u=this.__findCriticalPath(e),d=this.__findConstraintLoss();this.project.output={projectStart:o,projectFinish:l,projectDurationDays:c,laborDistribution:s,criticalPath:u,constraintLoss:d}}},{key:"__findStartFromPredecessors",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Y,n=arguments.length>1?arguments[1]:void 0,r=new U(0);return Object.values(t.predecessors).forEach((function(a){var i,o=e.project.tasks[a.predecessorId],l=36e5*a.lagHour;"FS"===a.type?i=o.newFinish.add(l):"SS"===a.type?i=o.newStart.add(l):"FF"===a.type?i=o.newFinish.add(l).sub(n):"SF"===a.type&&(i=o.newStart.add(l).sub(n)),i.data>r.data&&(r=i,t.criticalPredecessorId=o.id)})),r}},{key:"__findResourceDistribution",value:function(){var e=this.project,t=e.resources,n=e.calendars;Object.values(t).forEach((function(e){e.distribution=new W}));var r=new W;return this.orderedTasks.forEach((function(e){if(e.optimizable&&0!==e.newDuration.data){var a=Math.floor(e.newStart.data/864e5),i=Math.floor(e.newFinish.data/864e5),o=n[e.calendarId];Object.values(e.resources).forEach((function(n){if(0!==n.plannedUnits){var l=t[n.resourceId];if(l){n.newUnitsPerHour=new U(n.plannedUnits).div(e.newDuration),"Material"===l.type?n.newUnitsPerDay=n.newUnitsPerHour.mul(o.weekHourCount/7):n.newUnitsPerDay=n.newUnitsPerHour;for(var c=a;c<=i;c++){var s=864e5*c;l.distribution.add(s,n.newUnitsPerDay),"Labor"===l.type&&r.add(s,n.newUnitsPerDay)}}}}))}})),Object.values(t).forEach((function(e){e.distribution.evaluate()})),r.evaluate(),r}},{key:"__findCriticalPath",value:function(e){for(var t=[];e;){t.push(e);var n=this.project.tasks[e];n.critical=!0,e=n.criticalPredecessorId}return t}},{key:"__findConstraintLoss",value:function(){var e=new U(0);return this.orderedTasks.forEach((function(t){Object.values(t.resources).forEach((function(t){e=B(t.newUnitsPerDay,t.newUnitsPerDay,t.minUnitsPerDay,t.maxUnitsPerDay,e)}))})),Object.values(this.project.resources).forEach((function(t){var n=t.distribution;e=B(n.min,n.max,t.minUnitsPerDay,t.maxUnitsPerDay,e)})),e}},{key:"_makeConstraints",value:function(){var e=this.planned,t=this.project,n=t.tasks,r=t.resources,a=t.calendars,i=t.output,o=[],l=[],c=[],s=function(e){return{projectStart:ne(e.projectStart.data),projectFinish:ne(e.projectFinish.data),projectDurationDays:Math.round(e.projectDurationDays.data),laborDistributionDays:$(e.laborDistribution.xy),laborDistributionMin:e.laborDistribution.min.data,laborDistributionMax:e.laborDistribution.max.data,laborDistributionSpan:e.laborDistribution.span.data,criticalPath:e.criticalPath.map((function(e){return n[e].code})).join(", "),constraintLoss:e.constraintLoss.data}},u=[s(e)],d=[s(i)];return Object.values(n).forEach((function(e){var t,i,c,s,u,d=a[e.calendarId],f={taskInfo:"|||",id:e.id,type:e.type,ignore:e.ignore,code:e.code,name:e.name,calendarInfo:"|||",weekHourCount:d.weekHourCount,relationInfo:"|||",predecessors:Object.values(e.predecessors).map((function(e){return n[e.predecessorId].code})).join(", "),resources:Object.values(e.resources).map((function(e){var t;return null===(t=r[e.resourceId])||void 0===t?void 0:t.code})).join(", "),plannedInfo:"|||",plannedDuration:e.plannedDuration,plannedStart:ne(e.plannedStart),plannedFinish:ne(e.plannedFinish),actualInfo:"|||",actualStart:ne(e.actualStart),actualFinish:ne(e.actualFinish),frontlineInfo:"|||",durationRatio:null===(t=e.durationRatio)||void 0===t?void 0:t.data,newDuration:null===(i=e.newDuration)||void 0===i?void 0:i.data,newStart:ne(null===(c=e.newStart)||void 0===c?void 0:c.data),newFinish:ne(null===(s=e.newFinish)||void 0===s?void 0:s.data),criticalPathInfo:"|||",criticalPredecessor:null===(u=n[e.criticalPredecessorId])||void 0===u?void 0:u.code,critical:e.critical,constraintInfo:"|||",minDuration:null,maxDuration:null};o.push(f),Object.values(e.resources).forEach((function(t){var n,a,i,o=r[t.resourceId];if(o){var c=(null===(n=t.newUnitsPerHour)||void 0===n?void 0:n.data)||0,s=(null===(a=t.newUnitsPerDay)||void 0===a?void 0:a.data)||0,u={id:t.id,taskInfo:"|||",taskId:t.taskId,taskType:e.type,taskCode:e.code,resourceInfo:"|||",resourceId:t.resourceId,resourceType:o.type,resourceCode:o.code,calendarInfo:"|||",weekHourCount:d.weekHourCount,plannedInfo:"|||",plannedUnits:t.plannedUnits,plannedUnitsPerHour:t.plannedUnitsPerHour,frontlineInfo:"|||",newDuration:null===(i=e.newDuration)||void 0===i?void 0:i.data,newUnitsPerHour:c,newUnitsPerDay:s,constraintInfo:"|||",minUnitsPerDay:null,maxUnitsPerDay:null};l.push(u)}}))})),Object.values(r).forEach((function(e){var t=e.distribution,n={resourceInfo:"|||",id:e.id,type:e.type,code:e.code,name:e.name,distributionInfo:"|||",distributionDays:$(t.xy),distributionMin:t.min.data,distributionMax:t.max.data,distributionSpan:t.span.data,constraintInfo:"|||",minUnitsPerDay:null,maxUnitsPerDay:null};c.push(n)})),{tasks:o,resources:c,taskResources:l,plannedProperties:u,newProperties:d}}},{key:"downloadConstraints",value:function(){var e=this.project.projectFileName+"_FrontlineConstraints.xlsx";ie(this.constraintTables,e)}},{key:"exportToExcel",value:function(){var e=this.project.projectFileName+"_FrontlineExport.xlsx";ie(this._makeConstraints(),e)}},{key:"applyConstraints",value:function(){var e=Object(R.a)(ce().mark((function e(){var t,n,r,a,i,o=arguments;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:new File,n=this.project,r=n.tasks,a=n.resources,e.next=4,oe(t);case 4:(i=e.sent).tasks.forEach((function(e){var t=r[e.id];t&&(t.minDuration=e.minDuration,t.maxDuration=e.maxDuration)})),i.resources.forEach((function(e){var t=a[e.id];t&&(t.minUnitsPerDay=e.minUnitsPerDay,t.maxUnitsPerDay=e.maxUnitsPerDay)})),i.taskResources.forEach((function(e){var t,n=null===(t=r[e.taskId])||void 0===t?void 0:t.resources[e.resourceId];n&&(n.minUnitsPerDay=e.minUnitsPerDay,n.maxUnitsPerDay=e.maxUnitsPerDay)}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"optimize",value:function(){var e=Object(R.a)(ce().mark((function e(t,n){var r=this;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(R.a)(ce().mark((function e(a){var i,o,l,c,s,u,d,f,p,h,m,v,g;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.project,o=r.results,l=i.settings,c=i.tasks,o[t]||(o[t]=[]),s={},r.orderedTasks.forEach((function(e){s[e.id]=new U(1)})),u={},d=new H(s,l.learningRate),f=Date.now(),m=ce().mark((function e(){var f,m,v,g;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,0)}));case 2:return e.next=4,r.simulate(s);case 4:if(f=[i.output.constraintLoss].concat(Object(I.a)(n(i))),m=new U(0),f.forEach((function(e,t){if(e.data>0){var n=0===t?10:1;void 0===u[t]&&(u[t]=n/e.data),m=m.add(e.mul(u[t]))}})),m.data!==p?(p=m.data,h=0):h++,!(h>10)){e.next=10;break}return e.abrupt("return","break");case 10:o[t].push(G({durationRatios:s,output:i.output,loss:m})),o[t].sort((function(e,t){return t.loss-e.loss})),m.backward(),d.step((function(e,t){var n=c[e];return t=le(t,n.minDuration/n.plannedDuration,n.maxDuration/n.plannedDuration),t=le(t,l.minDurationRatio,l.maxDurationRatio)})),v=o[t],g=v[v.length-1],a(g);case 17:case"end":return e.stop()}}),e)})),v=0;case 10:if(!(v<l.optimizationSteps)){e.next=18;break}return e.delegateYield(m(),"t0",12);case 12:if("break"!==e.t0){e.next=15;break}return e.abrupt("break",18);case 15:v++,e.next=10;break;case 18:g=Date.now(),console.log("".concat(t),"took",g-f,"ms");case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"optimizeDefaults",value:function(){var e=Object(R.a)(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.optimize("Balanced",(function(e){return[e.output.projectDurationDays,e.output.laborDistribution.max,e.output.laborDistribution.span]}));case 2:return e.next=4,this.optimize("Fastest",(function(e){return[e.output.projectDurationDays]}));case 4:return e.next=6,this.optimize("Minimum Resources",(function(e){return[e.output.laborDistribution.max]}));case 6:return e.next=8,this.optimize("Levelled Resources",(function(e){return[e.output.laborDistribution.span]}));case 8:return e.next=10,this.optimize("Constraint Compliance",(function(){return[]}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ue=n(53),de=n(57),fe=n(153),pe={task_id:"7274634",proj_id:"1066",wbs_id:"2447995",clndr_id:"16216",phys_complete_pct:"0",rev_fdbk_flag:"N",est_wt:"1",lock_plan_flag:"N",auto_compute_act_flag:"N",complete_pct_type:"CP_Phys",task_type:"TT_FinMile",duration_type:"DT_FixedDrtn",status_code:"TK_NotStart",task_code:"K.RC.15.E10.005",task_name:"Release for Construction Lower Rush River Inlet @ Lower Rush River Inlet S10",rsrc_id:"",total_float_hr_cnt:"640",free_float_hr_cnt:"136",remain_drtn_hr_cnt:"0",act_work_qty:"0",remain_work_qty:"0",target_work_qty:"0",target_drtn_hr_cnt:"0",target_equip_qty:"0",act_equip_qty:"0",remain_equip_qty:"0",cstr_date:"",act_start_date:"",act_end_date:"",late_start_date:"2024-09-18 18:00",late_end_date:"2024-09-18 18:00",expect_end_date:"",early_start_date:"2024-05-24 18:00",early_end_date:"2024-05-24 18:00",restart_date:"2024-05-24 18:00",reend_date:"2024-05-24 18:00",target_start_date:"2024-05-24 18:00",target_end_date:"2024-05-24 18:00",rem_late_start_date:"2024-09-18 18:00",rem_late_end_date:"2024-09-18 18:00",cstr_type:"",priority_type:"PT_Normal",suspend_date:"",resume_date:"",float_path:"",float_path_order:"",guid:"8Ahn9Ewgz0mdXd0n7Q+UEA",tmpl_guid:"7uj+KW3K7EyRqcwm24llpw",cstr_date2:"",cstr_type2:"",driving_path_flag:"N",act_this_per_work_qty:"0",act_this_per_equip_qty:"0",external_early_start_date:"",external_late_end_date:"",cbs_id:"",pre_pess_start_date:"",pre_pess_finish_date:"",post_pess_start_date:"",post_pess_finish_date:"",create_date:"2023-01-12 20:18",update_date:"2023-01-12 20:18",create_user:"IMUNOZ",update_user:"IMUNOZ",location_id:"",control_updates_flag:"N",crt_path_num:""},he={rsrc_id:"1318",parent_rsrc_id:"",clndr_id:"6645",role_id:"",shift_id:"",user_id:"",pobs_id:"",guid:"Cjk2LqM8xkW5h20mdCXeaA",rsrc_seq_num:"3",email_addr:"",employee_code:"",office_phone:"",other_phone:"",rsrc_name:"Cost",rsrc_short_name:"C-1",rsrc_title_name:"",def_qty_per_hr:"0",cost_qty_type:"QT_Hour",ot_factor:"0",active_flag:"Y",auto_compute_act_flag:"Y",def_cost_qty_link_flag:"Y",ot_flag:"N",curr_id:"1",unit_id:"101",rsrc_type:"RT_Mat",location_id:"",ts_approve_user_id:"",timesheet_flag:"N",rsrc_notes:"?????<HTML><BODY></BODY></HTML>",load_tasks_flag:"",level_flag:"",last_checksum:""},me={clndr_id:"597",default_flag:"N",clndr_name:"Standard 5 Day Workweek",proj_id:"",base_clndr_id:"",last_chng_date:"2000-04-26 14:11",clndr_type:"CA_Base",day_hr_cnt:"8",week_hr_cnt:"40",month_hr_cnt:"172",year_hr_cnt:"2000",rsrc_private:"N",clndr_data:"(0||CalendarData()(    (0||DaysOfWeek()(      (0||1()())      (0||2()(        (0||0(s|08:00|f|12:00)())        (0||1(s|13:00|f|17:00)())))      (0||3()(        (0||0(s|08:00|f|12:00)())        (0||1(s|13:00|f|17:00)())))      (0||4()(        (0||0(s|08:00|f|12:00)())        (0||1(s|13:00|f|17:00)())))      (0||5()(        (0||0(s|08:00|f|12:00)())        (0||1(s|13:00|f|17:00)())))      (0||6()(        (0||0(s|08:00|f|12:00)())        (0||1(s|13:00|f|17:00)())))      (0||7()())))    (0||Exceptions()())))"},ve={task_pred_id:"12321174",task_id:"7283774",pred_task_id:"7283773",proj_id:"1066",pred_proj_id:"1066",pred_type:"PR_SS",lag_hr_cnt:"0",comments:"",float_path:"",aref:"2025-06-11 08:00",arls:"2025-06-25 08:00"},ge={taskrsrc_id:"8713042",task_id:"7279501",proj_id:"1066",cost_qty_link_flag:"Y",role_id:"",acct_id:"",rsrc_id:"10078",pobs_id:"",skill_level:"",remain_qty:"50",target_qty:"50",remain_qty_per_hr:"1",target_lag_drtn_hr_cnt:"0",target_qty_per_hr:"1",act_ot_qty:"0",act_reg_qty:"0",relag_drtn_hr_cnt:"0",ot_factor:"",cost_per_qty:"0.0000",target_cost:"0.0000",act_reg_cost:"0.0000",act_ot_cost:"0.0000",remain_cost:"0.0000",act_start_date:"",act_end_date:"",restart_date:"2023-07-12 08:00",reend_date:"2023-07-18 18:00",target_start_date:"2023-07-12 08:00",target_end_date:"2023-07-18 18:00",rem_late_start_date:"2024-11-05 08:00",rem_late_end_date:"2024-11-12 18:00",rollup_dates_flag:"N",target_crv:"",remain_crv:"",actual_crv:"",ts_pend_act_end_flag:"N",guid:"ddVEJHT/c0SG/89BsElFgQ",rate_type:"COST_PER_QTY",act_this_per_cost:"0.0000",act_this_per_qty:"0",curv_id:"",rsrc_type:"RT_Labor",cost_per_qty_source_type:"ST_Rsrc",create_user:"IMUNOZ",create_date:"2023-01-12 20:18",cbs_id:"",has_rsrchours:"",taskrsrc_sum_id:""},ye={UID:0,Name:"PDD- Master programme Asper  EOT-Productivity Delay -011021 - REV",Active:1,ID:0,Type:1,Manual:0,IsNull:0,CreateDate:"2009-10-12T11:25:00",WBS:0,OutlineNumber:0,OutlineLevel:0,Priority:500,ManualStart:"2019-08-01T08:00:00",ManualFinish:"2025-02-21T17:00:00",ManualDuration:"PT14864H0M0S",Start:"2019-08-01T08:00:00",Finish:"2025-02-21T17:00:00",Duration:"PT14864H0M0S",Work:"PT3680H0M0S",Stop:"2019-08-01T08:00:00",Resume:"2019-08-01T08:00:00",EffortDriven:1,Recurring:0,OverAllocated:0,Estimated:0,Milestone:0,Summary:1,Critical:1,IsSubproject:0,ExternalTask:0,EarlyFinish:"2025-02-21T17:00:00",EarlyStart:"2019-08-01T08:00:00",LateStart:"2019-08-01T08:00:00",LateFinish:"2025-02-21T17:00:00",StartVariance:0,FinishVariance:0,WorkVariance:2208e5,FreeSlack:0,TotalSlack:0,FixedCost:0,FixedCostAccrual:3,PercentComplete:4.42973767279852,PercentWorkComplete:0,Cost:0,OvertimeCost:0,OvertimeWork:"PT0H0M0S",ActualStart:"2019-08-01T08:00:00",ActualDuration:"PT658H26M0S",ActualCost:0,ActualOvertimeCost:0,ActualWork:"PT0H0M0S",ActualOvertimeWork:"PT0H0M0S",RegularWork:"PT0H0M0S",RemainingDuration:"PT14205H33M0S",RemainingWork:"PT3680H0M0S",RemainingOvertimeCost:0,RemainingOvertimeWork:"PT0H0M0S",ACWP:0,CV:0,ConstraintType:0,LevelAssignments:0,LevelingCanSplit:0,LevelingDelay:0,CalendarUID:-1,Hyperlink:"",HyperlinkAddress:"",HyperlinkSubAddress:"",IgnoreResourceCalendar:0,HideBar:0,Rollup:0,BCWS:0,BCWP:0,PhysicalPercentComplete:0,EarnedValueMethod:0,Baseline:{Duration:"PT0H0M0S"},IsPublished:1},be={CalendarUID:4,UID:1,ID:1,Name:"CC1 Steel",Type:1,IsNull:0,Initials:"C",WorkGroup:0,MaxUnits:1,PeakUnits:0,OverAllocated:0,Start:"9999-12-31T23:59:59",CanLevel:1,AccrueAt:3,Work:"PT0H0M0S",RegularWork:"PT0H0M0S",OvertimeWork:"PT0H0M0S",ActualWork:"PT0H0M0S",RemainingWork:"PT0H0M0S",ActualOvertimeWork:"PT0H0M0S",RemainingOvertimeWork:"PT0H0M0S",PercentWorkComplete:0,StandardRate:0,Cost:0,OvertimeRate:0,OvertimeRateFormat:2,OvertimeCost:0,CostPerUse:0,ActualCost:0,ActualOvertimeCost:0,RemainingCost:0,RemainingOvertimeCost:0,WorkVariance:0,CostVariance:0,SV:0,CV:0,ACWP:0,BCWS:0,BCWP:0,IsInactive:0,IsGeneric:0,BookingType:0,CreationDate:"8/28/2019 5:16:00 PM",IsEnterprise:0},we={UID:7,Name:"covid 19",IsBaseCalendar:1,BaseCalendarUID:-1,WeekDays:{WeekDay:[{DayType:1,DayWorking:0},{DayType:2,DayWorking:1,WorkingTimes:{WorkingTime:[{FromTime:"08:00:00",ToTime:"12:00:00"},{FromTime:"13:00:00",ToTime:"17:00:00"}]}},{DayType:3,DayWorking:1,WorkingTimes:{WorkingTime:[{FromTime:"08:00:00",ToTime:"12:00:00"},{FromTime:"13:00:00",ToTime:"17:00:00"}]}},{DayType:4,DayWorking:1,WorkingTimes:{WorkingTime:[{FromTime:"08:00:00",ToTime:"12:00:00"},{FromTime:"13:00:00",ToTime:"17:00:00"}]}},{DayType:5,DayWorking:1,WorkingTimes:{WorkingTime:[{FromTime:"08:00:00",ToTime:"12:00:00"},{FromTime:"13:00:00",ToTime:"17:00:00"}]}},{DayType:6,DayWorking:1,WorkingTimes:{WorkingTime:[{FromTime:"08:00:00",ToTime:"12:00:00"},{FromTime:"13:00:00",ToTime:"17:00:00"}]}},{DayType:7,DayWorking:0}]}},xe={PredecessorUID:16546,Type:1,CrossProject:0,LinkLag:0,LagFormat:7},_e={UID:2870,ResourceUID:2,TaskUID:16323,ActualCost:0,ActualWork:"PT0H0M0S",Cost:0,Delay:0,Finish:"2024-05-22T17:00:00",LinkedFields:0,PeekUnits:1,Start:"2023-08-03T08:00:00",Stop:"2024-05-22T17:00:00",Units:1,Work:"PT1920H0M0S",WorkContour:0,PercentWorkComplete:"0%",TimephasedData:[]};function Ee(){Ee=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),l=new k(a||[]);return r(o,"_invoke",{value:x(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var d={};function f(){}function p(){}function h(){}var m={};c(m,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==t&&n.call(g,i)&&(m=g);var y=h.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var c=u(e[a],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,l)}))}l(c.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function x(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=_(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return p.prototype=h,r(y,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=c(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new w(s(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(y),c(y,l,"Generator"),c(y,i,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var je,ke,Oe,Ne,Se,Te,De,Le,Pe=function(){function e(){Object(M.a)(this,e)}return Object(z.a)(e,[{key:"read",value:function(){var e=Object(R.a)(Ee().mark((function e(){var t,n,r=this,a=arguments;return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:new File,n=new FileReader,e.abrupt("return",new Promise((function(e){n.onload=function(n){r.rawText=n.target.result.trim(),r.rawData=r.rawTextToRawData(r.rawText),r.project=r.rawDataToProject(r.rawData),r.project.projectFileName=t.name,e(r.project)},n.readAsText(t)})));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"rawTextToRawData",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r={},a=[];n.split("\n").forEach((function(n){var i=n.split("\t").map((function(e){return e.trim()})),o=i[0],l=i.slice(1);switch(o){case"ERMHDR":e=l;break;case"%T":var c=l[0];a=r[c]=[];break;case"%F":t=l;break;case"%R":var s=l;a.push(Z(t,s))}}));var i={header:e,tables:r};return i}},{key:"rawDataToProject",value:function(e){var t=e.tables,n=new q;return t.TASK.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=new Y;t.id=e.task_id,t.name=e.task_name,t.code=e.task_code,t.type=e.task_type.slice(3),t.calendarId=e.clndr_id,t.predecessors={},t.resources={},t.plannedStart=te(e.target_start_date),t.plannedFinish=te(e.target_end_date),t.plannedDuration=parseInt(e.target_drtn_hr_cnt),t.actualStart=te(e.act_start_date),t.actualFinish=te(e.act_end_date),n.tasks[t.id]=t})),Object.values(t.RSRC).forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=new V;t.id=e.rsrc_id,t.name=e.rsrc_name,t.code=e.rsrc_short_name,t.type={Labor:"Labor",Equip:"Equipment",Mat:"Material"}[e.rsrc_type.slice(3)],n.resources[t.id]=t})),t.CALENDAR.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=new J;t.id=e.clndr_id,t.name=e.clndr_name,t.weekHourCount=parseInt(e.week_hr_cnt),n.calendars[t.id]=t})),t.TASKPRED.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=new K;t.id=e.task_pred_id,t.taskId=e.task_id,t.predecessorId=e.pred_task_id,t.type=e.pred_type.slice(3),t.lagHour=parseInt(e.lag_hr_cnt);var r=n.tasks[t.taskId];r.predecessors[t.predecessorId]=t})),Object.values(t.TASKRSRC).forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=new X;t.id=e.taskrsrc_id,t.taskId=e.task_id,t.resourceId=e.rsrc_id,t.plannedUnits=parseFloat(e.target_qty);var r=n.tasks[t.taskId];t.plannedUnitsPerHour=r.plannedDuration>0?t.plannedUnits/r.plannedDuration:0,r.resources[t.resourceId]=t})),n}},{key:"projectToRawData",value:function(e){var t=JSON.parse(JSON.stringify(this.rawData)),n=t.tables;return n.TASK.forEach((function(){var t,n,r,a,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,l=e.tasks[o.task_id];l&&(o.target_start_date=ne(null===(t=l.newStart)||void 0===t?void 0:t.data),o.target_end_date=ne(null===(n=l.newFinish)||void 0===n?void 0:n.data),o.target_drtn_hr_cnt=null===(r=l.newDuration)||void 0===r?void 0:r.data,o.act_start_date&&(o.act_start_date=ne(null===(a=l.newStart)||void 0===a?void 0:a.data)),o.act_end_date&&(o.act_end_date=ne(null===(i=l.newFinish)||void 0===i?void 0:i.data)))})),Object.values(n.TASKRSRC).forEach((function(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,a=null===(t=e.tasks[r.task_id])||void 0===t?void 0:t.resources[r.rsrc_id];a&&(r.target_qty_per_hr=null===(n=a.newUnitsPerHour)||void 0===n?void 0:n.data)})),t}},{key:"rawDataToRawText",value:function(e){var t=e.header,n=e.tables,r=[];return r.push(["ERMHDR"].concat(Object(I.a)(t)).join("\t")),Object.entries(n).forEach((function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1];r.push(["%T",n].join("\t")),r.push(["%F"].concat(Object(I.a)(Object.keys(a[0]))).join("\t")),a.forEach((function(e){r.push(["%R"].concat(Object(I.a)(Object.values(e))).join("\t"))}))})),r.push("%E"),r.join("\n")}},{key:"exportToOriginal",value:function(e){var t=this.projectToRawData(e),n=this.rawDataToRawText(t);!function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.split("."),r=n.pop();return n.join(".")+t+"."+r}(e.projectFileName,"_FrontlineExport"),n)}}]),e}(),Ce=function(e){Object(ue.a)(n,e);var t=Object(de.a)(n);function n(){return Object(M.a)(this,n),t.apply(this,arguments)}return Object(z.a)(n,[{key:"rawTextToRawData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new fe.XMLParser({ignoreAttributes:!1,ignoreDeclaration:!1,ignorePiTags:!1}),n=t.parse(e);return n}},{key:"rawDataToProject",value:function(e){var t,n,r=new q,a=e.Project;a.Tasks.Task.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=new Y;t.id=e.UID,t.name=e.Name,t.code=e.WBS,t.type=e.Summary?"Summary":e.Milestone?"Milestone":"Task",t.calendarId=e.CalendarUID,t.predecessors={},t.resources={},t.plannedStart=te(e.Start),t.plannedFinish=te(e.Finish),t.plannedDuration=re(e.Duration),t.actualStart=te(e.ActualStart),t.actualFinish=te(e.ActualFinish),r.tasks[t.id]=t,ee(e.PredecessorLink).forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,n=new K;n.id=null,n.taskId=t.id,n.predecessorId=e.PredecessorUID,n.type=["FF","FS","SF","SS"][e.Type],n.lagHour=e.LinkLag/600,t.predecessors[n.predecessorId]=n}))})),ee(a.Resources.Resource).forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=new V;t.id=e.UID,t.name=e.Name,t.code=e.Initials,t.type=["Material","Labor","Cost"][e.Type],r.resources[t.id]=t}));var i=new J;i.id="-1",i.name="standard 5 days 8 hours",i.weekHourCount=40,r.calendars[i.id]=i;var o=null===a||void 0===a||null===(t=a.Calendars)||void 0===t?void 0:t.Calendar;o&&o.forEach((function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,a=new J;(a.id=n.UID,a.name=n.Name,a.weekHourCount=0,void 0!==(null===n||void 0===n||null===(e=n.WeekDays)||void 0===e?void 0:e.WeekDay))&&Object.values(null===n||void 0===n||null===(t=n.WeekDays)||void 0===t?void 0:t.WeekDay).forEach((function(e){var t;[null,"Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.DayType]&&ee(null===(t=e.WorkingTimes)||void 0===t?void 0:t.WorkingTime).forEach((function(e){var t=(Date.parse("1971-06-28T"+e.ToTime)-Date.parse("1971-06-28T"+e.FromTime))/36e5;t<0&&(t+=24),a.weekHourCount+=t}))}));r.calendars[a.id]=a}));var l=null===a||void 0===a||null===(n=a.Assignments)||void 0===n?void 0:n.Assignment;return l&&l.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=new X;t.id=e.UID,t.taskId=e.TaskUID,t.resourceId=e.ResourceUID,t.plannedUnits=re(e.Work);var n=r.tasks[t.taskId];t.plannedUnitsPerHour=n.plannedDuration>0?t.plannedUnits/n.plannedDuration:0,n.resources[t.resourceId]=t})),r}},{key:"projectToRawData",value:function(e){var t,n=JSON.parse(JSON.stringify(this.rawData)),r=n.Project;return r.Tasks.Task.forEach((function(){var t,n,r,a,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,l=e.tasks[o.UID];l&&(o.Start=ne(null===(t=l.newStart)||void 0===t?void 0:t.data),o.Finish=ne(null===(n=l.newFinish)||void 0===n?void 0:n.data),o.Duration=ae(null===(r=l.newDuration)||void 0===r?void 0:r.data),o.ActualStart&&(o.ActualStart=ne(null===(a=l.newStart)||void 0===a?void 0:a.data)),o.ActualFinish&&(o.ActualFinish=ne(null===(i=l.newFinish)||void 0===i?void 0:i.data)))})),(null===(t=r.Assignments)||void 0===t?void 0:t.Assignment).forEach((function(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,a=null===(t=e.tasks[r.TaskUID])||void 0===t?void 0:t.resources[r.ResourceUID];a&&(r.Units=r.PeekUnits=null===(n=a.newUnitsPerHour)||void 0===n?void 0:n.data)})),n}},{key:"rawDataToRawText",value:function(e){return new fe.XMLBuilder({ignoreAttributes:!1}).build(e)}}]),n}(Pe),Fe=n(429),Re=n(430),Ie=n(431),Me=n(413),ze=n(415),Ae=n(105),Ue=n.n(Ae),He=n(154),We=n.n(He),Be=n(411),Ge=n(426),qe=Object(h.a)(Be.a)(je||(je=Object(p.a)(['\n  &.MuiModal-root {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .MuiBox-root {\n    background: #f2f2f2;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    .loader {\n      width: 64px;\n      height: 64px;\n      background: linear-gradient(180deg, #002F2B 0%, rgba(0, 0, 0, 0.1) 25%);\n      border-radius: 50%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      position: relative;\n      animation: spin 1s linear infinite;\n      margin: 0 0 15px;\n    }\n    .loader::after {\n      content: "";\n      width: calc(100% - 4px);\n      height: calc(100% - 4px);\n      border-radius: 50%;\n      background: #f2f2f2;\n    }\n    @keyframes spin {\n      100% {\n        transform: rotate(360deg);\n      }\n    }\n    .title {\n      font-size: 20px;\n      font-family: "Nunito", sans-serif;\n      font-weight: 500;\n      margin: 0 0 15px;\n    }\n    span {\n      color: #696969;\n    }\n    &:focus-visible {\n      outline: none;\n    }\n}\n']))),Ye=Object(h.a)(Ge.a)(ke||(ke=Object(p.a)(["\n  position: 'absolute';\n  top: '50%';\n  left: '50%';\n  transform: 'translate(-50%, -50%)';\n   box-shadow: 1px 1px 5px rgb(207 234 229 / 25%);\n  width: 400px;\n  padding: 40px 20px;\n  border-radius: 64px;\n"]))),Ve=function(e){var t=e.isLoading,n=e.spinner,r=e.onClose,a=e.title,i=e.content;return o.a.createElement(qe,{open:t,onClose:r,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},o.a.createElement(Ye,null,n?o.a.createElement("div",{className:"loader"}):"",o.a.createElement("div",{className:"title",id:"modal-modal-title"},a),o.a.createElement("span",null,i)))},Je=n(422),Ke=h.a.div(Oe||(Oe=Object(p.a)(['\n  background: #F0F1F3;\n  margin: 0;\n  /* padding: 0 0 50px; */\n  min-height: 100vh;\n  min-width: 1200px;\n  .row {\n    display: flex;\n    width: 100%;\n    justify-content: space-between;\n    align-items: center;\n    box-sizing: border-box;\n    /* margin-top: 10px; */\n  }\n  .MuiTableCell-body, .MuiTableCell-head {\n    font-family: "Inter", Arial, Helvetica, sans-serif;\n  }\n']))),Xe=Object(h.a)(Je.a)(Ne||(Ne=Object(p.a)(['\n  padding: 10px 20px !important;\n  box-shadow: none !important;\n  background: #008277 !important;\n  width: auto !important;   \n  font-weight: bold !important;\n  text-transform: capitalize !important;\n  font-size: 1rem !important;\n  font-family: "Inter", sans-serif !important;\n  &:hover {\n      background: #0b534d !important;\n    }\n  &.Mui-disabled {\n    color: #dbdbdb;    \n    background: #f0f0f0 !important;\n  }\n']))),Qe=Object(h.a)(Xe)(Se||(Se=Object(p.a)(["\n  padding: 10px 20px !important;\n  box-shadow: none !important;\n  color: #008277 !important;\n  border: 1px solid #008277 !important;\n  background: white !important;\n  width: auto !important;\n  text-transform: capitalize !important;\n  font-weight: bold !important;\n  &:hover {\n  background: white !important;\n      color: #0b534d !important;\n    }\n  &.Mui-disabled {\n    color: #dbdbdb;    \n    border: 1px solid #f0f0f0 !important;\n  }\n"]))),Ze=n(404),$e=h.a.div(Te||(Te=Object(p.a)(["\n    background: #ffffff;\n    padding: 1px 20px 20px;\n"]))),et=h.a.div(De||(De=Object(p.a)(["\n  width: 100%;\n  .upload-file {\n    /* width: 100%; */\n    margin: 20px 0;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    color: #008277;\n    font-weight: 700;\n    button, input {\n      /* width: 100% !important; */\n      justify-content: flex-start;\n      font-family: \"Inter\", sans-serif;\n    }\n    label {\n      font-weight: 700 !important;\n      svg {\n        margin-right: 8px;\n      }\n    }\n    .upload-button {\n      background: #008277;\n      color: #FFFFFF;\n      border: 1px transparent;\n      padding: 10px 20px;\n      text-align: center;\n      margin-right: 20px;\n      border-radius: 6px;\n      cursor: pointer;\n      &:hover {\n        background: #0b534d;\n      }\n      &.second-upload {\n        color: #008277;\n        background: transparent;\n        border: 1px solid;\n        &:hover {\n          color: #0b534d;\n        }\n      }\n    }\n  }\n  .optimization-input {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    .section {\n      width: 100%;\n      display: flex;\n      margin: 10px 0;\n      min-height: 50px;\n      display: flex-start !important;\n      justify-content: space-between;\n      position: relative;\n      &.disabled {\n        opacity: 0.3;\n      }\n      &:last-of-type {\n        &:after {\n          height: 0;\n        }\n      }\n      &:after {\n        content: '';\n        position: absolute;\n        background: #eeeeee;\n        bottom: 0;\n        left: 0;\n        width: 100%;\n        height: 1px;\n      }\n      .intro {\n        width: 40%;\n        h2 {\n          margin: 0;\n          font-size: 18px;\n          font-weight: 500;\n        }\n        h3 {\n          margin: 0;\n          color: #888888;\n          font-weight: 300;\n          font-size: 16px;\n          line-height: 16px;\n        }\n      }\n      .input-wrapper {\n        width: 60%;\n        .inputs {\n          margin: 0 0 20px;\n          display: flex;\n          justify-content: space-between;\n        }\n      }\n      label {\n         margin-bottom: 0px;\n         font-weight: 400;\n         display: flex;\n         align-items: center;\n        svg {\n          margin-left: 5px;\n          width: 18px;\n        }\n      }\n      .MuiSlider-colorPrimary {\n        color: #00A597;\n        margin: 15px 0;\n      }\n      .MuiInput-root {\n        margin: 6px 0;\n        border: 1px solid #f2f2f2;\n        &.Mui-focused {\n          border: 1px solid #00beae;\n          background: #ffffff;\n        }\n        &:after {\n          border: 0;\n        }\n      }\n      .MuiFormControl-root {\n        width: 45%;\n        margin-right: 50px;\n      }\n    }\n  }\n"]))),tt=Object(h.a)(Ze.a)(Le||(Le=Object(p.a)(["\n  background: #f2f2f2;\n  border-radius: 6px;\n  padding: 4px 8px;\n  &:before {\n    border: 0 !important;\n  }\n"])));function nt(){nt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),l=new k(a||[]);return r(o,"_invoke",{value:x(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var d={};function f(){}function p(){}function h(){}var m={};c(m,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==t&&n.call(g,i)&&(m=g);var y=h.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var c=u(e[a],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,l)}))}l(c.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function x(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=_(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return p.prototype=h,r(y,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=c(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new w(s(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(y),c(y,l,"Generator"),c(y,i,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var rt=[{value:0,label:"0%"},{value:100,label:"100%"},{value:200,label:"200%"}],at=[{value:10,label:"10"},{value:100,label:"100"},{value:200,label:"200"},{value:300,label:"300"},{value:400,label:"400"},{value:500,label:"500"}];function it(e){var t,n,r,a,l=e.uploadedFile,c=e.setUploadedFile,s=e.fileName,d=e.setFileName,f=e.constraintsFileName,p=e.setConstraintsFileName,h=e.updateProject,m=e.optimizer,v=e.setOptimizer,g=(e.reader,e.setReader),y=e.goNext,b=Object(i.useState)(!1),w=Object(u.a)(b,2),x=w[0],_=(w[1],Object(i.useState)(!1)),E=Object(u.a)(_,2),j=E[0],k=E[1],O=Object(i.useState)(null),N=Object(u.a)(O,2),S=N[0],T=N[1],D=Object(i.useState)(!(null===m||void 0===m||null===(t=m.project)||void 0===t?void 0:t.settings)||m.project.settings.considerActualDates),L=Object(u.a)(D,2),P=L[0],C=L[1],F=Object(i.useState)((null===m||void 0===m||null===(n=m.project)||void 0===n?void 0:n.settings)?[m.project.settings.minDurationRatio,m.project.settings.maxDurationRatio]:[50,150]),I=Object(u.a)(F,2),M=I[0],z=I[1],A=Object(i.useState)((null===m||void 0===m||null===(r=m.project)||void 0===r?void 0:r.settings)?m.project.settings.optimizationSteps:20),U=Object(u.a)(A,2),H=U[0],W=U[1],B=Object(i.useState)((null===m||void 0===m||null===(a=m.project)||void 0===a?void 0:a.settings)?m.project.settings.learningRate:.025),G=Object(u.a)(B,2),q=G[0],Y=G[1];Object(i.useEffect)((function(){var e;(null===m||void 0===m||null===(e=m.project)||void 0===e?void 0:e.settings)&&(m.project.settings.minDurationRatio=M[0]/100,m.project.settings.maxDurationRatio=M[1]/100)}),[M]),Object(i.useEffect)((function(){var e;(null===m||void 0===m||null===(e=m.project)||void 0===e?void 0:e.settings)&&(m.project.settings.optimizationSteps=H)}),[H]),Object(i.useEffect)((function(){var e;(null===m||void 0===m||null===(e=m.project)||void 0===e?void 0:e.settings)&&(m.project.settings.considerActualDates=P),h(S)}),[P]),Object(i.useEffect)((function(){var e;(null===m||void 0===m||null===(e=m.project)||void 0===e?void 0:e.settings)&&(m.project.settings.learningRate=q)}),[q]);var V=function(e){C("true"===e)},J=function(){var e=Object(R.a)(nt().mark((function e(t){var n,r;return nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(t),d(t.name),n=(null===t||void 0===t?void 0:t.name.endsWith("xer"))?new Pe:new Ce,e.next=5,n.read(t);case 5:r=e.sent,g(n),T(r),v(new se(r)),k(!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(R.a)(nt().mark((function e(t){return nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(t.name),e.next=3,m.applyConstraints(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){l&&J(l),h(S)}),[l]);return o.a.createElement($e,null,o.a.createElement("h2",null,"Upload schedule and enter optimization settings"),o.a.createElement(et,null,o.a.createElement("div",{className:"optimization-input"},o.a.createElement("div",{className:"section"},o.a.createElement("div",{className:"intro"},o.a.createElement("h2",null,"Schedule"),o.a.createElement("h3",null,"Upload your schedule (.xer or .xml)")),o.a.createElement("div",{className:"input-wrapper"},o.a.createElement("div",{className:"inputs",style:{alignItems:"center"}},o.a.createElement("div",{className:"upload-file"},o.a.createElement("input",{hidden:!0,type:"file",id:"project-file",name:"project",onChange:function(e){c(e.target.files[0])},accept:".xer,.xml"}),o.a.createElement("label",{className:"upload-button",htmlFor:"project-file"},o.a.createElement(We.a,null)," Upload file"),o.a.createElement("span",null,s)),o.a.createElement("span",null,"or"," ",o.a.createElement("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){fetch("/demo_project.xml").then((function(e){return e.blob()})).then((function(e){var t=new File([e],"demo_project.xml");c(t),k(!0)}))}},"use a demo project"))))),o.a.createElement("div",{className:"section ".concat(j?"":"disabled")},o.a.createElement("div",{className:"intro"},o.a.createElement("h2",null,"Constraints"),o.a.createElement("h3",null,"Upload your constraints (",o.a.createElement("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){m.downloadConstraints()}},"download template"),")")),o.a.createElement("div",{className:"input-wrapper"},o.a.createElement("div",{className:"inputs"},o.a.createElement("div",{className:"upload-file"},o.a.createElement("input",{hidden:!0,type:"file",id:"constraints-file",name:"constraints",onChange:function(e){K(e.target.files[0])},accept:".xls,.xlsx"}),o.a.createElement("label",{className:"upload-button  second-upload",htmlFor:"constraints-file"},o.a.createElement(We.a,null)," Upload file"),o.a.createElement("span",null,f))))),o.a.createElement("div",{className:"section ".concat(j?"":"disabled")},o.a.createElement("div",{className:"intro"},o.a.createElement("h2",null,"Optimization Settings"),o.a.createElement("h3",null,"Customize your optimization results")),o.a.createElement("div",{className:"input-wrapper"},o.a.createElement("div",{className:"inputs"},o.a.createElement(Fe.a,null,o.a.createElement("label",null,"Ignore Project Scheduled Dates",o.a.createElement(Re.a,{title:o.a.createElement("div",{style:{fontSize:"13px",fontFamily:"Inter"}},"The engine will not take into account any defined dates therefore the optimized project will not follow original schedule")},o.a.createElement(Ue.a,null))),o.a.createElement("div",{className:"row",style:{justifyContent:"flex-start"}},o.a.createElement(Ie.a,{value:!1,checked:!1===P,control:o.a.createElement(Me.a,null),label:"Yes",onChange:function(e){return V(e.target.value)}}),o.a.createElement(Ie.a,{value:!0,checked:!0===P,control:o.a.createElement(Me.a,null),label:"No",onChange:function(e){return V(e.target.value)}}))),o.a.createElement(Fe.a,null,o.a.createElement("label",null,"Learning Rate",o.a.createElement(Re.a,{title:o.a.createElement("div",{style:{fontSize:"13px",fontFamily:"Inter"}},"Learning rate is the step size of the engine which affects speed, stability, and convergence. The higher the rate, the faster results are generated.")},o.a.createElement(Ue.a,null))),o.a.createElement(tt,{id:"learningRate",type:"number",value:q,onChange:function(e){Y(e.target.value)},placeholder:"eg: 0.025",variant:"outlined",disabled:!j}))),o.a.createElement("div",{className:"inputs"},o.a.createElement(Fe.a,{style:{width:"100%"}},o.a.createElement("label",null,"Optimization Ratio "," ",M?o.a.createElement(o.a.Fragment,null,"(",M[0].toString(),"% - ",M[1].toString(),"%)"):"",o.a.createElement(Re.a,{title:o.a.createElement("div",{style:{fontSize:"13px",fontFamily:"Inter"}},"Ratio = New Duration over Baseline Duration")},o.a.createElement(Ue.a,null))),o.a.createElement(ze.a,{id:"optimization-ratio",step:5,min:0,max:200,valueLabelDisplay:"auto",getAriaLabel:function(){return"Optimization Ratio"},value:M,marks:rt,onChange:function(e){return z(e.target.value)},disabled:!j}))),o.a.createElement("div",{className:"inputs"},o.a.createElement(Fe.a,{style:{width:"100%"}},o.a.createElement("label",null,"Optimization Steps (",H.toString(),")",o.a.createElement(Re.a,{title:o.a.createElement("div",{style:{fontSize:"13px",fontFamily:"Inter"}},"Recommended steps: 20 - 50, the higher the number the longer it will take to optimize results")},o.a.createElement(Ue.a,null))),o.a.createElement(ze.a,{id:"optimization-steps","aria-label":"optimization-steps",value:H,onChange:function(e){W(e.target.value)},step:10,min:10,max:500,marks:at,valueLabelDisplay:"auto",disabled:!j})))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",null),o.a.createElement(Xe,{variant:"contained",onClick:y,disabled:!j},"Next")),o.a.createElement(Ve,{isLoading:x,title:"Reading File Data (size: ".concat(l&&l.size/1e6," Mb)"),content:"This may take up to a few minutes.",spinner:!0})))}var ot=n(424),lt={TaskPlot:{optimizedTask:"#82B5C799",optimizedCriticalTask:"#e6171799",baselineTask:"#CCCCCC99",baselineCriticalTask:"#e6a7a799"},ComparisonPlot:{Balanced:"#82B5C799",Fastest:"#f7dc5b99","Minimum Resources":"#db793099","Levelled Resources":"#AABB5D99","Constraint Compliance":"#939ce398"},ResourcePlot:{allResources:["#55CBCD98","#f7dc5b98","#FFAEA598","#82B5C798","#939ce398","#AABB5D98","#BAA19098","#db793098","#099A4D98","#f07e9398","#FDAE6198","#D53E4F98","#ABDDA498","#E6F598","#9B4FA298","#6891F98F"]}},ct=n(31),st=n.n(ct),ut=n(23);function dt(e){var t=e.margin,n=void 0===t?50:t,r=e.x_domain,a=e.y_domain,i=e.width,o=e.height,l=e.ref,c=e.x_label,s=e.y_label,u=e.x_type,d=void 0===u?ut.f:u,f=e.y_type,p=void 0===f?ut.f:f,h=n,m=i-n,v=n,g=o-n,y=d(r,[h,m]),b=p(a,[g,v]),w=ut.h(l.current).attr("width",i).attr("height",o);w.selectChildren().remove(),w.append("g").call(ut.a(y)).attr("transform","translate(0, ".concat(g,")")).call((function(e){e.append("text").attr("x",i/2).attr("y",40).attr("fill","#2d2d2d").attr("font-size",16).attr("text-align","right").text(c)})),w.append("g").call(ut.d(y).tickValues([])).attr("transform","translate(0, ".concat(v,")")),w.append("g").call(ut.b(b)).attr("transform","translate(".concat(h,", 0)")).call((function(e){e.append("text").attr("text-anchor","end").attr("y",30).attr("x",-30).attr("fill","#2d2d2d").attr("font-size",16).text(s).attr("text-anchor","start")})),w.append("g").call(ut.c(b).tickValues([])).attr("transform","translate(".concat(m,", 0)"));var x=ut.a().scale(y).tickFormat("").tickSizeInner(o-2*n);w.append("g").attr("class","x-grid").attr("transform","translate(0, ".concat(v,")")).style("opacity",.3).style("stroke-dasharray","3, 3").call(x);var _=ut.b().scale(b).tickFormat("").tickSizeInner(2*n-i);return w.append("g").attr("class","x-grid").attr("transform","translate(".concat(h,", 0)")).style("opacity",.3).style("stroke-dasharray","3, 3").call(_),{svg:w,x_scale:y,y_scale:b}}function ft(e,t,n,r){var a=(e[1]-e[0])*n,i=(t[1]-t[0])*r;return{x_domain:[e[0]-a,e[1]+a],y_domain:[t[0]-i,t[1]+i]}}function pt(e){return e&&Object.keys(e).length}function ht(e,t){var n=[];if(e.length>t)for(var r=Math.floor(e.length/t),a=0;a<t;a++)n.push(e[a*r]);else n=e;return n}var mt,vt,gt,yt=n(414),bt=n(433);function wt(e){var t=e.selectedColor,n=e.tasks,r=e.baselineTasks,a=e.width,l=e.height,c=e.color,s=e.keep,u=void 0===s?400:s,d=Object(i.useRef)();if(Object(i.useEffect)((function(){var e=Object.values(n).sort((function(e,t){var n,r;return(null===(n=e.newStart)||void 0===n?void 0:n.data)-(null===(r=t.newStart)||void 0===r?void 0:r.data)})),i=Object.values(r).sort((function(e,t){return e.plannedStart-t.plannedStart}));e.length>u&&(e=e.filter((function(e,t){return t<150})),i=i.filter((function(e,t){return t<150})));var s=[Math.min.apply(Math,Object(I.a)(Object.values(e).map((function(e){var t;return null===(t=e.newStart)||void 0===t?void 0:t.data})))),Math.max.apply(Math,Object(I.a)(Object.values(e).map((function(e){var t;return null===(t=e.newFinish)||void 0===t?void 0:t.data}))))],f=[Math.min.apply(Math,Object(I.a)(Object.values(e).map((function(e){return e.plannedStart})))),Math.max.apply(Math,Object(I.a)(Object.values(e).map((function(e){return e.plannedFinish}))))],p=[Math.min(s[0],f[0]),Math.max(f[1],s[1])];e=ht(e,u),i=ht(i,u);var h=[e.length,0],m=[i.length,0],v=dt({margin:40,x_domain:p,y_domain:[Math.max(h[0],m[0]),Math.min(h[1],m[1])],width:a||560,height:l||500,ref:d,x_type:ut.g,y_type:ut.f}),g=v.svg,y=v.x_scale,b=v.y_scale;g.append("g").selectAll("rect").data(e).join("rect").attr("x",(function(e){return y(e.plannedStart)})).attr("y",(function(e,t){return b(t)})).attr("rx",8).attr("ry",8).attr("width",(function(e){return Math.max(y(e.plannedFinish)-y(e.plannedStart),0)})).attr("height",b(1)-b(0)-.5-.5).attr("fill",(function(e){return e.critical?lt.TaskPlot.baselineCriticalTask:lt.TaskPlot.baselineTask})),g.append("g").selectAll("rect").data(e).join("rect").attr("x",(function(e){var t;return y(null===(t=e.newStart)||void 0===t?void 0:t.data)})).attr("y",(function(e,t){return b(t)})).attr("width",(function(e){var t,n;return Math.max(y(null===(t=e.newFinish)||void 0===t?void 0:t.data)-y(null===(n=e.newStart)||void 0===n?void 0:n.data),0)})).attr("height",b(1)-b(0)-.5-.5).attr("rx",8).attr("ry",8).attr("fill",(function(e){return e.critical?lt.TaskPlot.optimizedCriticalTask:c||t})).on("mouseover",(function(e,t){var n=t.name,r=t.newDuration,a=o.a.createElement("div",{title:n,style:{background:"#eeeeee",position:"absolute",top:e.pageY,left:e.pageX+10,padding:"6px 8px",pointerEvents:"none",borderRadius:"8px"}},n,o.a.createElement("br",null),o.a.createElement("small",null,r.data," hours"));st.a.render(a,document.getElementById("tooltip"))})).on("mouseout",(function(){st.a.unmountComponentAtNode(document.getElementById("tooltip"))}))}),[n,r]),!r||!pt(r)||!n&&pt(n))return null;var f=pt(n)>u?"Chart is only showing up to 150 critical tasks as the project has ".concat(Object.values(n).sort((function(e,t){var n,r;return(null===(n=e.newStart)||void 0===n?void 0:n.data)-(null===(r=t.newStart)||void 0===r?void 0:r.data)})).length," tasks"):"";return o.a.createElement(o.a.Fragment,null,Object.values(n).sort((function(e,t){return e.start_2-t.start_2})).length>400?o.a.createElement(yt.a,{sx:{margin:"20px 20px -20px"},severity:"info"},o.a.createElement(bt.a,null,f)):"",o.a.createElement("div",{id:"tooltip"}),o.a.createElement("svg",{ref:d}))}function xt(e){var t=e.results,n=e.constraintsFileName,r=e.baselineResults,a=e.steps,l=e.selectedPreset,c=e.selectedResultIndex,s=void 0===c?-1:c,d=e.width,f=void 0===d?550:d,p=e.height,h=void 0===p?500:p,m=(e.k,e.x_label),v=e.y_label,g=e.onClick,y=Object(i.useRef)();return Object(i.useEffect)((function(){if(!Object.values(t).length)return null;var e=[];Object.entries(t).map((function(t){var n=Object(u.a)(t,2),r=n[0];n[1].map((function(t,n){e.push({idx:n,name:r,drtn_day:t.output.projectDurationDays,rsrc_max:t.output.laborDistribution.max})}))})).flat(),"No file chosen"===n&&(e=e.filter((function(e){return"Constraint Compliance"!==e.name})));var i=Object.values(e).map((function(e){return e.drtn_day})),o=Object.values(e).map((function(e){return e.rsrc_max})),c=ft(ut.e(i),ut.e(o),.2,.2),d=dt({x_domain:c.x_domain,y_domain:c.y_domain,margin:50,width:f,height:h,ref:y,x_label:m,y_label:v,x_type:ut.f,y_type:ut.f}),p=d.svg,b=d.x_scale,w=d.y_scale;p.append("g").selectAll("circle").data([r]).join("circle").attr("cx",(function(e){return b(e.output.projectDurationDays.data)})).attr("cy",(function(e){return w(e.output.laborDistribution.max.data)})).attr("r",(function(e){return 6})).attr("z-index","-1").attr("fill","#CCCCCC"),p.append("g").selectAll("circle").data(e).join("circle").attr("cx",(function(e){return b(e.drtn_day)})).attr("cy",(function(e){return w(e.rsrc_max)})).attr("r",(function(e,t){return(e.idx===a)-1?6:3})).style("stroke",(function(e,t){return s===e.idx&&l===e.name?"#e61717":""})).attr("fill-opacity",(function(t,n){return t.idx/(e.length<=40?e.length/8:e.length/4)})).attr("fill",(function(e,t){var n=e.name;return lt.ComparisonPlot[n.toString()]})).on("click",(function(e,t){g(t.name,t.idx)})).style("cursor","pointer")}),[s,l,t]),o.a.createElement("svg",{ref:y})}var _t=h.a.div(mt||(mt=Object(p.a)(['\n  width: 100%;\n  .summary {\n    width: 100%;\n    display: inline-flex;\n    justify-content: space-between;\n    background: #fbfbfb;\n    margin: 0px 0 20px;\n    .stats {\n      padding: 25px;\n      width: 20%;\n      display: flex;\n      flex-direction: column;\n      position: relative;\n      &:last-child {\n        &:after {\n          width: 0px;\n        }\n      }\n      &:after {\n        content: \'\';\n        height: 65px;\n        width: 1px;\n        background: #eeeeee;\n        position: absolute;\n        right: 0;\n        top: calc(50% - 32px);\n      }\n      .title {\n        display: flex;\n        align-items: center;\n        svg {\n          margin-left: 5px;\n          width: 18px;\n        }\n      }\n      .figure {\n        display: inline-flex;\n        margin: 16px 0;\n        align-items: baseline;\n        .numbers {\n          font-family: "Lato", sans-serif;\n          font-size: 40px;\n          color: #000000;\n          font-weight: 700;\n          margin-right: 10px;\n        }\n        .baseline-stats {\n            font-family: "Lato", sans-serif;\n            font-size: 28px;\n            color: #999999;\n            font-weight: 700;\n         }\n      }\n      .badge {\n          padding: 3px 10px;\n          font-size: 12px;\n          font-weight: 700;\n          border-radius: 8px;\n          width: 50px;\n          display: flex;\n          align-items: center;\n          svg {\n            margin-right: 5px;\n          }\n          &.plus {\n            background: #e2f5e2;\n            color: #499249;\n          }\n          &.minus {\n            background: #feeaea;\n            color: #ff4d4d;\n          }\n        }\n    }\n  }\n']))),Et=h.a.div(vt||(vt=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 20px;\n  width: 100%;\n  /* background: #ffffff; */\n  /* padding: 30px 20px; */\n  box-sizing: border-box;\n  .full-chart {\n    box-sizing: border-box;\n    background: #ffffff;\n    padding: 20px;\n    width: 100%;\n  }\n  .chart { \n    width: 49%;\n    .section {\n      margin-bottom: 20px;\n      background: #ffffff;\n      padding: 20px;\n      .MuiFormControl-root {\n        width: 100%;\n        .presets {\n          justify-content: flex-start;\n          label {\n            width: 35%;\n            margin-right: 0;\n          }\n        }\n      }\n    }\n  }\n  .bar-tooltip {\n    padding: 5px;\n    border-radius: 8px;\n    background: yellow;\n  }\n"]))),jt=h.a.div(gt||(gt=Object(p.a)(["\n  display: inline-block;\n  @keyframes blink {\n      0% {\n        opacity: .2;\n      }\n      20% {\n        opacity: 1;\n      }\n      100% {\n        opacity: .2;\n      }\n  }\n\n  span {\n    font-size: 50px;\n    animation-name: blink;\n    animation-duration: 1.4s;\n    animation-iteration-count: infinite;\n    animation-fill-mode: both;\n  }\n\n  span:nth-child(2) {\n      animation-delay: .2s;\n  }\n\n  span:nth-child(3) {\n      animation-delay: .4s;\n  }\n"])));function kt(e){var t,n,r,a,l,c,s=e.optimizer,d=e.constraintsFileName,f=e.baseline,p=e.selectedPreset,h=e.setSelectedPreset,m=e.selectedResultIndex,v=e.setSelectedResultIndex,g=e.goNext,y=Object(i.useState)(Object.values(null===s||void 0===s||null===(t=s.project)||void 0===t?void 0:t.tasks).filter((function(e){return e.newFinish}))),b=Object(u.a)(y,2),w=b[0],x=b[1],_=Object.values(null===s||void 0===s||null===(n=s.plannedproject)||void 0===n?void 0:n.tasks).filter((function(e){return e.newFinish})),E=Object(i.useState)(null===s||void 0===s?void 0:s.plannedproject),j=Object(u.a)(E,2),k=j[0],O=j[1],N=Object(i.useState)(null===s||void 0===s||null===(r=s.project)||void 0===r||null===(a=r.settings)||void 0===a?void 0:a.optimizationSteps),S=Object(u.a)(N,2),T=S[0],D=S[1],L=Object(i.useState)(null===s||void 0===s?void 0:s.results),P=Object(u.a)(L,2),C=P[0],F=P[1],R=Object(i.useState)(Object.keys(null===s||void 0===s?void 0:s.results)),I=Object(u.a)(R,2),M=I[0],z=I[1],A=Object(i.useState)(null===s||void 0===s?void 0:s.results[p]),U=Object(u.a)(A,2),H=U[0],W=U[1];Object(i.useEffect)((function(){if(void 0!==(null===s||void 0===s?void 0:s.results.Balanced))return null;setTimeout((function(){var e,t;s.optimizeDefaults(),v((null===H||void 0===H?void 0:H.length)-1),O(null===s||void 0===s?void 0:s.plannedproject),D(null===s||void 0===s||null===(e=s.project)||void 0===e||null===(t=e.settings)||void 0===t?void 0:t.optimizationSteps)}),100),setTimeout((function(){W(null===s||void 0===s?void 0:s.results[p]),v((null===s||void 0===s?void 0:s.results[p].length)-1)}),2500)}),[]),Object(i.useEffect)((function(){var e=setInterval((function(){var e;F(null===s||void 0===s?void 0:s.results),z(Object.keys(null===s||void 0===s?void 0:s.results)),x(Object.values(null===s||void 0===s||null===(e=s.project)||void 0===e?void 0:e.tasks).filter((function(e){return e.newFinish})))}),1e3);return function(){return clearInterval(e)}}),[]),Object(i.useEffect)((function(){var e;x(Object.values(null===s||void 0===s||null===(e=s.project)||void 0===e?void 0:e.tasks).filter((function(e){return e.newFinish}))),s&&(null===H||void 0===H?void 0:H.length)-1===m&&(null===s||void 0===s||s.simulate(null===H||void 0===H?void 0:H.at(m).durationRatios))}),[H]);var B=function(e,t){return o.a.createElement("div",{className:"stats"},o.a.createElement("div",{className:"title"},e),o.a.createElement("div",{className:"figure"},o.a.createElement("div",{className:"numbers"},t)))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(_t,null,o.a.createElement("h2",null,"Baseline Summary"),o.a.createElement("div",{className:"summary"},B("Project Duration (days)",Math.round(null===f||void 0===f?void 0:f.duration)),B("Resources",Math.round(null===f||void 0===f||null===(l=f.resources)||void 0===l?void 0:l.length)),B("Tasks",Object.values(null===f||void 0===f?void 0:f.tasks).length),B("Tasks on Critical Path",Math.round(null===f||void 0===f||null===(c=f.critical_paths)||void 0===c?void 0:c.length))),o.a.createElement(Et,{className:"multi-charts"},o.a.createElement("div",{className:"full-chart"},o.a.createElement("div",{className:"section"},0===C||void 0===C?o.a.createElement("h3",null,o.a.createElement(jt,null,o.a.createElement("span",null,"."),o.a.createElement("span",null,"."),o.a.createElement("span",null,"."))):o.a.createElement("h3",null,p," Tasks Overview"),o.a.createElement("div",{className:"legend"},o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:lt.ComparisonPlot[p],marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,p)),o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#cccccc",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Baseline")),o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#e61717",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Critical Path"))),o.a.createElement(wt,{tasks:w||[],width:"1150",height:"650",color:lt.ComparisonPlot[p],baselineTasks:_||[],title:"Tasks (Overview)"})))),o.a.createElement(Et,null,o.a.createElement("div",{className:"chart"},o.a.createElement("div",{className:"section"},o.a.createElement("h3",null,"Comparison Chart"),o.a.createElement("div",{className:"legend"},o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#cccccc",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Baseline")),M.map((function(e){return o.a.createElement("div",{key:e,className:"item ".concat("No file chosen"===d&&"Constraint Compliance"===e?"hidden":"")},o.a.createElement("div",{style:{width:"14px",height:"14px",background:lt.ComparisonPlot[e],marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,e))}))),o.a.createElement(xt,{key:H,constraintsFileName:d,results:C||[],baselineResults:k||[],steps:T,selectedPreset:p,selectedResultIndex:m,x_label:"Duration (days)",y_label:"Maximum Resource (units)",onClick:function(e,t){h(e),v(t)}}))),o.a.createElement("div",{className:"chart"},o.a.createElement("div",{className:"section"},o.a.createElement("h3",null,"Optimization Presets"),o.a.createElement("p",null,"These available presets are pre-configured settings that are designed to deliver the best performance or quality for each individual specific use case."),o.a.createElement(Fe.a,{component:"fieldset"},o.a.createElement(ot.a,{value:p,onChange:function(e){h(e.target.value),v((null===s||void 0===s?void 0:s.results[e.target.value].length)-1)}},M.map((function(e){return o.a.createElement("div",{key:e,className:"row presets ".concat("No file chosen"===d&&"Constraint Compliance"===e?"hidden":"")},o.a.createElement(Ie.a,{disabled:C[e].length<10,value:e,control:o.a.createElement(Me.a,null),label:e}),o.a.createElement("div",{style:{fontSize:"12px",fontFamily:"Inter"}},function(e){switch(e){case"Balanced":return"Best combination of the fastest, minimum and levelled resources";case"Fastest":return"Shortest project duration";case"Minimum Resources":return"Least amount of required resources";case"Levelled Resources":return"Best resource distribution";case"Constraint Compliance":return"Satisfies all constraints";default:return""}}(e)))})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",null),o.a.createElement(Xe,{variant:"contained",onClick:function(){v((null===s||void 0===s?void 0:s.results[p].length)-1),g()}},"View Optimized Summary")))))))}var Ot,Nt,St,Tt,Dt=n(434),Lt=h.a.div(Ot||(Ot=Object(p.a)(["\n  width: 100%;\n  overflow: hidden;\n  position: absolute;\n  text-align: center;\n  bottom: -13px;\n  height: 30px;\n  background: -moz-linear-gradient(top, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%); /* FF3.6-15 */\n  background: -webkit-linear-gradient(top, rgba(255,255,255,1) 0%,rgba(255,255,255,0) 100%); /* Chrome10-25,Safari5.1-6 */\n  background: linear-gradient(to bottom, rgba(255,255,255,1) 0%,rgba(255,255,255,0) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#00ffffff',GradientType=0 ); /* IE6-9 */\n  button {\n    border: 1px solid #F0F1F3;\n    color: #424242;\n    box-shadow: 1px 1px 5px rgb(207 234 229 / 25%);\n    border-radius: 8px;\n    padding: 4px 10px;\n    background: #FFFFFF;\n    font-family: \"Inter\", \"Arial\", sans-serif;\n    font-size: 12px;\n  }\n"]))),Pt=function(e){var t=e.children,n=e.onLoadMore,r=Object(i.useState)(!1),a=Object(u.a)(r,2),l=a[0],c=a[1];return o.a.createElement(Lt,null,l?t:null,!l&&o.a.createElement("button",{onClick:function(){c(!0),n()}},"Load More"))},Ct=n(425),Ft=h.a.div(Nt||(Nt=Object(p.a)(['\n  width: 100%;\n  .summary {\n    width: 100%;\n    display: inline-flex;\n    justify-content: space-between;\n    background: #fbfbfb;\n    margin: 0 0 30px;\n    .stats {\n      padding: 25px;\n      width: 20%;\n      display: flex;\n      flex-direction: column;\n      position: relative;\n      &:last-child {\n        &:after {\n          width: 0px;\n        }\n      }\n      &:after {\n        content: \'\';\n        height: 65px;\n        width: 1px;\n        background: #eeeeee;\n        position: absolute;\n        right: 0;\n        top: calc(50% - 32px);\n      }\n      .title {\n        display: flex;\n        align-items: center;\n        svg {\n          margin-left: 5px;\n          width: 18px;\n        }\n      }\n      .figure {\n        display: inline-flex;\n        margin: 16px 0;\n        align-items: baseline;\n        .numbers {\n          font-family: "Lato", sans-serif;\n          font-size: 40px;\n          color: #000000;\n          font-weight: 700;\n          margin-right: 10px;\n        }\n        .baseline-stats {\n            font-family: "Lato", sans-serif;\n            font-size: 28px;\n            color: #999999;\n            font-weight: 700;\n         }\n      }\n      .badge {\n          font-size: 12px;\n          font-weight: 700;\n          border-radius: 8px;\n          font-family: "Lato";\n          width: 60px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          background: #f2f2f2;\n          svg {\n            margin-right: 5px;\n          }\n          &.plus {\n            background: #e2f5e2;\n            color: #499249;\n          }\n          &.minus {\n            background: #feeaea;\n            color: #ff4d4d;\n          }\n        }\n    }\n  }\n']))),Rt=h.a.div(St||(St=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 20px;\n  width: 100%;\n  /* background: #ffffff;\n  padding: 30px 20px; */\n  box-sizing: border-box;\n  &.multi-charts {\n    flex-wrap: wrap;\n    .div {\n    flex: 1 0 45%;\n      /* width: 49%; */\n      &:first-child {\n        flex: 0 1 100%;\n      }\n    }\n  }\n  &.full-charts {\n    display: block !important;\n    margin-bottom: 20px;\n  }\n  .chart {\n    margin-bottom: 20px;\n    background: #ffffff;\n    padding: 20px;\n    width: 46%;\n  }\n  .full-chart {\n    box-sizing: border-box;\n    margin-bottom: 20px;\n    background: #ffffff;\n    padding: 20px;\n    width: 100%;\n  }\n  /* .chart {\n    width: 100%;\n  } */\n"]))),It=Object(h.a)(Ct.a)(Tt||(Tt=Object(p.a)(["\n  margin: 15px 0 10px;\n  button {\n    width: 50%;\n  }\n"])));function Mt(e){var t=e.base_results,n=e.new_results,r=e.base_resource_distribution,a=e.new_resource_distribution,l=e.filter,c=e.width,s=void 0===c?560:c,d=e.height,f=void 0===d?600:d,p=Object(i.useRef)(),h=n,m=Object(i.useState)("optimized"),v=Object(u.a)(m,2),g=v[0],y=v[1],b=Object(i.useReducer)((function(e){return e+1}),0),w=Object(u.a)(b,2),x=w[0],_=w[1];return Object(i.useEffect)((function(){if(a){"optimized"===g?h=n:"baseline"===g&&(h=t);var e=ut.e(a.map((function(e){return e.x}))),i=ut.e(r.map((function(e){return e.x}))),c="optimized"===g?e:i,u=a.map((function(e){return e.y})),d=ut.e(u.flat()),m=r.map((function(e){return e.y})),v=ut.e(m.flat()),y="optimized"===g?d:v,b=dt({x_domain:c,y_domain:y,width:s,height:f,ref:p,x_type:ut.g,y_type:ut.f}),w=b.svg,x=b.x_scale,_=b.y_scale,E=0,j=function(e){w.append("g").selectAll("rect").data(Object.entries(h[e].distribution.xy)).join("rect").attr("x",(function(e){return x(e[0])})).attr("width",(function(e){return x(864e5)-x(0)})).attr("y",(function(e){return _(e[1].data)})).attr("height",(function(e){return _(y[0])-_(e[1].data)})).attr("fill",(function(t,n){return h[e].show_in_plot&&h[e].type===l?lt.ResourcePlot.allResources[E%lt.ResourcePlot.allResources.length]:"none"})).on("mouseover",(function(t,n){var r=o.a.createElement("div",{title:h[e].name,style:{background:"#eeeeee",position:"absolute",top:t.pageY,left:t.pageX+10,padding:"6px 8px",pointerEvents:"none",borderRadius:"8px"}},h[e].name);st.a.render(r,document.getElementById("tooltip"))})).on("mouseout",(function(){st.a.unmountComponentAtNode(document.getElementById("tooltip"))})),E++};for(var k in h)j(k)}}),[a,g,x]),a?o.a.createElement(o.a.Fragment,null,o.a.createElement(It,{className:"row",value:g,exclusive:!0},o.a.createElement(Dt.a,{value:"optimized",onClick:function(){return y("optimized")}},"Optimized"),o.a.createElement(Dt.a,{value:"baseline",onClick:function(){return y("baseline")}},"Baseline")),o.a.createElement("svg",{ref:p}),o.a.createElement("div",{id:"tooltip"}),h?o.a.createElement(zt,{resources:h,filter:l,toggleSelectResource:function(e){t.filter((function(t){return t.id===e})).map((function(e){e.show_in_plot=!e.show_in_plot})),n.filter((function(t){return t.id===e})).map((function(e){return e.show_in_plot=!e.show_in_plot})),_()}}):""):null}var zt=function(e){var t=e.resources,n=e.filter,r=e.toggleSelectResource,a=Object(i.useState)(Object.values(t).length>50?56:35),l=Object(u.a)(a,2),c=l[0],s=l[1],d=Object.values(t).length-c;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row"},o.a.createElement("h4",null,"Legend")),o.a.createElement("div",{className:"legend"},Object.values(t).filter((function(e){return e.type===n})).slice(0,c).map((function(e,t){return o.a.createElement("div",{key:e+" "+t,className:"item resources",style:{opacity:(null===e||void 0===e?void 0:e.show_in_plot)?"100%":"50%",cursor:"pointer"},onClick:function(t,n){r(e.id)}},o.a.createElement("div",{style:{width:"14px",height:"14px",background:lt.ResourcePlot.allResources[t%lt.ResourcePlot.allResources.length],marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,(n=e.name,a=20,n?n.length<=a?n:n.substring(0,a)+"...":"")));var n,a})),Object.values(t).filter((function(e){return e.type===n})).length>c&&o.a.createElement(Pt,{onLoadMore:function(){s((function(e){return e+d}))}},o.a.createElement("button",null,"Load More"))))},At=function(e,t){var n=(e-t)/t*100,r=Math.sign(n);return 1===r?o.a.createElement("span",{className:"badge minus"},Math.round(n),"%"):-1===r?o.a.createElement("span",{className:"badge plus"},Math.abs(Math.round(n)),"%"):o.a.createElement("span",{className:"badge"},Math.round(n),"%")};function Ut(e){var t,n,r,a,l,c,s,d,f,p,h=e.baseline,m=e.optimizer,v=e.results,g=e.selectedPreset,y=e.selectedResultIndex,b=e.goPrev,w=e.goNext,x=Object(i.useState)(Object.values(m.project.tasks).filter((function(e){return e.newFinish}))),_=Object(u.a)(x,2),E=_[0],j=_[1],k=Object.values(m.plannedproject.tasks).filter((function(e){return e.newFinish})),O=v[g],N=null===(t=v[g])||void 0===t||null===(n=t.at(y))||void 0===n?void 0:n.output,S=null===h||void 0===h?void 0:h.duration,T=null===N||void 0===N?void 0:N.projectDurationDays,D=Object.values(null===m||void 0===m||null===(r=m.project)||void 0===r?void 0:r.resources),L=Object.values(null===m||void 0===m||null===(a=m.plannedproject)||void 0===a?void 0:a.resources),P=Object.values(null===m||void 0===m||null===(l=m.project)||void 0===l?void 0:l.tasks),C=null===m||void 0===m||null===(c=m.planned)||void 0===c?void 0:c.criticalPath,F=P.filter((function(e){return void 0!==e.critical&&e.critical})).map((function(e){return e})),R={labor:{base:[],new:[]},material:{base:[],new:[]},labor_resource_distribution:{base:[],new:[]},material_resource_distribution:{base:[],new:[]}};return D&&D.forEach((function(e){"labor"===e.type.toLowerCase()&&(R.labor.new.push({name:e.name,distribution:e.distribution,id:e.id,type:e.type,show_in_plot:!0}),e.distribution&&Object.entries(e.distribution.xy).map((function(e){var t=Object(u.a)(e,2),n=t[0],r=t[1];return R.labor_resource_distribution.new.push({x:n,y:r.data})}))),"material"===e.type.toLowerCase()&&(R.material.new.push({name:e.name,distribution:e.distribution,id:e.id,type:e.type,show_in_plot:!0}),e.distribution&&Object.entries(e.distribution.xy).map((function(e){var t=Object(u.a)(e,2),n=t[0],r=t[1];return R.material_resource_distribution.new.push({x:n,y:r.data})})))})),L&&L.forEach((function(e){"labor"===e.type.toLowerCase()&&(R.labor.base.push({name:e.name,distribution:e.distribution,id:e.id,type:e.type,show_in_plot:!0}),e.distribution&&Object.entries(e.distribution.xy).map((function(e){var t=Object(u.a)(e,2),n=t[0],r=t[1];return R.labor_resource_distribution.base.push({x:n,y:r.data})}))),"material"===e.type.toLowerCase()&&(R.material.base.push({name:e.name,distribution:e.distribution,id:e.id,type:e.type,show_in_plot:!0}),e.distribution&&Object.entries(e.distribution.xy).map((function(e){var t=Object(u.a)(e,2),n=t[0],r=t[1];return R.material_resource_distribution.base.push({x:n,y:r.data})})))})),Object(i.useEffect)((function(){j(Object.values(m.project.tasks).filter((function(e){return e.newFinish}))),m.simulate(O.at(y).durationRatios)}),[O]),o.a.createElement(Ft,null,o.a.createElement("h2",null,o.a.createElement("span",{style:{textTransform:"capitalize"}},g)," Optimized Summary "),o.a.createElement("div",{className:"summary"},o.a.createElement("div",{className:"stats"},o.a.createElement("div",{className:"title"},"Project Duration (days)"),o.a.createElement("div",{className:"figure"},o.a.createElement("div",{className:"numbers"},Math.round(T)," "),o.a.createElement("div",{className:"baseline-stats"},Math.round(S))),At(T,S)),o.a.createElement("div",{className:"stats"},o.a.createElement("div",{className:"title"},"Resources"),o.a.createElement("div",{className:"figure"},o.a.createElement("div",{className:"numbers"},Math.round(null===D||void 0===D?void 0:D.length)," "),o.a.createElement("div",{className:"baseline-stats"},Math.round(null===h||void 0===h||null===(s=h.resources)||void 0===s?void 0:s.length)," ")),At(null===D||void 0===D?void 0:D.length,null===h||void 0===h||null===(d=h.resources)||void 0===d?void 0:d.length)),o.a.createElement("div",{className:"stats"},o.a.createElement("div",{className:"title"},"Tasks"),o.a.createElement("div",{className:"figure"},o.a.createElement("div",{className:"numbers"},Math.round(null===P||void 0===P?void 0:P.length)," "),o.a.createElement("div",{className:"baseline-stats"},Math.round(Object.values(null===h||void 0===h?void 0:h.tasks).length)," ")),At(null===P||void 0===P?void 0:P.length,Object.values(null===h||void 0===h?void 0:h.tasks).length)),o.a.createElement("div",{className:"stats"},o.a.createElement("div",{className:"title"},"Tasks on Critical Path"),o.a.createElement("div",{className:"figure"},o.a.createElement("div",{className:"numbers"},Math.round(F.length)," "),o.a.createElement("div",{className:"baseline-stats"},Math.round(C.length),"  ")),At(C.length,F.length))),O?o.a.createElement(Rt,{className:"multi-charts"},o.a.createElement("div",{className:"full-chart"},o.a.createElement("h3",null,"Tasks (Overview)"),o.a.createElement("span",{className:"subtitle"},"Overview of all tasks over time"),o.a.createElement("div",{className:"legend"},o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:lt.ComparisonPlot[g],marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Optimized")),o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#cccccc",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Baseline"))),E?o.a.createElement(wt,{tasks:E||[],width:"1150",height:"600",color:lt.ComparisonPlot[g],baselineTasks:k||[],title:"Tasks (Overview)"}):"No data"),o.a.createElement("div",{className:"full-chart"},o.a.createElement("div",{className:"row"},o.a.createElement("div",null,o.a.createElement("h3",null,"Labor Resources"),o.a.createElement("span",{className:"subtitle"},"Total utilization of multiple resources over time"))),R.labor_resource_distribution?o.a.createElement(Mt,{width:"1150",selectedResultIndex:y,base_results:R.labor.base,new_results:R.labor.new,base_resource_distribution:R.labor_resource_distribution.base,new_resource_distribution:R.labor_resource_distribution.new,filter:"Labor",title:"Labor Resources"}):"No data"),0===(null===R||void 0===R||null===(f=R.material)||void 0===f||null===(p=f.base)||void 0===p?void 0:p.length)?"":o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"full-chart"},o.a.createElement("div",{className:"row"},o.a.createElement("div",null,o.a.createElement("h3",null,"Material Resources"),o.a.createElement("span",{className:"subtitle"},"Total utilization of multiple resources over time"))),R.material_resource_distribution?o.a.createElement(Mt,{width:"1150",selectedResultIndex:y,base_results:R.material.base,new_results:R.material.new,base_resource_distribution:R.material_resource_distribution.base,new_resource_distribution:R.material_resource_distribution.new,filter:"Material",title:"Material Resources"}):"No data"))):"",o.a.createElement("div",{className:"row"},o.a.createElement(Qe,{variant:"contained",onClick:b},"Back"),o.a.createElement(Xe,{variant:"contained",onClick:w},"View Detailed Report")))}var Ht,Wt=n(407),Bt=h.a.div(Ht||(Ht=Object(p.a)(['\n  .MuiDataGrid-main {\n    font-family: "Inter"\n  }\n'])));function Gt(e){var t=e.rows,n=e.columns,r=e.hidden_columns,a=t.length>3?500:300,i={columns:{columnVisibilityModel:r}};return o.a.createElement(Bt,null,o.a.createElement("div",{style:{height:a,width:"100%"}},o.a.createElement(Wt.a,{rows:t,columns:n,initialState:i})))}function qt(e){var t=e.dist,n=e.color,r=e.width,a=void 0===r?560:r,l=e.height,c=void 0===l?500:l,s=e.keep,u=void 0===s?1e3:s,d=Object(i.useRef)();if(Object(i.useEffect)((function(){if(t){var e=ht(Object.entries(t),u),r=ut.e(Object.keys(t).map((function(e){return Number(e)}))),i=ut.e(Object.values(t).map((function(e){return e.data}))),o=ft(r,i,.01,.01),l=dt({x_domain:o.x_domain,y_domain:o.y_domain,width:a,height:c,ref:d,x_label:"time",y_label:"units",x_type:ut.g,y_type:ut.f}),s=l.svg,f=l.x_scale,p=l.y_scale;s.append("g").selectAll("rect").data(e).join("rect").attr("x",(function(e){return f(e[0])})).attr("width",f(864e5)-f(0)).attr("y",(function(e){return p(e[1].data)})).attr("height",(function(e){return p(i[0])-p(e[1].data)})).attr("fill",n)}}),[t]),!t)return null;var f=pt(t)>u?"(showing ".concat(u,"/").concat(pt(t)," only due to limited pixels)"):"";return o.a.createElement(o.a.Fragment,null,o.a.createElement(o.a.Fragment,null,f),o.a.createElement("svg",{ref:d}))}function Yt(e){var t=e.results,n=e.name,r=(e.x_axis,e.x_label),a=e.y_label,l=e.width,c=void 0===l?550:l,s=e.height,u=void 0===s?400:s,d=(e.keep,e.onClick),f=e.selectedResultIndex,p=Object(i.useRef)();return Object(i.useEffect)((function(){if(!(null===t||void 0===t?void 0:t.length))return null;var e=t;e.forEach((function(e,t){return e.idx=t}));var i=Object.values(t).flat().map((function(e){return e.output.laborDistribution.max})),o=ft(ut.e([1,e.length]),ut.e("projectDurationDays"===n?e.map((function(e){return e.output[n]})):"loss"===n?e.map((function(e){return e.loss})):"criticalPath"===n?e.map((function(e){return e.output.criticalPath.length})):i),.1,.05),l=dt({margin:40,x_domain:o.x_domain,y_domain:o.y_domain,width:c,height:u,ref:p,x_label:r||"Optimization steps",y_label:a,x_type:ut.f,y_type:ut.f}),s=l.svg,h=l.x_scale,m=l.y_scale;s.append("g").selectAll("circle").data(e).join("circle").attr("cx",(function(e){return h(e.idx)})).attr("cy",(function(e){return m("laborDistribution"===n?e.output[n].max:"loss"===n?e.loss:"criticalPath"===n?e.output.criticalPath.length:e.output[n])})).attr("r",(function(e,t){return t===f?6:3})).style("cursor",(function(e){return"baseline"===e.option?"auto":"pointer"})).attr("fill",(function(e,t){return e.output.constraintLoss>0?t===f?"#db4444":"#cccccc":t===f?"#db4444":"#00beae"})).on("click",(function(e,t){d(t.idx)}))}),[t,f]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"legend"},o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#e61717",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Step Selected")),o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#00beae",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Constraints Satisfied")),o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#cccccc",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Constraints Violated"))),o.a.createElement("svg",{ref:p}))}var Vt,Jt,Kt,Xt,Qt=n(436),Zt=n(437),$t=h.a.div(Vt||(Vt=Object(p.a)(["\n  background: white;\n  margin-bottom: 40px;\n  padding: 20px;\n  .circle {\n    width: 14px;\n    height: 14px;\n    border-radius: 50%;\n    background-color: #dddddd;\n    margin: 0 auto;\n    &.critical {\n      background-color: red;\n    }\n  }\n  .MuiDataGrid-columnHeaders {\n    background: #f2f2f2;\n  }\n"])));Object(h.a)(Qt.a)(Jt||(Jt=Object(p.a)(["\n  border: 1px solid #eeeeee;\n  border-radius: 6px;\n  thead {\n    tr {\n      background: #f2f2f2;\n      > th {\n        font-weight: bold;\n        color: #222222;\n      }\n    }\n  }\n  .MuiTableSortLabel-icon {\n    opacity: 1;\n  }\n  \n"]))),Object(h.a)(Zt.a)(Kt||(Kt=Object(p.a)([""])));function en(e){var t,n,r=e.optimizer,a=e.reader,l=e.selectedPreset,c=e.selectedResultIndex,s=e.handleSelectResultIndex,d=e.goPrev,f=Object(i.useState)(!1),p=Object(u.a)(f,2),h=p[0],m=p[1],v=null===r||void 0===r?void 0:r.results[l],g=Object(i.useState)(Object.values(null===r||void 0===r||null===(t=r.project)||void 0===t?void 0:t.tasks)),y=Object(u.a)(g,2),b=y[0],w=y[1],x=Object(i.useState)(Object.values(null===r||void 0===r||null===(n=r.project)||void 0===n?void 0:n.resources)),_=Object(u.a)(x,2),E=_[0],j=_[1],k=null===r||void 0===r?void 0:r.results[l];Object(i.useEffect)((function(){var e,t;w(Object.values(null===r||void 0===r||null===(e=r.project)||void 0===e?void 0:e.tasks)),j(Object.values(null===r||void 0===r||null===(t=r.project)||void 0===t?void 0:t.resources)),r.simulate(k.at(c).durationRatios)}),[c]);var O=b.filter((function(e){return void 0!==e.newDuration&&e.newDuration.data!==e.plannedDuration})),N=O&&O.map((function(e){var t=e.critical,n=e.id,r=e.code,a=e.name,i=e.plannedDuration,o=e.newDuration,l=(e.resources,((null===o||void 0===o?void 0:o.data)/i).toFixed(2));return{id:n,critical:t,name:a,code:r,old_duration:"".concat(i," hours"),new_duration:"".concat(null===o||void 0===o?void 0:o.data," hours"),ratio:l}})),S=[{field:"critical",headerName:"Critical",width:80,renderCell:function(e){return e.value?o.a.createElement("div",{className:"circle critical"}):o.a.createElement("div",{className:"circle"})}},{field:"code",headerName:"Code",width:180,renderCell:function(e){return o.a.createElement("div",{style:{maxHeight:"inherit",width:"100%",whiteSpace:"initial"}},e.value)}},{field:"id",headerName:"ID",hide:!0},{field:"name",headerName:"Name",width:500,renderCell:function(e){return o.a.createElement("div",{style:{maxHeight:"inherit",width:"100%",whiteSpace:"initial",wordWrap:"break-word"}},e.value)}},{field:"old_duration",headerName:"Duration (Baseline)",width:150},{field:"new_duration",headerName:"Duration (New)",width:150},{field:"ratio",headerName:"Ratio",width:50}];E.map((function(e){var t;return void 0!==e.newDuration&&e.plannedDuration!==(null===(t=e.newDuration)||void 0===t?void 0:t.data)}));var T=E&&E.map((function(e){var t,n,r=e.name,a=e.id,i=e.type,o=e.code,l=e.distribution;return{name:r,id:a,type:i,code:o,dist:Math.round(Object.values(l.xy).map((function(e){return e.data})).reduce((function(e,t){return e+t}),0)),max:Math.round(null===(t=l.max)||void 0===t?void 0:t.data),std:Math.round(null===(n=l.span)||void 0===n?void 0:n.data)}})),D=[{field:"id",headerName:"ID",width:80},{field:"code",headerName:"code",width:160},{field:"type",headerName:"type",width:100},{field:"name",headerName:"Name",width:400,renderCell:function(e){return o.a.createElement("div",{style:{maxHeight:"inherit",width:"100%",whiteSpace:"initial"}},e.value)}},{field:"dist",headerName:"Distribution",width:130},{field:"max",headerName:"Max ",width:130},{field:"std",headerName:"Span",width:130}],L=[];O&&O.map((function(e){Object.values(e.resources).map((function(t){var n,r,a=Object.values(E).filter((function(e){return e.id===t.resourceId})).map((function(e){return e.name}));L.push({critical:e.critical,task_name:e.name,task_code:e.code,task_id:e.id,resource_id:t.resourceId,resource_name:a.toString(),planned_duration:e.plannedDuration,new_duration:null===(n=e.newDuration)||void 0===n?void 0:n.data,units_new_per_hour:null===(r=t.newUnitsPerHour)||void 0===r?void 0:r.data,planned_units:t.plannedUnits,planned_units_per_hour:t.plannedUnitsPerHour})}))}));var P=L&&L.map((function(e,t){var n=e.critical,r=e.task_code,a=(e.task_id,e.task_name),i=e.resource_name,o=(e.resource_id,e.planned_duration),l=e.new_duration,c=e.units_new_per_hour,s=e.planned_units,u=e.planned_units_per_hour;return{critical:n,t_id:r,id:t,resource_name:i,t_name:a,new_units_per_hour:null===c||void 0===c?void 0:c.toFixed(2),old_duration:"".concat(o," hours"),new_duration:"".concat(l," hours"),planned_units:"".concat(s),planned_units_per_hour:null===u||void 0===u?void 0:u.toFixed(2)}})),C=[{field:"critical",headerName:"Critical",width:80,renderCell:function(e){return e.value?o.a.createElement("div",{className:"circle critical"}):o.a.createElement("div",{className:"circle"})}},{field:"id",headerName:"ID",width:0,hide:!0},{field:"t_id",headerName:"Task Code",width:180,renderCell:function(e){return o.a.createElement("div",{style:{maxHeight:"inherit",width:"100%",whiteSpace:"initial"}},e.value)}},{field:"resource_name",headerName:"Resource Name",width:200,renderCell:function(e){return o.a.createElement("div",{style:{maxHeight:"inherit",width:"100%",whiteSpace:"initial"}},e.value)}},{field:"t_name",headerName:"Task Name",width:350,renderCell:function(e){return o.a.createElement("div",{style:{maxHeight:"inherit",width:"100%",whiteSpace:"initial"}},e.value)}},{field:"old_duration",headerName:"Duration (Old)",width:130},{field:"new_duration",headerName:"Duration (New)",width:130},{field:"planned_units_per_hour",headerName:"Units (Old)",width:150},{field:"new_units_per_hour",headerName:"Units (New)",width:150},{field:"planned_units",headerName:"Total Planned Units",width:130}];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row"},o.a.createElement("h2",null,o.a.createElement("span",{style:{textTransform:"capitalize"}},l)," Detailed Report"),o.a.createElement(Xe,{onClick:function(){return m(!0)},variant:"contained"},"Export Report")),o.a.createElement(et,null,o.a.createElement($t,null,o.a.createElement("div",{className:"row"},o.a.createElement("h3",null,"Changed Tasks (Overview)")),o.a.createElement("div",{className:"legend",style:{width:"400px",justifyContent:"flex-start",marginBottom:"20px"}},o.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",marginRight:"10px"}},o.a.createElement("div",{className:"circle critical"})," Critical"),o.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},o.a.createElement("div",{className:"circle"})," Non-Critical")),b?o.a.createElement(Gt,{rows:N,columns:S}):"Please select a Optimization Preset before generating your report"),o.a.createElement($t,null,o.a.createElement("h3",null,"All Resources"),o.a.createElement("br",null),E?o.a.createElement(Gt,{rows:T,columns:D}):"Please select a Optimization Preset before generating your report"),o.a.createElement($t,null,o.a.createElement("h3",null,"Task-Resources"),o.a.createElement("br",null),L?o.a.createElement(Gt,{rows:P,columns:C}):"Please select a Optimization Preset before generating your report"),o.a.createElement(o.a.Fragment,null,o.a.createElement(Rt,{className:"multi-charts"},o.a.createElement("div",{className:"row"},o.a.createElement("h2",null,"Optimization Iteration Charts")),o.a.createElement("div",{className:"chart"},o.a.createElement("h4",null,"Project Duration"),o.a.createElement(Yt,{results:v,name:"projectDurationDays",x_axis:!0,x_label:"Optimization steps",y_label:"Duration (days)",onClick:function(e){s(e)},selectedResultIndex:c})),o.a.createElement("div",{className:"chart"},o.a.createElement("h4",null,"Maximum Labour Resources"),o.a.createElement(Yt,{results:v,name:"laborDistribution",x_axis:!0,x_label:"Optimization steps",y_label:"Maximum Resources",onClick:function(e){s(e)},selectedResultIndex:c})),o.a.createElement("div",{className:"chart"},o.a.createElement("h4",null,"Critical Path Tasks"),o.a.createElement(Yt,{results:v,name:"criticalPath",x_axis:!0,x_label:"Optimization steps",y_label:"Number of tasks",onClick:function(e){s(e)},selectedResultIndex:c})),o.a.createElement("div",{className:"chart"},o.a.createElement("h4",null,"Loss Function "),o.a.createElement(Yt,{results:v,name:"loss",x_axis:!0,x_label:"Optimization steps",y_label:"Loss function",onClick:function(e){s(e)},selectedResultIndex:c}))),o.a.createElement(Rt,{className:"multi-charts"},o.a.createElement("div",{className:"row"},o.a.createElement("h2",null,"Resources Plots")),Object.values(E||{}).map((function(e,t){return o.a.createElement("div",{key:e.id,className:"chart"},o.a.createElement("h4",null,"(".concat(e.type,") ").concat(e.name)),o.a.createElement(qt,{dist:e.distribution.xy,title:"(".concat(e.type,") ").concat(e.name),color:lt.ResourcePlot.allResources[t%lt.ResourcePlot.allResources.length]}))})))),o.a.createElement("div",{className:"row"},o.a.createElement(Qe,{variant:"contained",onClick:d},"Back"),o.a.createElement(Xe,{onClick:function(){return m(!0)},variant:"contained"},"Export Report"))),o.a.createElement(Ve,{isLoading:h,onClose:function(){return m(!1)},title:"Export Optimized File",content:o.a.createElement("div",{className:"row"},o.a.createElement(Xe,{onClick:function(){a.exportToOriginal(null===r||void 0===r?void 0:r.project)},variant:"contained"},"Original Format")," \xa0",o.a.createElement(Xe,{onClick:function(){null===r||void 0===r||r.exportToExcel()},variant:"contained"},"Excel"))}))}var tn=h.a.div(Xt||(Xt=Object(p.a)(["\n  width: 100%;\n  box-sizing: border-box;\n  .content {\n    margin: 20px auto;\n    width: 1200px;\n    max-width: 100%;\n    /* background: #ffffff; */\n    /* padding: 1px 20px 20px; */\n    border-radius: 6px;\n    box-sizing: border-box;\n    .legend {\n      display: flex;\n      justify-content: flex-start;\n      align-items: flex-start;\n      position: relative;\n      font-size: 11px;\n      width: 100%;\n      margin-top: 20px;\n      flex-wrap: wrap;\n      &:has(.resources) {\n        margin-bottom: 30px;\n      }\n      .item {\n        display: flex; \n        justify-content: flex-start;\n        align-items: center;\n        margin-right: 23px;\n        &.resources {\n          width: 14%;\n          margin-right: 0 !important;\n        }\n      }\n      .circle {\n        margin-right: 5px;\n      }\n    }\n  }\n"]))),nn=["Input Data","Baseline Summary","Optimized Summary","Optimized Report"];function rn(){var e,t,n,r,a,l,c=Object(i.useState)(0),s=Object(u.a)(c,2),d=s[0],f=s[1],p=Object(i.useState)(null),h=Object(u.a)(p,2),m=h[0],v=h[1],y=Object(i.useState)(null),b=Object(u.a)(y,2),w=b[0],x=b[1],_=Object(i.useState)(null),E=Object(u.a)(_,2),j=E[0],k=E[1],O=Object(i.useState)(!1),N=Object(u.a)(O,2),S=N[0],T=N[1],D=Object(i.useState)("Balanced"),L=Object(u.a)(D,2),P=L[0],C=L[1],R=Object(i.useState)(-1),I=Object(u.a)(R,2),M=I[0],z=I[1],A=Object(i.useState)(),U=Object(u.a)(A,2),H=U[0],W=U[1],B=Object(i.useState)("No file chosen"),G=Object(u.a)(B,2),q=G[0],Y=G[1],V=Object(i.useState)("No file chosen"),J=Object(u.a)(V,2),K=J[0],X=J[1],Q=Object(i.useReducer)((function(e){return e+1}),0),Z=Object(u.a)(Q,2);Z[0],Z[1];Object(i.useEffect)((function(){S&&(f(1),T(!1))}),[S]);var $=null,ee={tasks:null===w||void 0===w||null===(e=w.plannedproject)||void 0===e?void 0:e.tasks,resources:w&&Object.keys(null===w||void 0===w||null===(t=w.plannedproject)||void 0===t?void 0:t.resources),duration:null===w||void 0===w||null===(n=w.plannedproject)||void 0===n||null===(r=n.output)||void 0===r?void 0:r.projectDurationDays.data,critical_paths:w&&Object.values(null===w||void 0===w||null===(a=w.plannedproject)||void 0===a||null===(l=a.output)||void 0===l?void 0:l.criticalPath)};return 0===d?$=o.a.createElement(it,{fileName:q,setFileName:Y,uploadedFile:H,setUploadedFile:W,reader:j,setReader:k,constraintsFileName:K,setConstraintsFileName:X,optimizer:w,setOptimizer:x,updateProject:function(e){v(e)},goNext:function(){T(!0)}}):1===d?$=o.a.createElement(kt,{baseline:ee,constraintsFileName:K,optimizer:w,selectedPreset:P,setSelectedPreset:C,selectedResultIndex:M,setSelectedResultIndex:z,goPrev:function(){f(d-1)},goNext:function(){f(d+1),-1===M&&z((null===w||void 0===w?void 0:w.results[P].length)-1)}}):2===d?$=o.a.createElement(Ut,{baseline:ee,optimizer:w,selectedPreset:P,setSelectedPreset:C,selectedResultIndex:M,setSelectedResultIndex:z,tasks:null===m||void 0===m?void 0:m.tasks,results:null===w||void 0===w?void 0:w.results,goPrev:function(){f(d-1)},goNext:function(){f(d+1)}}):3===d&&($=o.a.createElement(en,{optimizer:w,reader:j,selectedPreset:P,selectedResultIndex:M,handleSelectResultIndex:function(e){z(e)},goPrev:function(){f(d-1)},goNext:function(){f(d+1)}})),o.a.createElement(o.a.Fragment,null,o.a.createElement(F,null),o.a.createElement(g,{navAt:d,steps:nn,navigate:function(e){f(e)},disabled:0===d||void 0===m}),o.a.createElement(tn,null,o.a.createElement("div",{className:"content"},$)))}var an,on=n(417);function ln(){ln=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),l=new k(a||[]);return r(o,"_invoke",{value:x(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var d={};function f(){}function p(){}function h(){}var m={};c(m,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==t&&n.call(g,i)&&(m=g);var y=h.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var c=u(e[a],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,l)}))}l(c.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function x(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=_(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return p.prototype=h,r(y,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=c(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new w(s(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(y),c(y,l,"Generator"),c(y,i,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function cn(e){return sn.apply(this,arguments)}function sn(){return(sn=Object(R.a)(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.frontline-optimizer.com","/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function un(e){return dn.apply(this,arguments)}function dn(){return(dn=Object(R.a)(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.frontline-optimizer.com","/auth/request-reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fn(e){return pn.apply(this,arguments)}function pn(){return(pn=Object(R.a)(ln().mark((function e(t){return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.frontline-optimizer.com","/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hn(e){var t=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(String(e).toLowerCase());return t?{result:t,message:""}:{result:t,message:"Please enter a valid email address."}}n(324).config();var mn,vn=h.a.div(an||(an=Object(p.a)(["\n  width: 100vw;\n  height: 100vh;\n  background: linear-gradient(\n    180deg,\n    rgba(255, 204, 103, 0.195) 0%,\n    rgba(0, 145, 132, 0.3) 100%\n  );\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .MuiBox-root {\n    width: 450px;\n    h3 {\n      margin-top: 0;\n    }\n    &.form {\n      background: #ffffff;\n      padding: 30px;\n      border-radius: 16px;\n      box-sizing: border-box;\n      /* display: flex;\n      flex-direction: column; */\n      .MuiTextField-root {\n        width: 100%;\n        margin-bottom: 12px;\n      }\n    }\n    img.logo {\n      width: 300px;\n    }\n  }\n  .divider {\n    position: relative;\n    &:after { \n      content: '';\n      position: absolute;\n      height: 1px;\n      width: 100%;\n      background: #eeeeee;\n      left: 0;\n      bottom: 0;\n    }\n  }\n  .error {\n    color: rgb(0, 190, 174) !important;\n    font-weight: 700;\n  }\n"])));function gn(){gn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),l=new k(a||[]);return r(o,"_invoke",{value:x(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var d={};function f(){}function p(){}function h(){}var m={};c(m,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==t&&n.call(g,i)&&(m=g);var y=h.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var c=u(e[a],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,l)}))}l(c.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function x(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=_(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return p.prototype=h,r(y,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=c(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new w(s(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(y),c(y,l,"Generator"),c(y,i,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function yn(){var e=Object(i.useRef)(),t=Object(i.useState)(""),n=Object(u.a)(t,2),r=n[0],a=n[1],l=Object(i.useState)(""),d=Object(u.a)(l,2),f=d[0],p=d[1],h=Object(i.useRef)(),m=Object(i.useState)(""),v=Object(u.a)(m,2),g=v[0],y=(v[1],Object(s.c)()),b=Object(c.n)();function w(){return(w=Object(R.a)(gn().mark((function t(){var n;return gn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=hn(e.current.value),a(n.message),n.result){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,cn({email:e.current.value,password:h.current.value}).then((function(e){return e.json()})).then((function(t){return t.resetPasswordRequired?(p("This is your first time logging in, you will be redirected to set up a password."),void b("/#/reset-password?email="+e.current.value)):t.accessToken?(y({token:t.accessToken,expiresIn:1440,tokenType:"Bearer",authState:{email:e.current.value}}),void b("/")):void p(t.message)})).catch((function(e){console.error("Error:",e)}));case 6:t.sent;case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return o.a.createElement(vn,null,o.a.createElement(Ge.a,{sx:{display:"flex",flexDirection:"column",marginRight:"40px"}},o.a.createElement("img",{className:"logo",src:N.a,alt:"Frontline Logo"}),o.a.createElement("h1",null,"Optimization Platform"),"Find the best sequence of activities with optimal resource loading to ace your project"),o.a.createElement(Ge.a,{className:"form",component:"form",noValidate:!0,autoComplete:"off"},o.a.createElement("h2",null,"Log In"),o.a.createElement("p",{className:"error"},f),o.a.createElement(on.a,{label:"Email",variant:"outlined",inputRef:e,error:""!==r,helperText:r,placeholder:"sample@googlemail.com"}),o.a.createElement(on.a,{label:"Password",type:"password",variant:"outlined",inputRef:h,error:""!==g,helperText:g,placeholder:"******"}),o.a.createElement("div",{className:"row"},o.a.createElement("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){b("/reset-password?email="+e.current.value)}},"Forgot password"),o.a.createElement(Xe,{variant:"contained",onClick:function(){return w.apply(this,arguments)}},"Login")),o.a.createElement("br",null),o.a.createElement("div",{className:"divider"}),o.a.createElement("h2",null,"New Users"),"Our platform is currently only available to subscribers. Please contact ",o.a.createElement("a",{href:"mailto:sales@frontlinec.com",target:"_blank",rel:"noreferrer"},"sales@frontlinec.com")," to request a demo."))}var bn=h.a.div(mn||(mn=Object(p.a)(["\n  width: 100vw;\n  height: 100vh;\n  background: linear-gradient(\n    180deg,\n    rgba(255, 204, 103, 0.195) 0%,\n    rgba(0, 145, 132, 0.3) 100%\n  );\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .MuiBox-root {\n    width: 450px;\n    h3 {\n      margin-top: 0;\n    }\n    &.form {\n      background: #ffffff;\n      padding: 30px;\n      border-radius: 16px;\n      box-sizing: border-box;\n      /* display: flex;\n      flex-direction: column; */\n      p {\n        color: #888888;\n        &.error {\n          color: rgb(0, 190, 174);\n          font-weight: 700;\n          margin-bottom: 15px;\n        }\n      }\n      .MuiTextField-root {\n        width: 100%;\n        margin-bottom: 12px;\n      }\n    }\n    img.logo {\n      width: 300px;\n    }\n  }\n"])));function wn(){wn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),l=new k(a||[]);return r(o,"_invoke",{value:x(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var d={};function f(){}function p(){}function h(){}var m={};c(m,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==t&&n.call(g,i)&&(m=g);var y=h.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var c=u(e[a],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,l)}))}l(c.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function x(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=_(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return p.prototype=h,r(y,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=c(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new w(s(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(y),c(y,l,"Generator"),c(y,i,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function xn(){var e=Object(l.b)(),t=Object(u.a)(e,2),n=t[0],r=(t[1],Object(i.useState)(n.get("email")?n.get("email"):"")),a=Object(u.a)(r,2),s=a[0],d=a[1],f=Object(i.useState)(""),p=Object(u.a)(f,2),h=p[0],m=p[1],v=Object(i.useState)(n.get("resetToken")),g=Object(u.a)(v,2),y=g[0],b=(g[1],Object(i.useState)("")),w=Object(u.a)(b,2),x=w[0],_=w[1],E=Object(c.n)();function j(){return(j=Object(R.a)(wn().mark((function e(){var t;return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=hn(s),_(t.message),t.result){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,un({email:s}).then((function(e){return e.json()})).then((function(e){_("We have sent the password reset instructions to your email. Please note the link expires in 1 hour.")})).catch((function(e){console.error("Error:",e)}));case 6:e.sent;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(R.a)(wn().mark((function e(){return wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fn({email:s,password:h,token:y}).then((function(e){return e.json()})).then((function(e){_("Your password has been successfully reset!"),E("/")})).catch((function(e){console.error("Error:",e)}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return y?o.a.createElement(vn,null,o.a.createElement(Ge.a,{sx:{display:"flex",flexDirection:"column",marginRight:"40px"}},o.a.createElement("img",{className:"logo",src:N.a,alt:"Frontline Logo"}),o.a.createElement("h1",null,"Optimization Platform"),"Find the best sequence of activities with optimal resource loading to ace your project"),o.a.createElement(Ge.a,{className:"form",component:"form",noValidate:!0,autoComplete:"off"},o.a.createElement("h2",null,"Reset Password"),x,o.a.createElement("p",null,"Your new password must be different from previous used passwords."),o.a.createElement(on.a,{label:"Email",variant:"outlined",value:s,disabled:!0}),o.a.createElement("br",null),o.a.createElement(on.a,{label:"Password",type:"password",variant:"outlined",value:h,onChange:function(e){return m(e.target.value)}}),o.a.createElement("br",null),o.a.createElement("div",{className:"row"},o.a.createElement("div",null),o.a.createElement(Xe,{variant:"contained",onClick:function(){return k.apply(this,arguments)}},"Reset Password")))):o.a.createElement(o.a.Fragment,null,o.a.createElement(bn,null,o.a.createElement(Ge.a,{sx:{display:"flex",flexDirection:"column",marginRight:"40px"},noValidate:!0,autoComplete:"off"},o.a.createElement("img",{className:"logo",src:N.a,alt:"Frontline Logo"}),o.a.createElement("h1",null,"Optimization Platform"),"Find the best sequence of activities with optimal resource loading to ace your project"),o.a.createElement(Ge.a,{className:"form",component:"form",noValidate:!0,autoComplete:"off"},o.a.createElement("h3",null,"Reset Password"),o.a.createElement("p",{className:"error"},x),o.a.createElement("p",null,"Enter the email associated with your account and we'll send an email with instructions to reset your password."),o.a.createElement(on.a,{label:"Email",placeholder:"example@gmail.com",variant:"outlined",value:s,onChange:function(e){return d(e.target.value)}}),o.a.createElement("div",{className:"row"},o.a.createElement(Qe,{variant:"contained",onClick:function(){E("/login")}},"Back"),o.a.createElement(Xe,{variant:"contained",onClick:function(){return j.apply(this,arguments)}},"Request")))))}function _n(){return o.a.createElement(s.a,{authType:"cookie",authName:"_auth",cookieDomain:window.location.hostname,cookieSecure:!1},o.a.createElement(l.a,null,o.a.createElement(Ke,null,o.a.createElement(c.d,null,o.a.createElement(c.b,{path:"/",element:o.a.createElement(s.b,{loginPath:"/login"},o.a.createElement(rn,null))}),o.a.createElement(c.b,{path:"/login",element:o.a.createElement(yn,null)}),o.a.createElement(c.b,{path:"/reset-password",element:o.a.createElement(xn,null)})))))}n(329);a.a.registerComponent("App",(function(){return _n})),a.a.runApplication("App",{rootTag:document.getElementById("root")})},73:function(e,t,n){e.exports=n.p+"static/media/logo.458142f4.png"}},[[304,1,2]]]);
//# sourceMappingURL=main.9902090b.chunk.js.map