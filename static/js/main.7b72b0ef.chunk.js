/*! For license information please see main.7b72b0ef.chunk.js.LICENSE.txt */
(this["webpackJsonpfrontline-industrial-software-app"]=this["webpackJsonpfrontline-industrial-software-app"]||[]).push([[0],{304:function(e,t,n){e.exports=n(339)},329:function(e,t,n){},339:function(e,t,n){"use strict";n.r(t);var r,a=n(410),i=n(0),o=n.n(i),l=n(61),s=n(14),c=n(73),u=n(11),d=n(59),f=n(6),h=n(428),m=n(413),p=n(19),v=n(25),g=n(419),y=Object(v.a)(g.a)(r||(r=Object(p.a)(["\n  margin: 30px auto;\n  width: 1200px;\n  .Mui-active circle {\n    color: #00beae;\n  }\n  .Mui-completed circle,.Mui-completed {\n    color: #002F2B !important;\n  }\n"])));function b(e){var t=e.steps,n=e.navAt,r=e.navigate,a=e.disabled;return o.a.createElement(y,{activeStep:n,alternativeLabel:!0},t.map((function(e,t){return o.a.createElement(h.a,{key:e,onClick:function(){a||r(t)}},o.a.createElement(m.a,null,e))})))}var _,x=n(207),w=n(418),E=n(427),k=n(402),O=n(401),j=n(404),N=v.a.div(_||(_=Object(p.a)(["\n  width: 100%;\n  box-sizing: border-box;\n  min-height: 55px;\n  box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;\n  .header { \n    margin: 0 auto 20px;\n    padding: 20px 0;\n    max-width: 1200px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    .logo {\n      display: flex;\n      align-items: center;\n      img {\n        max-width: 200px;\n        margin-right: 20px;\n      }\n    }\n    .menu {\n      &:focus {\n         outline: none !important;\n      }\n    }\n  }\n"]))),L=n(74),z=n.n(L),S=n(186),R=n.n(S),C=n(191),F=n.n(C),T=n(192),P=n.n(T);function D(){var e=Object(c.d)(),t=Object(s.n)();var n=o.a.useState(null),r=Object(f.a)(n,2),a=r[0],i=r[1],l=Boolean(a);return o.a.createElement(N,null,o.a.createElement("div",{className:"header"},o.a.createElement("div",{className:"logo"},o.a.createElement("a",{href:"/"},o.a.createElement("img",{src:z.a,alt:"Frontline Logo"})),o.a.createElement("span",null,"v2.0.0")),o.a.createElement("div",{className:"account"},o.a.createElement(R.a,{id:"basic-button","aria-controls":l?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":l?"true":void 0,onClick:function(e){i(e.currentTarget)},fontSize:"medium"}),o.a.createElement(x.a,{id:"basic-menu",anchorEl:a,open:l,onClose:function(){i(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},MenuListProps:{"aria-labelledby":"basic-button"}},o.a.createElement(w.a,{className:"menu"},o.a.createElement(E.a,{onClick:function(){window.open("https://app.frontline-optimizer.com/v1.0.0/","_blank","noopener,noreferrer")}},o.a.createElement(O.a,null,o.a.createElement(F.a,{fontSize:"small"})),o.a.createElement(k.a,null,"Back to v1.0.0")),o.a.createElement(j.a,null),o.a.createElement(E.a,{onClick:function(){e(),t("/login")}},o.a.createElement(O.a,null,o.a.createElement(P.a,null)),o.a.createElement(k.a,null,"Log Out")))))))}var I,M,A,G=n(15),B=n(429),U=n(430),W=n(415),Y=n(426),q=n(76),H=n.n(q),J=n(155),V=n.n(J),K=n(422),Z=v.a.div(I||(I=Object(p.a)(['\n  background: #F0F1F3;\n  margin: 0;\n  /* padding: 0 0 50px; */\n  min-height: 100vh;\n  min-width: 1200px;\n  .row {\n    display: flex;\n    width: 100%;\n    justify-content: space-between;\n    align-items: center;\n    box-sizing: border-box;\n    /* margin-top: 10px; */\n  }\n  .MuiTableCell-body, .MuiTableCell-head {\n    font-family: "Inter", Arial, Helvetica, sans-serif;\n  }\n']))),X=Object(v.a)(K.a)(M||(M=Object(p.a)(['\n  padding: 10px 20px !important;\n  box-shadow: none !important;\n  background: #008277 !important;\n  width: auto !important;   \n  font-weight: bold !important;\n  text-transform: capitalize !important;\n  font-size: 1rem !important;\n  font-family: "Inter", sans-serif !important;\n  &:hover {\n      background: #0b534d !important;\n    }\n  &.Mui-disabled {\n    color: #dbdbdb;    \n    background: #f0f0f0 !important;\n  }\n']))),$=Object(v.a)(X)(A||(A=Object(p.a)(["\n  padding: 10px 20px !important;\n  box-shadow: none !important;\n  color: #008277 !important;\n  border: 1px solid #008277 !important;\n  background: white !important;\n  width: auto !important;\n  text-transform: capitalize !important;\n  font-weight: bold !important;\n  &:hover {\n  background: white !important;\n      color: #0b534d !important;\n    }\n  &.Mui-disabled {\n    color: #dbdbdb;    \n    border: 1px solid #f0f0f0 !important;\n  }\n"]))),Q=n(23),ee=n(24),te=n(91);function ne(){ne=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(L){s=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),l=new O(a||[]);return r(o,"_invoke",{value:x(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=c;var d={};function f(){}function h(){}function m(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(j([])));g&&g!==t&&n.call(g,i)&&(p=g);var y=m.prototype=f.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var s=u(e[a],e,i);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,l)}))}l(s.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function x(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=w(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:h,configurable:!0}),h.displayName=s(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(_.prototype),s(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new _(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(y),s(y,l,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var re=function(){function e(t){Object(Q.a)(this,e),this.reader=t,this.sim_in={steps:"20",default_start:"2023-03-01",min_ratio:"0.5",max_ratio:"1.5",lr:"0.1"},this.loss_weights={drtn_day:100,rsrc_max:0,rsrc_std:0,loss_task:0,loss_rsrc:0,loss_task_rsrc:0},this.results=[]}return Object(ee.a)(e,[{key:"init",value:function(){var e=this;return new Promise((function(t){e.ws=new WebSocket("wss://engine.frontline-optimizer.com"),e.ws.onopen=function(e){console.log("Optimization Engine connected!"),te.a.success("Optimization Engine connected!"),t()},e.ws.onclose=function(t){console.log("Optimization Engine disconnected!"),te.a.error("Optimization Engine disconnected!"),e.finishedCallback(e.results)},e.ws.onmessage=function(t){var n=JSON.parse(t.data.replace(/\bNaN\b/g,"null"));n.success&&te.a.success("Engine: "+n.success),n.error&&te.a.error("Engine: "+n.error),n.drtn_day&&(e.modify_output(n),e.results.push(n),e.results=[e.results[0]].concat(Object(u.a)(e.results.slice(1).sort((function(e,t){return t.loss_sum-e.loss_sum}))))),e.resultCallback(e.results)},e.ws.onerror=function(e){te.a.error("Optimization Engine connection error!")}}))}},{key:"modify_output",value:function(e){var t=0,n={},r={};Object.values(e.inp.tasks).forEach((function(e){e.drtn_hr_2=Math.round(e.drtn_hr_2),e.changed=e.drtn_hr!==e.drtn_hr_2,e.drtn_ratio=e.drtn_hr_2/e.drtn_hr,e.changed&&(t+=1),Object.values(e.rsrcs).forEach((function(e){n[e.id]=e})),Object.values(e.preds).forEach((function(e){r[e.id]=e}))})),Object.assign(e.inp,{task_preds:r,task_rsrcs:n}),e.num_changed=t,e.num_crt=e.crt_path.length,Object.values(e.inp.rsrcs).forEach((function(e){e.show_in_plot=!0}))}},{key:"debug_output",value:function(e){var t=e.inp,n=t.tasks,r=t.rsrcs,a=t.clndrs,i=t.task_preds,o=t.task_rsrcs;if(1===this.results.length){console.log(e);for(var l=0,s=[n,r,a,i,o];l<s.length;l++){var c=s[l];console.log(Object.values(c)[0])}}}},{key:"send",value:function(e){this.ws.send(JSON.stringify(e))}},{key:"stop",value:function(){var e=Object(G.a)(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.ws&&this.ws.close();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"optimize",value:function(){var e=Object(G.a)(ne().mark((function e(t,n){var r,a,i,o,l,s,c,u,d,f,h,m;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.resultCallback=t,this.finishedCallback=n,this.ws){e.next=7;break}return e.next=5,this.init();case 5:e.next=10;break;case 7:if(this.ws.readyState===this.ws.OPEN){e.next=10;break}return e.next=10,this.init();case 10:this.results=[],a=this.reader.data,i=a.tasks,o=a.rsrcs,l=a.clndrs,s=[],(null===(r=this.reader)||void 0===r?void 0:r.cons_data)&&(c=this.reader.cons_data,u=c.tasks_cons,d=c.rsrcs_cons,f=c.task_rsrc_cons,u.forEach((function(e){var t,n,r,a=i[e.id];a&&(a.drtn_hr_rng=[e.min_drtn_hr,e.max_drtn_hr],"YES"!==(null===(t=e.ignored)||void 0===t?void 0:t.toUpperCase())&&"TRUE"!==(null===(n=e.ignored)||void 0===n?void 0:n.toUpperCase())&&"IGNORED"!==(null===(r=e.ignored)||void 0===r?void 0:r.toUpperCase())||s.push(e.id))})),d.forEach((function(e){var t=o[e.id];t&&(t.rng=[0,e.max_units_per_day])})),f.forEach((function(e){var t=i[e.t_id].rsrcs[e.r_id];t&&(t.units_rng=[e.min_units,e.max_units])}))),Object.values(i).forEach((function(e){e.act_start=null,e.act_finish=null})),h={},Object.values(i).filter((function(e){return!e.ignored})).forEach((function(e){return h[e.id]=e})),i=h,m=this.sim_in.default_start,this.send({func:"optimize",tasks:i,rsrcs:o,clndrs:l,drtn_ratios:{},default_start:m,steps:parseInt(this.sim_in.steps),ratio_rng:[parseFloat(this.sim_in.min_ratio),parseFloat(this.sim_in.max_ratio)],lr:parseFloat(this.sim_in.lr),loss_weights:this.loss_weights});case 20:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),ae=n(48),ie=n(49),oe=n(154);function le(e){return JSON.parse(JSON.stringify(e))}function se(e){return e?new Date(e).toISOString().replace("T"," ").slice(0,16):""}function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"PT200H0M0S";return parseFloat(e.split("PT")[1].split("H")[0])}function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"07:00:00";return Date.parse("1971-06-28T"+e)-Date.parse("1971-06-28T00:00:00")}function de(e){return new Date(e).toISOString().split(".")[0]}function fe(e){return"id_"+e}function he(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plaincharset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function me(e){return e?Array.isArray(e)?e:[e]:[]}function pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return e.forEach((function(e,r){return n[e]=t[r]})),n}var ve=function(){function e(){Object(Q.a)(this,e),this.dic={}}return Object(ee.a)(e,[{key:"size",get:function(){return ge(this.dic)}},{key:"list",get:function(){return Object.entries(this.dic).map((function(e){var t=Object(f.a)(e,2),n=t[0],r=t[1];return"".concat(n," (count: ").concat(r,")")}))}},{key:"add",value:function(e){e in this.dic||(this.dic[e]=0),this.dic[e]+=1}}]),e}();function ge(e){return Object.keys(e).length}var ye=n(40);function be(e){return new Promise((function(t){var n=new FileReader;n.onload=function(e){var n=ye.a(e.target.result,{type:"binary"}),r={};n.SheetNames.forEach((function(e){r[e]=ye.b.sheet_to_json(n.Sheets[e],{})})),t(r)},n.readAsBinaryString(e)}))}function _e(e){var t=e.book,n=e.filename,r=ye.b.book_new();Object.entries(t).forEach((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1],i=ye.b.json_to_sheet(Object.values(a));ye.b.book_append_sheet(r,i,n)})),ye.c(r,n)}function xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"string"===typeof t?t:e.includes("start")||e.includes("finish")?se(t):"number"===typeof t?e.includes("ratio")?t.toFixed(2):t.toFixed(0):null===t||!1===t?"":Array.isArray(t)&&t.length<3?JSON.stringify(t):"object"===typeof t?ge(t):JSON.stringify(t)}function we(){we=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(L){s=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),l=new O(a||[]);return r(o,"_invoke",{value:x(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=c;var d={};function f(){}function h(){}function m(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(j([])));g&&g!==t&&n.call(g,i)&&(p=g);var y=m.prototype=f.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var s=u(e[a],e,i);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,l)}))}l(s.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function x(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=w(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:h,configurable:!0}),h.displayName=s(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(_.prototype),s(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new _(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(y),s(y,l,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var Ee,ke,Oe,je,Ne=function(){function e(){Object(Q.a)(this,e),this.errors=new ve}return Object(ee.a)(e,[{key:"read_from_file",value:function(){var e=Object(G.a)(we().mark((function e(){var t,n,r=this,a=arguments;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:new File,this.filename=t.name,n=new FileReader,e.abrupt("return",new Promise((function(e){n.onload=function(t){var n=t.target.result.trim();r.parse_text(n),r.extract_data(),r.cons_data=r.make_constraints(),e(!0)},n.readAsText(t)})));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"parse_text",value:function(){}},{key:"extract_data",value:function(){}},{key:"merge_data",value:function(){}},{key:"export",value:function(){}},{key:"export_excel",value:function(e){for(var t=le(e),n=t.tasks,r=t.rsrcs,a=t.clndrs,i=t.task_preds,o=t.task_rsrcs,l=le(n),s=0,c=[n,r,a,i,o];s<c.length;s++){var u=c[s];Object.values(u).forEach((function(e){Object.keys(e).forEach((function(t){e[t]=xe(t,e[t])}))}))}Object.keys(n).forEach((function(e){l[e].finish<Date.now()&&(n[e].act_start=n[e].start,n[e].start_2=n[e].start,n[e].act_finish=n[e].finish,n[e].finish_2=n[e].finish)})),Object.values(n).forEach((function(e){e.task_code&&(e.id=e.task_code,delete e.task_code)})),Object.values(i).forEach((function(t){e.tasks[t.t_id].task_code&&(t.t_id=e.tasks[t.t_id].task_code),e.tasks[t.p_id].task_code&&(t.p_id=e.tasks[t.p_id].task_code)})),Object.values(o).forEach((function(e){e.t_code&&(e.t_id=e.t_code,delete e.t_code)}));var d=this.filename.replace(".xml","_Frontline.xlsx").replace(".xer","_Frontline.xlsx");_e({book:{tasks:n,rsrcs:r,clndrs:a,task_preds:i,task_rsrcs:o},filename:d})}},{key:"make_constraints",value:function(){var e=this,t=[],n=[],r=[];return Object.values(this.data.tasks).forEach((function(n){var a=n.id,i=n.name,o=n.drtn_hr,l=n.clndr_id;t.push({id:a,name:i,drtn_hr:o,min_drtn_hr:null,max_drtn_hr:null,week_hr_cnt:e.data.clndrs[l].week_hr_cnt,ignored:null}),Object.values(n.rsrcs).forEach((function(t){var n=t.id,a=t.t_id,o=t.r_id,l=t.units;r.push({id:n,t_id:a,r_id:o,t_name:i,r_name:e.data.rsrcs[o].name,units:l,min_units:null,max_units:null})}))})),Object.values(this.data.rsrcs).forEach((function(e){var t=e.id,r=e.name,a=e.baseline_resource;n.push({id:t,name:r,max_units_per_day:null,cost_per_unit_hr:null,baseline_resource:a||null})})),{tasks_cons:t,rsrcs_cons:n,task_rsrc_cons:r}}},{key:"export_constraints",value:function(){var e=this,t=this.filename.replace(".xml","_Frontline_Cons.xlsx").replace(".xer","_Frontline_Cons.xlsx"),n=this.make_constraints();Object.values(n.tasks_cons).forEach((function(t){e.data.tasks[t.id].task_code&&(t.id=e.data.tasks[t.id].task_code)})),Object.values(n.task_rsrc_cons).forEach((function(t){e.data.tasks[t.t_id].task_code&&(t.t_id=e.data.tasks[t.t_id].task_code)})),_e({book:n,filename:t})}},{key:"read_constraints",value:function(){var e=Object(G.a)(we().mark((function e(t){var n,r,a;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.cons_filename=t.name,e.next=3,be(t);case 3:for(this.cons_data=e.sent,n=this.make_constraints(),r=0;r<this.cons_data.tasks_cons.length;r++)this.cons_data.tasks_cons[r].id=n.tasks_cons[r].id;for(a=0;a<this.cons_data.task_rsrc_cons.length;a++)this.cons_data.task_rsrc_cons[a].t_id=n.task_rsrc_cons[a].t_id;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Le=function(e){Object(ae.a)(n,e);var t=Object(ie.a)(n);function n(){return Object(Q.a)(this,n),t.apply(this,arguments)}return Object(ee.a)(n,[{key:"parse_text",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new oe.XMLParser({ignoreAttributes:!1});this.raw_data=t.parse(e)}},{key:"extract_data",value:function(){var e,t=this,n={},r={},a={"id_-1":{id:"id_-1",name:"standard 5x(4+4)",week_hr_cnt:40}},i=this.raw_data.Project,o={};i.Tasks.Task.forEach((function(e){var t=fe(e.UID),n=e.Summary,r=e.Name;o[t]={is_summary:n,name:r}})),i.Tasks.Task.forEach((function(e){var r=fe(e.UID),a=e.Name,i=Date.parse(e.Start+"Z"),l=Date.parse(e.Finish+"Z"),s=ce(e.Duration),c=Date.parse(e.ActualStart+"Z"),u=Date.parse(e.ActualFinish+"Z"),d=fe(e.CalendarUID),f={};me(e.PredecessorLink).forEach((function(e){var n=fe(e.PredecessorUID),i={0:"FF",1:"FS",2:"SF",3:"SS"}[e.Type],l=e.LinkLag/600,s=o[n];if(s.is_summary){var c="ignoring RELATIONSHIP between `".concat(s.name,"` and `").concat(a,"` because the former is a summary");t.errors.add(c)}else f[n]={id:r+"-"+n,t_id:r,p_id:n,type:i,lag_hr:l}})),o[r].is_summary||(n[r]={id:r,name:a,start:i,finish:l,drtn_hr:s,act_start:c,act_finish:u,preds:f,rsrcs:{},clndr_id:d})})),me(i.Resources.Resource).forEach((function(e){var t=fe(e.UID),n=e.Name,a=["Material","Work","Cost"][e.Type];a={Work:"Labor",Material:"Material",Cost:"Cost"}[a],r[t]={id:t,name:n,type:a,dist:{}}})),i.Calendars.Calendar.forEach((function(e){var t=fe(e.UID),n=e.Name,r=0;e.WeekDays&&e.WeekDays.WeekDay.forEach((function(e){var t;[null,"Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.DayType]&&me(null===(t=e.WorkingTimes)||void 0===t?void 0:t.WorkingTime).forEach((function(e){var t=(ue(e.ToTime)-ue(e.FromTime))/36e5;t<0&&(t+=24),r+=t}))})),a[t]={id:t,name:n,week_hr_cnt:r}})),(null===(e=i.Assignments)||void 0===e?void 0:e.Assignment)&&i.Assignments.Assignment.forEach((function(e){if(e.Work){var a=fe(e.UID),i=fe(e.TaskUID),o=fe(e.ResourceUID);if(r[o]){var l=ce(e.Work),s=l/n[i].drtn_hr;n[i].rsrcs[o]={id:a,t_id:i,r_id:o,work_hr:l,units:s}}else t.errors.add("unknown resource `".concat(o,"` in resource assignment"))}})),this.data={tasks:n,rsrcs:r,clndrs:a}}},{key:"merge_data",value:function(e){var t=this.raw_data.Project;t.Tasks.Task.forEach((function(t){if(!t.Summary){var n=fe(t.UID),r=e.tasks[n];t.Start=t.EarlyStart=t.LateStart=de(r.start_2),t.Finish=t.EarlyFinish=t.LateFinish=de(r.finish_2),t.Duration=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"PT"+e+"H0M0S"}(r.drtn_hr_2),t.act_start&&t.act_finish&&(t.ActualDuration=t.Duration)}})),t.Assignments.Assignment.forEach((function(t){if(t.Work){var n=fe(t.UID),r=e.task_rsrcs[n];r&&(t.PeekUnits=r.units_2)}}))}},{key:"export",value:function(){var e=new oe.XMLBuilder({ignoreAttributes:!1}).build(this.raw_data);he(this.filename.replace(".xml","_Frontline.xml"),e)}}]),n}(Ne),ze=function(e){Object(ae.a)(n,e);var t=Object(ie.a)(n);function n(){return Object(Q.a)(this,n),t.apply(this,arguments)}return Object(ee.a)(n,[{key:"parse_text",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n={tables:{}},r=[];t.split("\n").forEach((function(t){var a=t.split("\t").map((function(e){return e.trim()})),i=a[0],o=a.slice(1);switch(i){case"ERMHDR":n.header=o;break;case"%T":r=n.tables[a[1]]=[];break;case"%F":e=o;break;case"%R":r.push(pe(e,o));break;case"%E":break;default:console.error(i)}})),this.raw_data=n}},{key:"extract_data",value:function(){var e=this,t={},n={},r={},a=this.raw_data.tables,i={};a.TASK.forEach((function(e){var n=fe(e.task_id),r=e.task_name,a=Date.parse(e.target_start_date+"Z"),o=Date.parse(e.target_end_date+"Z"),l=parseFloat(e.target_drtn_hr_cnt),s=Date.parse(e.act_start_date+"Z"),c=Date.parse(e.act_end_date+"Z"),u=fe(e.clndr_id),d=e.task_code;i[n]=d,t[n]={id:n,name:r,start:a,finish:o,drtn_hr:l,act_start:s,act_finish:c,preds:{},rsrcs:{},clndr_id:u,task_code:d}})),a.RSRC&&a.RSRC.forEach((function(e){var t=fe(e.rsrc_id),r=e.rsrc_name,a=e.rsrc_type.slice(3);a={Labor:"Labor",Equip:"Equipment",Mat:"Material"}[a],n[t]={id:t,name:r,type:a,dist:{}}})),a.CALENDAR.forEach((function(e){var t=fe(e.clndr_id),n=e.clndr_name,a=parseFloat(e.week_hr_cnt);r[t]={id:t,name:n,week_hr_cnt:a}})),a.TASKPRED.forEach((function(e){var n=fe(e.task_pred_id),r=fe(e.task_id),a=fe(e.pred_task_id),i=e.pred_type.slice(3),o=parseFloat(e.lag_hr_cnt);t[r].preds[a]={id:n,t_id:r,p_id:a,type:i,lag_hr:o}})),a.TASKRSRC&&(a.TASKRSRC.forEach((function(n){var r=fe(n.taskrsrc_id),a=fe(n.task_id),o=i[a],l=fe(n.rsrc_id),s=parseFloat(n.target_qty),c=s/t[a].drtn_hr;if(t[a].rsrcs[l])return e.errors.add("removed duplicate assignment between task `".concat(a,"` and resource `").concat(l,"`")),void(n.DELETE=!0);t[a].rsrcs[l]={id:r,t_id:a,t_code:o,r_id:l,work_hr:s,units:c}})),a.TASKRSRC=a.TASKRSRC.filter((function(e){return!e.DELETE}))),this.data={tasks:t,rsrcs:n,clndrs:r}}},{key:"merge_data",value:function(e){var t=this.raw_data.tables;t.TASK.forEach((function(t){var n=fe(t.task_id),r=e.tasks[n];t.target_start_date=t.early_start_date=t.late_start_date=se(r.start_2),t.target_end_date=t.early_end_date=t.late_end_date=se(r.finish_2),t.target_drtn_hr_cnt=r.drtn_hr_2})),t.TASKRSRC&&t.TASKRSRC.forEach((function(t){var n=fe(t.taskrsrc_id),r=e.task_rsrcs[n];t.target_qty_per_hr=r.units_2}))}},{key:"export",value:function(){var e=[];e.push(["ERMHDR"].concat(Object(u.a)(this.raw_data.header)).join("\t"));var t=this.raw_data.tables;Object.entries(t).forEach((function(t){var n=Object(f.a)(t,2),r=n[0],a=n[1];e.push(["%T",r].join("\t")),e.push(["%F"].concat(Object(u.a)(Object.keys(a[0]))).join("\t")),a.forEach((function(t){e.push(["%R"].concat(Object(u.a)(Object.values(t))).join("\t"))}))})),e.push("%E"),he(this.filename.replace(".xer","_Frontline.xer"),e.join("\n"))}}]),n}(Ne),Se=n(412),Re=n(405),Ce=v.a.div(Ee||(Ee=Object(p.a)(["\n    background: #ffffff;\n    padding: 1px 20px 20px;\n"]))),Fe=v.a.div(ke||(ke=Object(p.a)(["\n  width: 100%;\n  .upload-file {\n    /* width: 100%; */\n    margin: 20px 0;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    color: #008277;\n    font-weight: 700;\n    button, input {\n      /* width: 100% !important; */\n      justify-content: flex-start;\n      font-family: \"Inter\", sans-serif;\n    }\n    label {\n      font-weight: 700 !important;\n      svg {\n        margin-right: 8px;\n      }\n    }\n    .upload-button {\n      background: #008277;\n      color: #FFFFFF;\n      border: 1px transparent;\n      padding: 10px 20px;\n      text-align: center;\n      margin-right: 20px;\n      border-radius: 6px;\n      cursor: pointer;\n      &:hover {\n        background: #0b534d;\n      }\n      &.second-upload {\n        color: #008277;\n        background: transparent;\n        border: 1px solid;\n        &:hover {\n          color: #0b534d;\n        }\n      }\n    }\n  }\n  .optimization-input {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    .section {\n      width: 100%;\n      display: flex;\n      margin: 10px 0;\n      min-height: 50px;\n      display: flex-start !important;\n      justify-content: space-between;\n      position: relative;\n      &.disabled {\n        opacity: 0.3;\n      }\n      &:last-of-type {\n        &:after {\n          height: 0;\n        }\n      }\n      &:after {\n        content: '';\n        position: absolute;\n        background: #eeeeee;\n        bottom: 0;\n        left: 0;\n        width: 100%;\n        height: 1px;\n      }\n      .intro {\n        width: 40%;\n        h2 {\n          margin: 0;\n          font-size: 18px;\n          font-weight: 500;\n        }\n        h3 {\n          margin: 0;\n          color: #888888;\n          font-weight: 300;\n          font-size: 16px;\n          line-height: 16px;\n        }\n      }\n      .input-wrapper {\n        width: 60%;\n        .inputs {\n          margin: 0 0 20px;\n          display: flex;\n          justify-content: space-between;\n        }\n      }\n      label {\n         margin-bottom: 0px;\n         font-weight: 400;\n         display: flex;\n         align-items: center;\n        svg {\n          margin-left: 5px;\n          width: 18px;\n        }\n      }\n      .MuiSlider-colorPrimary {\n        color: #00A597;\n        margin: 15px 0;\n      }\n      .MuiInput-root {\n        margin: 6px 0;\n        border: 1px solid #f2f2f2;\n        &.Mui-focused {\n          border: 1px solid #00beae;\n          background: #ffffff;\n        }\n        &:after {\n          border: 0;\n        }\n      }\n      .MuiFormControl-root {\n        width: 45%;\n        margin-right: 50px;\n      }\n    }\n  }\n"]))),Te=Object(v.a)(Se.a)(Oe||(Oe=Object(p.a)(['\n  .MuiBox-root {\n    background: #f2f2f2;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    .loader {\n      width: 64px;\n      height: 64px;\n      background: linear-gradient(180deg, #002F2B 0%, rgba(0, 0, 0, 0.1) 25%);\n      border-radius: 50%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      position: relative;\n      animation: spin 1s linear infinite;\n      margin: 0 0 15px;\n    }\n    .loader::after {\n      content: "";\n      width: calc(100% - 4px);\n      height: calc(100% - 4px);\n      border-radius: 50%;\n      background: #f2f2f2;\n    }\n    @keyframes spin {\n      100% {\n        transform: rotate(360deg);\n      }\n    }\n    .title {\n      font-size: 20px;\n      font-family: "Nunito", sans-serif;\n      font-weight: 500;\n      margin: 0 0 15px;\n    }\n    span {\n      color: #696969;\n    }\n    &:focus-visible {\n      outline: none;\n    }\n}\n']))),Pe=Object(v.a)(Re.a)(je||(je=Object(p.a)(["\n  background: #f2f2f2;\n  border-radius: 6px;\n  padding: 4px 8px;\n  &:before {\n    border: 0 !important;\n  }\n"])));function De(){De=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(L){s=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),l=new O(a||[]);return r(o,"_invoke",{value:x(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=c;var d={};function f(){}function h(){}function m(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(j([])));g&&g!==t&&n.call(g,i)&&(p=g);var y=m.prototype=f.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var s=u(e[a],e,i);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,l)}))}l(s.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function x(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=w(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:h,configurable:!0}),h.displayName=s(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(_.prototype),s(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new _(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(y),s(y,l,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var Ie={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,p:3},Me=[{value:0,label:"0%"},{value:100,label:"100%"},{value:200,label:"200%"}],Ae=[{value:0,label:"0"},{value:50,label:"50"},{value:100,label:"100"}];function Ge(e){var t,n,r,a,l=e.fileName,s=e.setFileName,c=e.constraintsFileName,u=e.setConstraintsFileName,d=e.project,h=e.updateProject,m=e.goNext,p=Object(i.useState)(!1),v=Object(f.a)(p,2),g=v[0],y=v[1],b=Object(i.useState)(!!(null===d||void 0===d?void 0:d.fileReader)),_=Object(f.a)(b,2),x=_[0],w=_[1],E=Object(i.useState)((null===d||void 0===d||null===(t=d.optimizer)||void 0===t?void 0:t.sim_in)?[Math.ceil(100*d.optimizer.sim_in.min_ratio),Math.ceil(100*d.optimizer.sim_in.max_ratio)]:[50,150]),k=Object(f.a)(E,2),O=k[0],j=k[1],N=Object(i.useState)((null===d||void 0===d||null===(n=d.optimizer)||void 0===n?void 0:n.sim_in)?d.optimizer.sim_in.steps:20),L=Object(f.a)(N,2),z=L[0],S=L[1],R=new Date,C=Object(i.useState)(-1),F=Object(f.a)(C,2),T=F[0],P=F[1],D=Object(i.useState)((null===d||void 0===d||null===(r=d.optimizer)||void 0===r?void 0:r.sim_in)?new Date(null===d||void 0===d||null===(a=d.optimizer)||void 0===a?void 0:a.sim_in.default_start).toISOString().slice(0,10):R.toISOString().slice(0,10)),I=Object(f.a)(D,2),M=I[0],A=I[1];function q(e,t){var n;y(!0),e.name.endsWith("xer")?n=new ze:e.name.endsWith("xml")&&(n=new Le),n.read_from_file(e).then(function(){var r=Object(G.a)(De().mark((function r(a){var i,o;return De().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=-1,Object.values(n.data.tasks).forEach((function(e){(-1===i||i>e.start)&&(i=e.start)})),P(i),(o=new re(n)).sim_in.default_start=i,o.sim_in.steps=1,!o.init){r.next=9;break}return r.next=9,o.init();case 9:o.optimize((function(){}),(function(r){s(e.name),y(!1),o.baseline_result=r[0],o.sim_in.steps=z,Object.keys(n.data.rsrcs).forEach((function(e){return n.data.rsrcs[e].baseline_resource=r[0].inp.rsrcs[e].max})),h({fileReader:n,optimizer:o,isDemo:t}),w(!0)}));case 10:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}function J(){return(J=Object(G.a)(De().mark((function e(t){var n,r,a;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===d||void 0===d?void 0:d.fileReader){e.next=2;break}return e.abrupt("return");case 2:return u(t.name),e.next=5,d.fileReader.read_constraints(t);case 5:for(n=d.fileReader.data.tasks,r=[],d.fileReader.cons_data.tasks_cons.forEach((function(e){var t,a,i;n[e.id].drtn_hr_rng=[e.min_drtn_hr,e.max_drtn_hr],"YES"!==(null===(t=e.ignored)||void 0===t?void 0:t.toUpperCase())&&"TRUE"!==(null===(a=e.ignored)||void 0===a?void 0:a.toUpperCase())&&"IGNORED"!==(null===(i=e.ignored)||void 0===i?void 0:i.toUpperCase())||r.push(e.id)})),a=0;a<r.length;)r[a],Object.values(n).forEach((function(e){for(var t in e.preds)if(r.indexOf(t)>-1&&-1===r.indexOf(e.id)){r.push(e.id);break}})),a++;Object.values(n).forEach((function(e){r.indexOf(e.id)>-1&&(e.ignored=!0)})),h(d);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.useEffect)((function(){var e;(null===d||void 0===d||null===(e=d.optimizer)||void 0===e?void 0:e.sim_in)&&(d.optimizer.sim_in.default_start=M),h(d)}),[M]),Object(i.useEffect)((function(){var e;(null===d||void 0===d||null===(e=d.optimizer)||void 0===e?void 0:e.sim_in)&&(d.optimizer.sim_in.steps=z),h(d)}),[z]),Object(i.useEffect)((function(){var e;(null===d||void 0===d||null===(e=d.optimizer)||void 0===e?void 0:e.sim_in)&&(d.optimizer.sim_in.min_ratio=O[0]/100,d.optimizer.sim_in.max_ratio=O[1]/100),h(d)}),[O]),o.a.createElement(Ce,null,o.a.createElement("h2",null,"Upload schedule and enter optimization settings"),o.a.createElement(Fe,null,o.a.createElement("div",{className:"optimization-input"},o.a.createElement("div",{className:"section"},o.a.createElement("div",{className:"intro"},o.a.createElement("h2",null,"Schedule"),o.a.createElement("h3",null,"Upload your schedule,  accepted file formats are: .xer or .xml")),o.a.createElement("div",{className:"input-wrapper"},o.a.createElement("div",{className:"inputs",style:{alignItems:"center"}},o.a.createElement("div",{className:"upload-file"},o.a.createElement("input",{hidden:!0,type:"file",id:"project-file",name:"project",onChange:function(e){q(e.target.files[0],!1)},accept:".xer,.xml"}),o.a.createElement("label",{className:"upload-button",htmlFor:"project-file"},o.a.createElement(V.a,null)," Upload file"),o.a.createElement("span",null,l)),o.a.createElement("span",null,"or ",o.a.createElement("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){fetch("/demo_project.xml").then((function(e){return e.blob()})).then((function(e){q(new File([e],"demo_project.xml"),!0)}))}}," use a demo project"))))),o.a.createElement("div",{className:"section ".concat(x?"":"disabled")},o.a.createElement("div",{className:"intro"},o.a.createElement("h2",null,"Constraints"),o.a.createElement("h3",null,"Upload your constraints (",o.a.createElement("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){d.fileReader.export_constraints()}},"download template"),")")),o.a.createElement("div",{className:"input-wrapper"},o.a.createElement("div",{className:"inputs"},o.a.createElement("div",{className:"upload-file"},o.a.createElement("input",{hidden:!0,type:"file",id:"constraints-file",name:"constraints",onChange:function(e){!function(e){J.apply(this,arguments)}(e.target.files[0])},accept:".xls,.xlsx"}),o.a.createElement("label",{className:"upload-button  second-upload",htmlFor:"constraints-file"},o.a.createElement(V.a,null)," Upload file"),o.a.createElement("span",null,c))))),o.a.createElement("div",{className:"section ".concat(x?"":"disabled")},o.a.createElement("div",{className:"intro"},o.a.createElement("h2",null,"Optimization Settings"),o.a.createElement("h3",null,"Customize your optimization results")),o.a.createElement("div",{className:"input-wrapper"},o.a.createElement("div",{className:"inputs"},o.a.createElement(B.a,null,o.a.createElement("label",null,"Default Start Date"),o.a.createElement(Pe,{type:"date",inputProps:{min:new Date(T).toISOString().slice(0,10)},defaultValue:M,onChange:function(e){return A(e.target.value)},id:"start-date",placeholder:"eg: 2023-10-19",variant:"outlined",disabled:!x}),o.a.createElement("small",null,"Please enter commencement date")),o.a.createElement(B.a,null,o.a.createElement("label",null,"Learning Rate ",o.a.createElement(U.a,{title:o.a.createElement("div",{style:{fontSize:"13px",fontFamily:"Inter"}},"The learning rate is a tuning parameter in an optimization algorithm that determines the step size at each iteration while moving toward a minimum of a loss function.")},o.a.createElement(H.a,null))),o.a.createElement(Pe,{id:"start-date",defaultValue:.1,placeholder:"eg: 0.005",variant:"outlined",disabled:!x}))),o.a.createElement("div",{className:"inputs"},o.a.createElement(B.a,{style:{width:"100%"}},o.a.createElement("label",null,"Optimization Ratio ",O?o.a.createElement(o.a.Fragment,null,"(",O[0].toString(),"% - ",O[1].toString(),"%)"):"",o.a.createElement(U.a,{title:o.a.createElement("div",{style:{fontSize:"13px",fontFamily:"Inter"}},"Ratio = New Duration over Baseline Duration")},o.a.createElement(H.a,null))),o.a.createElement(W.a,{id:"optimization-ratio",step:5,min:0,max:200,valueLabelDisplay:"auto",getAriaLabel:function(){return"Optimization Ratio"},value:O,marks:Me,onChange:function(e){return j(e.target.value)},disabled:!x}))),o.a.createElement("div",{className:"inputs"},o.a.createElement(B.a,{style:{width:"100%"}},o.a.createElement("label",null,"Optimization Steps (",z.toString(),")"),o.a.createElement(W.a,{id:"optimization-steps","aria-label":"optimization-steps",value:z,onChange:function(e){return S(e.target.value)},step:1,min:10,max:50,marks:Ae,valueLabelDisplay:"auto",disabled:!x})))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",null),o.a.createElement(X,{variant:"contained",onClick:m,disabled:!x},"Next")),o.a.createElement(Te,{open:g,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},o.a.createElement(Y.a,{sx:Ie},o.a.createElement("div",{className:"loader"}," "),o.a.createElement("div",{className:"title",id:"modal-modal-title"},"Uploading data..."),o.a.createElement("span",null,"Please wait. This action may take up to a few minutes depending on the size of your file.")))))}var Be=n(424),Ue=n(431),We=n(414),Ye=n(21);function qe(e){var t=e.margin,n=void 0===t?50:t,r=e.x_domain,a=e.y_domain,i=e.width,o=e.height,l=e.ref,s=e.x_label,c=e.y_label,u=e.x_type,d=void 0===u?Ye.f:u,f=e.y_type,h=void 0===f?Ye.f:f,m=n,p=i-n,v=n,g=o-n,y=d(r,[m,p]),b=h(a,[g,v]),_=Ye.h(l.current).attr("width",i).attr("height",o);_.selectChildren().remove(),_.append("g").call(Ye.a(y)).attr("transform","translate(0, ".concat(g,")")).call((function(e){e.append("text").attr("x",i/2).attr("y",40).attr("fill","#2d2d2d").attr("font-size",16).attr("text-align","right").text(s)})),_.append("g").call(Ye.d(y).tickValues([])).attr("transform","translate(0, ".concat(v,")")),_.append("g").call(Ye.b(b)).attr("transform","translate(".concat(m,", 0)")).call((function(e){e.append("text").attr("text-anchor","end").attr("y",30).attr("x",-30).attr("fill","#2d2d2d").attr("font-size",16).text(c).attr("text-anchor","start")})),_.append("g").call(Ye.c(b).tickValues([])).attr("transform","translate(".concat(p,", 0)"));var x=Ye.a().scale(y).tickFormat("").tickSizeInner(o-2*n);_.append("g").attr("class","x-grid").attr("transform","translate(0, ".concat(v,")")).style("opacity",.3).style("stroke-dasharray","3, 3").call(x);var w=Ye.b().scale(b).tickFormat("").tickSizeInner(2*n-i);return _.append("g").attr("class","x-grid").attr("transform","translate(".concat(m,", 0)")).style("opacity",.3).style("stroke-dasharray","3, 3").call(w),{svg:_,x_scale:y,y_scale:b}}function He(e,t,n,r){var a=(e[1]-e[0])*n,i=(t[1]-t[0])*r;return{x_domain:[e[0]-a,e[1]+a],y_domain:[t[0]-i,t[1]+i]}}var Je,Ve,Ke={TaskPlot:{optimizedTask:"#82B5C7",optimizedCriticalTask:"#e61717",baselineTask:"#CCCCCC",baselineCriticalTask:"#e6a7a7"},ResourcePlot:{allResources:["#55CBCD98","#f7dc5b98","#FFAEA598","#82B5C798","#939ce398","#AABB5D98","#BAA19098","#db793098","#099A4D98","#f07e9398","#FDAE6198","#D53E4F98","#ABDDA498","#E6F598","#9B4FA298","#6891F98F"]}};function Ze(e){return Object.keys(e).length}function Xe(e,t){var n=[];if(e.length>t)for(var r=Math.floor(e.length/t),a=0;a<t;a++)n.push(e[a*r]);else n=e;return n}function $e(e){var t=e.tasks,n=e.baselineTasks,r=e.width,a=e.height,l=e.color,s=e.keep,c=void 0===s?400:s,d=Object(i.useRef)();if(Object(i.useEffect)((function(){if(n&&Ze(n)&&(t||!Ze(t))){var e=Object.values(t).sort((function(e,t){return e.start_2-t.start_2})),i=Object.values(n).sort((function(e,t){return e.start_2-t.start_2}));e.length>c&&(e=e.filter((function(e){return e.critical})),i=i.filter((function(e){return e.critical})));var o=[Math.min.apply(Math,Object(u.a)(e.map((function(e){return e.start_2})))),Math.max.apply(Math,Object(u.a)(e.map((function(e){return e.finish_2}))))],s=[Math.min.apply(Math,Object(u.a)(i.map((function(e){return e.start_2})))),Math.max.apply(Math,Object(u.a)(i.map((function(e){return e.finish_2}))))],f=[Math.min(o[0],s[0]),Math.max(o[1],s[1])];e=Xe(e,c),i=Xe(i,c);var h=[e.length,0],m=[i.length,0],p=qe({margin:40,x_domain:f,y_domain:[Math.max(h[0],m[0]),Math.min(h[1],m[1])],width:r||560,height:a||500,ref:d,x_type:Ye.g,y_type:Ye.f}),v=p.svg,g=p.x_scale,y=p.y_scale;v.append("g").selectAll("rect").data(i).join("rect").attr("x",(function(e){return g(e.start_2)})).attr("y",(function(e,t){return y(t)})).attr("width",(function(e){return Math.max(g(e.finish_2)-g(e.start_2),0)})).attr("height",y(1)-y(0)).attr("fill",(function(e){return e.critical&&Ze(n)<=c?Ke.TaskPlot.baselineCriticalTask:Ke.TaskPlot.baselineTask})),v.append("g").selectAll("rect").data(e).join("rect").attr("x",(function(e){return g(e.start_2)})).attr("y",(function(e,t){return y(t)})).attr("width",(function(e){return Math.max(g(e.finish_2)-g(e.start_2),0)})).attr("height",y(1)-y(0)).attr("fill",(function(e){return e.critical&&Ze(t)<=c?Ke.TaskPlot.optimizedCriticalTask:l||Ke.TaskPlot.optimizedTask}))}}),[t]),!n||!Ze(n)||!t&&Ze(t))return null;var f=Ze(t)>c?"showing up to 400 critical tasks only due to limited pixels":"";return o.a.createElement(o.a.Fragment,null,o.a.createElement("br",null),o.a.createElement(o.a.Fragment,null,f),o.a.createElement("svg",{ref:d}))}function Qe(e){var t=e.results,n=void 0===t?[]:t,r=e.optimizer,a=e.optimizationPresets,l=e.selectedPreset,s=e.selectedResultIndex,c=void 0===s?-1:s,u=e.width,d=void 0===u?550:u,f=e.height,h=void 0===f?500:f,m=e.k,p=e.x_label,v=e.y_label,g=e.onClick,y=Object(i.useRef)();return Object(i.useEffect)((function(){if(!(null===n||void 0===n?void 0:n.length))return null;var e=[r.baseline_result];Object.values(a).forEach((function(t){t.optimizer.results.length>0&&(e=e.concat(t.optimizer.results))}));var t=He(Ye.e(e.map((function(e){return e.drtn_day}))),Ye.e(e.map((function(e){return e[m]}))),.15,.15),i=qe({x_domain:t.x_domain,y_domain:t.y_domain,margin:50,width:d,height:h,ref:y,x_label:p,y_label:v,x_type:Ye.f,y_type:Ye.f}),o=i.svg,s=i.x_scale,u=i.y_scale;o.append("g").selectAll("circle").data([r.baseline_result]).join("circle").attr("cx",(function(e){return s(e.drtn_day)})).attr("cy",(function(e){return u(e[m])})).attr("r",(function(e){return 6})).attr("fill","#cccccc"),Object.keys(a).forEach((function(e){var t=a[e],n=o.append("g");for(var r in t.optimizer.results)t.optimizer.results[r].index=parseInt(r);n.selectAll("circle").data(t.optimizer.results).join("circle").attr("cx",(function(e){return s(e.drtn_day)})).attr("cy",(function(e){return u(e[m])})).attr("r",(function(e,n){return 0===n?0:n===t.optimizer.sim_in.steps-1?6:2})).attr("fill-opacity",(function(e,n){return n/t.optimizer.results.length})).style("stroke",(function(t,n){return c===t.index&&l===e?"#e61717":void 0})).attr("stroke-width",(function(t,n){return c===t.index&&l===e?2:0})).attr("fill",t.color).on("click",(function(t,n){g(e,n.index)})).style("cursor","pointer")}))}),[n]),(null===n||void 0===n?void 0:n.length)?o.a.createElement("svg",{ref:y}):null}var et=v.a.div(Je||(Je=Object(p.a)(['\n  width: 100%;\n  .summary {\n    width: 100%;\n    display: inline-flex;\n    justify-content: space-between;\n    background: #fbfbfb;\n    margin: 0px 0 20px;\n    .stats {\n      padding: 25px;\n      width: 20%;\n      display: flex;\n      flex-direction: column;\n      position: relative;\n      &:last-child {\n        &:after {\n          width: 0px;\n        }\n      }\n      &:after {\n        content: \'\';\n        height: 65px;\n        width: 1px;\n        background: #eeeeee;\n        position: absolute;\n        right: 0;\n        top: calc(50% - 32px);\n      }\n      .title {\n        display: flex;\n        align-items: center;\n        svg {\n          margin-left: 5px;\n          width: 18px;\n        }\n      }\n      .figure {\n        display: inline-flex;\n        margin: 16px 0;\n        align-items: baseline;\n        .numbers {\n          font-family: "Lato", sans-serif;\n          font-size: 40px;\n          color: #000000;\n          font-weight: 700;\n          margin-right: 10px;\n        }\n        .baseline-stats {\n            font-family: "Lato", sans-serif;\n            font-size: 28px;\n            color: #999999;\n            font-weight: 700;\n         }\n      }\n      .badge {\n          padding: 3px 10px;\n          font-size: 12px;\n          font-weight: 700;\n          border-radius: 8px;\n          width: 50px;\n          display: flex;\n          align-items: center;\n          svg {\n            margin-right: 5px;\n          }\n          &.plus {\n            background: #e2f5e2;\n            color: #499249;\n          }\n          &.minus {\n            background: #feeaea;\n            color: #ff4d4d;\n          }\n        }\n    }\n  }\n']))),tt=v.a.div(Ve||(Ve=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 20px;\n  width: 100%;\n  /* background: #ffffff; */\n  /* padding: 30px 20px; */\n  box-sizing: border-box;\n  .chart { \n    width: 49%;\n    .section {\n      margin-bottom: 20px;\n      background: #ffffff;\n      padding: 20px;\n    }\n  }\n  .presets {\n    width: 47%;\n    background: #ffffff;\n    padding: 20px;\n  }\n"])));function nt(e){var t,n,r,a,i,l,s,c,f,h,m,p,v,g,y,b,_,x,w,E,k,O,j,N=e.optimizer,L=e.optimizationPresets,z=e.selectedPreset,S=e.selectedResultIndex,R=e.handleSelectPreset,C=e.handleSelectResultIndex,F=e.goNext,T=Object.keys(L).filter((function(e){var t,n;return null===(t=L[e])||void 0===t||null===(n=t.optimizer)||void 0===n?void 0:n.optimizing})).map((function(e){return e}))[0],P=null===(t=L.balanced)||void 0===t||null===(n=t.optimizer)||void 0===n||null===(r=n.results)||void 0===r?void 0:r.length,D=null===(a=L.shortest_duration)||void 0===a||null===(i=a.optimizer)||void 0===i||null===(l=i.results)||void 0===l?void 0:l.length,I=null===(s=L.least_max_resources)||void 0===s||null===(c=s.optimizer)||void 0===c||null===(f=c.results)||void 0===f?void 0:f.length,M=null===(h=L.least_std_resources)||void 0===h||null===(m=h.optimizer)||void 0===m||null===(p=m.results)||void 0===p?void 0:p.length,A=function(e,t){return o.a.createElement("div",{className:"stats"},o.a.createElement("div",{className:"title"},e),o.a.createElement("div",{className:"figure"},o.a.createElement("div",{className:"numbers"},t)))};return o.a.createElement(et,null,o.a.createElement("h2",null,"Baseline Summary"),o.a.createElement("div",{className:"summary"},A("Project Duration (days)",Math.round(null===N||void 0===N||null===(v=N.baseline_result)||void 0===v?void 0:v.drtn_day)),A("Resources",Math.round(null===N||void 0===N||null===(g=N.baseline_result)||void 0===g?void 0:g.rsrc_max)),A("Tasks",Object.values(null===N||void 0===N||null===(y=N.baseline_result)||void 0===y||null===(b=y.inp)||void 0===b?void 0:b.tasks).length),A("Tasks on Critical Path",Math.round(null===N||void 0===N||null===(_=N.baseline_result)||void 0===_?void 0:_.num_crt))),N?o.a.createElement(tt,null,o.a.createElement("div",{className:"chart"},o.a.createElement("div",{className:"section"},o.a.createElement("h3",null,"Comparison Chart"),o.a.createElement("div",{className:"legend"},o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#cccccc",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Baseline")),Object.keys(L).map((function(e){return o.a.createElement("div",{key:e,className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:L[e].color,marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,L[e].label))}))),o.a.createElement(Qe,{results:[].concat(Object(u.a)(Object.keys(L).filter((function(e){var t,n;return(null===(t=L[e])||void 0===t||null===(n=t.optimizer)||void 0===n?void 0:n.results.length)>0})).map((function(e){var t,n,r;return Object(d.a)({},null===(t=L[e])||void 0===t||null===(n=t.optimizer)||void 0===n||null===(r=n.results)||void 0===r?void 0:r.at(-1))}))||[]),[Object(d.a)(Object(d.a)({},N.baseline_result),{},{option:"baseline"})]),optimizer:N,optimizationPresets:L,selectedPreset:z,selectedResultIndex:S,k:"rsrc_max",x_label:"Duration (days)",y_label:"Maximum Resource (units)",title:"Maximum of combined resources VS Project duration",onClick:function(e,t){R(e),C(t)}}))),o.a.createElement("div",{className:"chart"},L?o.a.createElement("div",{className:"section"},T?o.a.createElement("h3",null,"Currently optimizing for ",L[T].label,"......"):o.a.createElement("h3",null,"Optimization result for ",L[z].label),o.a.createElement("div",{className:"legend"},o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:L[T||z].color,marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,L[T||z].label)),o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#cccccc",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Baseline")),Ze((null===(x=L[T||z].optimizer.results.at(-1))||void 0===x||null===(w=x.inp)||void 0===w?void 0:w.tasks)||{})<=400?o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#e61717",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Critical Path")):o.a.createElement(o.a.Fragment,null)),T?o.a.createElement($e,{tasks:(null===(E=L[T].optimizer.results.at(-1))||void 0===E?void 0:E.inp.tasks)||[],width:"550",height:"300",color:L[T].color,baselineTasks:null===(k=N.baseline_result)||void 0===k?void 0:k.inp.tasks,title:"Tasks (Overview)"}):o.a.createElement($e,{tasks:(null===(O=L[z].optimizer.results.at(S))||void 0===O?void 0:O.inp.tasks)||[],width:"550",height:"300",color:L[z].color,baselineTasks:null===(j=N.baseline_result)||void 0===j?void 0:j.inp.tasks,title:"Tasks (Overview)"})):null,o.a.createElement("div",{className:"section"},o.a.createElement("h3",null,"Optimization Presets"),o.a.createElement("p",null,"These available presets are pre-configured settings that are designed to deliver the best performance or quality for each individual specific use case."),o.a.createElement("p",null,"Please select from one of the following options to generate your optimized report: "),o.a.createElement(B.a,{component:"fieldset"},o.a.createElement(Be.a,{value:z,onChange:function(e){R(e.target.value),C(L[e.target.value].optimizer.results.length-1)}},Object.keys(L).map((function(e){var t,n,r;return o.a.createElement("div",{key:e,className:"row"},o.a.createElement(Ue.a,{disabled:0===(null===(t=L[e])||void 0===t||null===(n=t.optimizer)||void 0===n||null===(r=n.results)||void 0===r?void 0:r.length),value:e,control:o.a.createElement(We.a,null),label:L[e].label}),o.a.createElement(U.a,{title:o.a.createElement("div",{style:{fontSize:"13px",fontFamily:"Inter"}},L[e].description)},o.a.createElement(H.a,null)))})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",null),o.a.createElement(X,{variant:"contained",onClick:F,disabled:0===P&&0===D&&0===I&&0===M},"View Optimized Summary"))))):"")}var rt,at,it,ot=n(432),lt=n(425),st=v.a.div(rt||(rt=Object(p.a)(['\n  width: 100%;\n  .summary {\n    width: 100%;\n    display: inline-flex;\n    justify-content: space-between;\n    background: #fbfbfb;\n    margin: 0 0 30px;\n    .stats {\n      padding: 25px;\n      width: 20%;\n      display: flex;\n      flex-direction: column;\n      position: relative;\n      &:last-child {\n        &:after {\n          width: 0px;\n        }\n      }\n      &:after {\n        content: \'\';\n        height: 65px;\n        width: 1px;\n        background: #eeeeee;\n        position: absolute;\n        right: 0;\n        top: calc(50% - 32px);\n      }\n      .title {\n        display: flex;\n        align-items: center;\n        svg {\n          margin-left: 5px;\n          width: 18px;\n        }\n      }\n      .figure {\n        display: inline-flex;\n        margin: 16px 0;\n        align-items: baseline;\n        .numbers {\n          font-family: "Lato", sans-serif;\n          font-size: 40px;\n          color: #000000;\n          font-weight: 700;\n          margin-right: 10px;\n        }\n        .baseline-stats {\n            font-family: "Lato", sans-serif;\n            font-size: 28px;\n            color: #999999;\n            font-weight: 700;\n         }\n      }\n      .badge {\n          font-size: 12px;\n          font-weight: 700;\n          border-radius: 8px;\n          font-family: "Lato";\n          width: 60px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          background: #f2f2f2;\n          svg {\n            margin-right: 5px;\n          }\n          &.plus {\n            background: #e2f5e2;\n            color: #499249;\n          }\n          &.minus {\n            background: #feeaea;\n            color: #ff4d4d;\n          }\n        }\n    }\n  }\n']))),ct=v.a.div(at||(at=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 20px;\n  width: 100%;\n  /* background: #ffffff;\n  padding: 30px 20px; */\n  box-sizing: border-box;\n  &.multi-charts {\n    flex-wrap: wrap;\n    .div {\n    flex: 1 0 45%;\n      /* width: 49%; */\n      &:first-child {\n        flex: 0 1 100%;\n      }\n    }\n  }\n  &.full-charts {\n    display: block !important;\n    margin-bottom: 20px;\n  }\n  .chart {\n    margin-bottom: 20px;\n    background: #ffffff;\n    padding: 20px;\n    width: 46%;\n  }\n  .full-chart {\n    box-sizing: border-box;\n    margin-bottom: 20px;\n    background: #ffffff;\n    padding: 20px;\n    width: 100%;\n  }\n  /* .chart {\n    width: 100%;\n  } */\n"]))),ut=Object(v.a)(lt.a)(it||(it=Object(p.a)(["\n  margin: 15px 0 10px;\n  button {\n    width: 50%;\n  }\n"])));function dt(e){var t=e.base_results,n=e.new_results,r=e.base_resource_distribution,a=e.new_resource_distribution,l=e.filter,s=e.width,c=void 0===s?560:s,u=e.height,d=void 0===u?500:u,h=e.keep,m=void 0===h?1e3:h,p=Object(i.useRef)(),v=n,g=Object(i.useState)("optimized"),y=Object(f.a)(g,2),b=y[0],_=y[1],x=Object(i.useReducer)((function(e){return e+1}),0),w=Object(f.a)(x,2),E=w[0],k=w[1];if(Object(i.useEffect)((function(){if(a){"optimized"===b?v=n:"baseline"===b&&(v=t);var e=Ye.e(Object.keys(a)),i=Ye.e(Object.keys(r)),o="optimized"===b?e:i,s=n.map((function(e){return Object.values(e.dist)})),u=Ye.e(s.flat()),f=t.map((function(e){if(l&&e.type===l)return Object.values(e.dist)})),h=Ye.e(f.flat()),m="optimized"===b?u:h,g=qe({x_domain:o,y_domain:m,width:c,height:d,ref:p,x_type:Ye.g,y_type:Ye.f}),y=g.svg,_=g.x_scale,x=g.y_scale,w=0,E=function(e){y.append("g").selectAll("rect").data(Object.entries(v[e].dist)).join("rect").attr("x",(function(e){return _(e[0])})).attr("width",(function(e){return _(864e5)-_(0)})).attr("y",(function(e){return x(e[1])})).attr("height",(function(e){return x(m[0])-x(e[1])})).attr("fill",(function(t,n){return v[e].show_in_plot&&v[e].type===l?Ke.ResourcePlot.allResources[w%Ke.ResourcePlot.allResources.length]:"none"})),w++};for(var k in v)E(k)}}),[a,b,E]),!a)return null;var O=Ze(a)>m?"(showing ".concat(m,"/").concat(Ze(a)," only due to limited pixels)"):"";return o.a.createElement(o.a.Fragment,null,o.a.createElement(ut,{className:"row",value:b,exclusive:!0},o.a.createElement(ot.a,{value:"optimized",onClick:function(){return _("optimized")}},"Optimized"),o.a.createElement(ot.a,{value:"baseline",onClick:function(){return _("baseline")}},"Baseline")),v?o.a.createElement("div",{className:"legend"},Object.values(v).map((function(e,r){if(e.type===l)return o.a.createElement("div",{key:e+" "+r,className:"item resources",style:{opacity:(null===e||void 0===e?void 0:e.show_in_plot)?"100%":"50%",cursor:"pointer"},onClick:function(r,a){!function(e){t.filter((function(t){return t.id===e})).map((function(e){return e.show_in_plot=!e.show_in_plot})),n.filter((function(t){return t.id===e})).map((function(e){return e.show_in_plot=!e.show_in_plot})),k()}(e.id)}},o.a.createElement("div",{style:{width:"14px",height:"14px",background:Ke.ResourcePlot.allResources[r%Ke.ResourcePlot.allResources.length],marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,(a=e.name,i=20,a?a.length<=i?a:a.substring(0,i)+"...":"")));var a,i}))):"",o.a.createElement(o.a.Fragment,null,O),o.a.createElement("svg",{ref:p}))}var ft=function(e,t){var n=(e-t)/t*100,r=Math.sign(n);return 1===r?o.a.createElement("span",{className:"badge minus"},Math.round(n),"%"):-1===r?o.a.createElement("span",{className:"badge plus"},Math.abs(Math.round(n)),"%"):o.a.createElement("span",{className:"badge"},Math.round(n),"%")};function ht(e){e.optimizationPresets;var t,n,r,a,i,l,s,c,u,d,f,h,m,p,v,g,y,b,_,x,w,E,k,O,j,N,L,z,S,R,C,F,T,P,D,I,M,A,G,B,W,Y,q,J,V,K,Z,Q,ee,te,ne,re,ae=e.optimizer,ie=e.selectedPreset,oe=e.selectedResultIndex,le=e.goPrev,se=e.goNext,ce=null===ae||void 0===ae||null===(t=ae.baseline_result)||void 0===t||null===(n=t.inp)||void 0===n?void 0:n.rsrcs,ue=null===ae||void 0===ae||null===(r=ae.results)||void 0===r||null===(a=r.at(oe))||void 0===a||null===(i=a.inp)||void 0===i?void 0:i.rsrcs,de={labor:{base:[],new:[]},material:{base:[],new:[]}};return ue&&Object.keys(ue).forEach((function(e){"labor"===ue[e].type.toLowerCase()&&de.labor.new.push(ue[e]),"material"===ue[e].type.toLowerCase()&&de.material.new.push(ue[e])})),Object.keys(ce).forEach((function(e){"labor"===ce[e].type.toLowerCase()&&de.labor.base.push(ce[e]),"material"===ce[e].type.toLowerCase()&&de.material.base.push(ce[e])})),o.a.createElement(st,null,o.a.createElement("h2",null,o.a.createElement("span",{style:{textTransform:"capitalize"}},ie)," Optimized Summary "),o.a.createElement("div",{className:"summary"},o.a.createElement("div",{className:"stats"},o.a.createElement("div",{className:"title"},"Project Duration (days)"),o.a.createElement("div",{className:"figure"},o.a.createElement("div",{className:"numbers"},Math.round(null===ae||void 0===ae||null===(l=ae.results)||void 0===l||null===(s=l.at(oe))||void 0===s?void 0:s.drtn_day)," "),o.a.createElement("div",{className:"baseline-stats"},Math.round(null===ae||void 0===ae||null===(c=ae.baseline_result)||void 0===c?void 0:c.drtn_day))),ft(null===ae||void 0===ae||null===(u=ae.results)||void 0===u||null===(d=u.at(oe))||void 0===d?void 0:d.drtn_day,null===ae||void 0===ae||null===(f=ae.baseline_result)||void 0===f?void 0:f.drtn_day)),o.a.createElement("div",{className:"stats"},o.a.createElement("div",{className:"title"},"Resources"),o.a.createElement("div",{className:"figure"},o.a.createElement("div",{className:"numbers"},Math.round(null===ae||void 0===ae||null===(h=ae.results)||void 0===h||null===(m=h.at(oe))||void 0===m?void 0:m.rsrc_max)," "),o.a.createElement("div",{className:"baseline-stats"},Math.round(null===ae||void 0===ae||null===(p=ae.baseline_result)||void 0===p?void 0:p.rsrc_max)," ")),ft(null===ae||void 0===ae||null===(v=ae.results)||void 0===v||null===(g=v.at(oe))||void 0===g?void 0:g.rsrc_max,null===ae||void 0===ae||null===(y=ae.baseline_result)||void 0===y?void 0:y.rsrc_max)),o.a.createElement("div",{className:"stats"},o.a.createElement("div",{className:"title"},"Tasks ",o.a.createElement(U.a,{title:"Tasks that were changed"},o.a.createElement(H.a,null))),o.a.createElement("div",{className:"figure"},o.a.createElement("div",{className:"numbers"},Math.round(null===ae||void 0===ae||null===(b=ae.results)||void 0===b||null===(_=b.at(oe))||void 0===_?void 0:_.num_changed)," "),o.a.createElement("div",{className:"baseline-stats"},Math.round(Object.values(null===ae||void 0===ae||null===(x=ae.baseline_result)||void 0===x||null===(w=x.inp)||void 0===w?void 0:w.tasks).length)," ")),ft(Math.round(Object.values(null===ae||void 0===ae||null===(E=ae.baseline_result)||void 0===E||null===(k=E.inp)||void 0===k?void 0:k.tasks).length)-(null===ae||void 0===ae||null===(O=ae.results)||void 0===O||null===(j=O.at(oe))||void 0===j?void 0:j.num_changed),Object.values(null===ae||void 0===ae||null===(N=ae.baseline_result)||void 0===N||null===(L=N.inp)||void 0===L?void 0:L.tasks).length)),o.a.createElement("div",{className:"stats"},o.a.createElement("div",{className:"title"},"Tasks on Critical Path"),o.a.createElement("div",{className:"figure"},o.a.createElement("div",{className:"numbers"},Math.round(null===ae||void 0===ae||null===(z=ae.results[(null===ae||void 0===ae||null===(S=ae.results)||void 0===S?void 0:S.length)-1])||void 0===z?void 0:z.num_crt)," "),o.a.createElement("div",{className:"baseline-stats"},Math.round(null===ae||void 0===ae||null===(R=ae.baseline_result)||void 0===R?void 0:R.num_crt),"  ")),ft(null===ae||void 0===ae||null===(C=ae.results.at(oe))||void 0===C?void 0:C.num_crt,null===ae||void 0===ae||null===(F=ae.baseline_result)||void 0===F?void 0:F.num_crt))),(null===ae||void 0===ae||null===(T=ae.results)||void 0===T?void 0:T.length)>0?o.a.createElement(ct,{className:"multi-charts"},o.a.createElement("div",{className:"full-chart"},o.a.createElement("h3",null,"Tasks (Overview)"),o.a.createElement("span",{className:"subtitle"},"Overview of all tasks over time"),o.a.createElement("div",{className:"legend"},o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#82B5C7",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Optimized")),o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#cccccc",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Baseline")),Ze((null===(P=ae.results.at(-1))||void 0===P||null===(D=P.inp)||void 0===D?void 0:D.tasks)||{})<=400?o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#e61717",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Critical Path")):o.a.createElement(o.a.Fragment,null)),(null===(I=ae.results[ae.results.length-1])||void 0===I||null===(M=I.inp)||void 0===M?void 0:M.tasks)?o.a.createElement($e,{width:"1150",height:"400",tasks:null===(A=ae.results)||void 0===A||null===(G=A.at(oe))||void 0===G?void 0:G.inp.tasks,baselineTasks:null===(B=ae.baseline_result)||void 0===B?void 0:B.inp.tasks,title:"Tasks (Overview)"}):"No data"),o.a.createElement("div",{className:"full-chart"},o.a.createElement("div",{className:"row"},o.a.createElement("div",null,o.a.createElement("h3",null,"Labor Resources"),o.a.createElement("span",{className:"subtitle"},"Total utilization of multiple resources over time"))),(null===(W=ae.results)||void 0===W||null===(Y=W.at(oe))||void 0===Y?void 0:Y.rsrc_dist)?o.a.createElement(dt,{width:"1150",base_results:de.labor.base,new_results:de.labor.new,base_resource_distribution:null===ae||void 0===ae||null===(q=ae.baseline_result)||void 0===q?void 0:q.rsrc_dist,new_resource_distribution:null===ae||void 0===ae||null===(J=ae.results)||void 0===J||null===(V=J.at(-1))||void 0===V?void 0:V.rsrc_dist,filter:"Labor",title:"Combined Resources"}):"No data",0===(null===de||void 0===de||null===(K=de.material)||void 0===K||null===(Z=K.base)||void 0===Z?void 0:Z.length)?"":o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",null,o.a.createElement("h3",null,"Material Resources"),o.a.createElement("span",{className:"subtitle"},"Total utilization of multiple resources over time"))),(null===(Q=ae.results)||void 0===Q||null===(ee=Q.at(oe))||void 0===ee?void 0:ee.rsrc_dist)?o.a.createElement(dt,{width:"1150",base_results:de.material.base,new_results:de.material.new,base_resource_distribution:null===ae||void 0===ae||null===(te=ae.baseline_result)||void 0===te?void 0:te.rsrc_dist,new_resource_distribution:null===ae||void 0===ae||null===(ne=ae.results)||void 0===ne||null===(re=ne.at(-1))||void 0===re?void 0:re.rsrc_dist,filter:"Material",title:"Combined Resources"}):"No data"))):"",o.a.createElement("div",{className:"row"},o.a.createElement($,{variant:"contained",onClick:le},"Back"),o.a.createElement(X,{variant:"contained",onClick:se},"View Detailed Report")))}var mt,pt,vt,gt,yt,bt=n(433),_t=n(434),xt=v.a.div(mt||(mt=Object(p.a)(["\n  background: white;\n  margin-bottom: 40px;\n  padding: 20px;\n  .circle {\n    width: 14px;\n    height: 14px;\n    border-radius: 50%;\n    background-color: #dddddd;\n    margin: 0 auto;\n    &.critical {\n      background-color: red;\n    }\n  }\n  .MuiDataGrid-columnHeaders {\n    background: #f2f2f2;\n  }\n"]))),wt=(Object(v.a)(bt.a)(pt||(pt=Object(p.a)(["\n  border: 1px solid #eeeeee;\n  border-radius: 6px;\n  thead {\n    tr {\n      background: #f2f2f2;\n      > th {\n        font-weight: bold;\n        color: #222222;\n      }\n    }\n  }\n  .MuiTableSortLabel-icon {\n    opacity: 1;\n  }\n  \n"]))),Object(v.a)(_t.a)(vt||(vt=Object(p.a)([""]))),n(408)),Et=v.a.div(gt||(gt=Object(p.a)(['\n  .MuiDataGrid-main {\n    font-family: "Inter"\n  }\n'])));function kt(e){var t=e.rows,n=e.columns,r=t.length>10?500:300;return o.a.createElement(Et,null,o.a.createElement("div",{style:{height:r,width:"100%"}},o.a.createElement(wt.a,{rows:t,columns:n})))}function Ot(e){var t=e.dist,n=e.color,r=e.width,a=void 0===r?560:r,l=e.height,s=void 0===l?500:l,c=e.keep,u=void 0===c?1e3:c,d=Object(i.useRef)();if(Object(i.useEffect)((function(){if(t){var e=Xe(Object.entries(t),u),r=Ye.e(Object.keys(t)),i=Ye.e(Object.values(t)),o=qe({x_domain:r,y_domain:i,width:a,height:s,ref:d,x_label:"time",y_label:"units",x_type:Ye.g,y_type:Ye.f}),l=o.svg,c=o.x_scale,f=o.y_scale;l.append("g").selectAll("rect").data(e).join("rect").attr("x",(function(e){return c(e[0])})).attr("width",c(864e5)-c(0)).attr("y",(function(e){return f(e[1])})).attr("height",(function(e){return f(i[0])-f(e[1])})).attr("fill",n)}}),[t]),!t)return null;var f=Ze(t)>u?"(showing ".concat(u,"/").concat(Ze(t)," only due to limited pixels)"):"";return o.a.createElement(o.a.Fragment,null,o.a.createElement(o.a.Fragment,null,f),o.a.createElement("svg",{ref:d}))}function jt(e){var t=e.results,n=e.name,r=e.x_label,a=e.y_label,l=e.width,s=void 0===l?550:l,c=e.height,u=void 0===c?400:c,d=e.keep,f=void 0===d?1e3:d,h=e.onClick,m=e.selectedResultIndex,p=Object(i.useRef)();if(Object(i.useEffect)((function(){if(!(null===t||void 0===t?void 0:t.length))return null;var e=t;e.forEach((function(e,t){return e.idx=t}));var i=He(Ye.e(e.map((function(e){return e.drtn_day}))),Ye.e(e.map((function(e){return e[n]}))),.15,.15),o=qe({x_domain:i.x_domain,y_domain:i.y_domain,width:s,height:u,ref:p,x_label:r,y_label:a,x_type:Ye.f,y_type:Ye.f}),l=o.svg,c=o.x_scale,d=o.y_scale;l.append("g").selectAll("circle").data(e).join("circle").attr("cx",(function(e){return c(e.drtn_day)})).attr("cy",(function(e){return d(e[n])})).attr("r",(function(e,t){return t===m?6:3})).style("cursor",(function(e){return"baseline"===e.option?"auto":"pointer"})).attr("fill",(function(e,t){return e.loss_task+e.loss_rsrc+e.loss_task_rsrc>0?t===m?"#db4444":"#cccccc":t===m?"#db4444":"#00beae"})).on("click",(function(e,t){return h(t.idx)}))}),[t,m]),!t||!Ze(t))return null;var v=Ze(t)>f?"(showing ".concat(f,"/").concat(Ze(t)," only due to limited pixels)"):"";return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"legend"},o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#e61717",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Step Selected")),o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#00beae",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Constraints Satisfied")),o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#cccccc",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Constraints Violated"))),o.a.createElement(o.a.Fragment,null,v),o.a.createElement("svg",{ref:p}))}function Nt(e){var t=e.results,n=e.name,r=(e.x_axis,e.x_label),a=e.y_label,l=e.width,s=void 0===l?550:l,c=e.height,u=void 0===c?400:c,d=e.keep,f=void 0===d?1e3:d,h=e.onClick,m=e.selectedResultIndex,p=Object(i.useRef)();if(Object(i.useEffect)((function(){if(!(null===t||void 0===t?void 0:t.length))return null;var e=t;e.forEach((function(e,t){return e.idx=t}));var i=He(Ye.e([0,e.length]),Ye.e(e.map((function(e){return e[n]}))),0,0),o=qe({margin:50,x_domain:i.x_domain,y_domain:i.y_domain,width:s,height:u,ref:p,x_label:r||"Optimization steps",y_label:a,x_type:Ye.f,y_type:Ye.f}),l=o.svg,c=o.x_scale,d=o.y_scale;l.append("g").selectAll("circle").data(e).join("circle").attr("cx",(function(e,t){return c(e.idx)})).attr("cy",(function(e){return d(e[n])})).attr("r",(function(e,t){return t===m?6:3})).style("cursor",(function(e){return"baseline"===e.option?"auto":"pointer"})).attr("fill",(function(e,t){return e.loss_task+e.loss_rsrc+e.loss_task_rsrc>0?t===m?"#db4444":"#cccccc":t===m?"#db4444":"#00beae"})).on("click",(function(e,t){h(t.idx)}))}),[t,m]),!t||!Ze(t))return null;var v=Ze(t)>f?"(showing ".concat(f,"/").concat(Ze(t)," only due to limited pixels)"):"";return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"legend"},o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#e61717",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Step Selected")),o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#00beae",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Constraints Satisfied")),o.a.createElement("div",{className:"item"},o.a.createElement("div",{style:{width:"14px",height:"14px",background:"#cccccc",marginRight:"5px",borderRadius:"50%"}}),o.a.createElement("div",null,"Constraints Violated"))),o.a.createElement(o.a.Fragment,null,v),o.a.createElement("svg",{ref:p}))}function Lt(e){var t,n=e.results,r=(e.loss,e.selectedResultIndex),a=e.handleChooseResult;return o.a.createElement(o.a.Fragment,null,o.a.createElement(st,null,o.a.createElement(ct,{className:"multi-charts"},o.a.createElement("div",{className:"row"},o.a.createElement("h2",null,"Optimization Iteration Charts")),o.a.createElement("div",{className:"chart"},o.a.createElement("h4",null,"Project Duration"),o.a.createElement(Nt,{results:n,name:"drtn_day",x_axis:!0,x_label:"Optimization steps",y_label:"Duration (days)",onClick:a,selectedResultIndex:r})),o.a.createElement("div",{className:"chart"},o.a.createElement("h4",null,"Maximum Labour Resources"),o.a.createElement(Nt,{results:n,name:"rsrc_max",x_axis:!0,x_label:"Optimization steps",y_label:"Maximum Resources",onClick:a,selectedResultIndex:r})),o.a.createElement("div",{className:"chart"},o.a.createElement("h4",null,"Standard Deviation Labour Resources"),o.a.createElement(Nt,{results:n,name:"rsrc_std",x_axis:!0,x_label:"Optimization steps",y_label:"Standard Deviation",onClick:a,selectedResultIndex:r})),o.a.createElement("div",{className:"chart"},o.a.createElement("h4",null,"Number of Changed Tasks"),o.a.createElement(Nt,{results:n,name:"num_changed",x_axis:!0,x_label:"Optimization steps",y_label:"Number of changed task",onClick:a,selectedResultIndex:r})),o.a.createElement("div",{className:"chart"},o.a.createElement("h4",null,"Critical Path Tasks"),o.a.createElement(Nt,{results:n,name:"num_crt",x_axis:!0,x_label:"Optimization steps",y_label:"Number of tasks",onClick:a,selectedResultIndex:r})),o.a.createElement("div",{className:"chart"},o.a.createElement("h4",null,"Loss Function (Dimensionless)"),o.a.createElement(Nt,{results:n,name:"loss_sum",x_axis:!0,x_label:"Optimization steps",y_label:"Loss function",onClick:a,selectedResultIndex:r}))),o.a.createElement(ct,{className:"multi-charts"},o.a.createElement("div",{className:"row"},o.a.createElement("h2",null,"Resources Plots")),Object.values((null===(t=n[r])||void 0===t?void 0:t.inp.rsrcs)||{}).map((function(e,t){return o.a.createElement("div",{key:e.id,className:"chart"},o.a.createElement("h4",null,"(".concat(e.type,") ").concat(e.name)),o.a.createElement(Ot,{dist:e.dist,title:"(".concat(e.type,") ").concat(e.name),color:Ke.ResourcePlot.allResources[t%Ke.ResourcePlot.allResources.length]}))}))),o.a.createElement(ct,{className:"multi-charts"},o.a.createElement("div",{className:"row"},o.a.createElement("h2",null,"Loss Function Charts")),o.a.createElement("div",{className:"chart"},o.a.createElement("h4",null,"Loss Function: Tasks Resources"),o.a.createElement(jt,{results:n,name:"loss_task_rsrc",x_label:"Duration (days)",y_label:"Loss function: task resources",onClick:a,selectedResultIndex:r})),o.a.createElement("div",{className:"chart"},o.a.createElement("h4",null,"Loss Function: Sum"),o.a.createElement(jt,{results:n,name:"loss_sum",x_label:"Duration (days)",y_label:"Loss function: sum",onClick:a,selectedResultIndex:r})),o.a.createElement("div",{className:"chart"},o.a.createElement("h4",null,"Loss Function: Resources"),o.a.createElement(jt,{results:n,name:"loss_rsrc",x_label:"Duration (days)",y_label:"Loss function: resources",onClick:a,selectedResultIndex:r})),o.a.createElement("div",{className:"chart"},o.a.createElement("h4",null,"Loss Function: Tasks"),o.a.createElement(jt,{results:n,name:"loss_task",x_label:"Duration (days)",y_label:"Loss function: task",onClick:a,selectedResultIndex:r})))))}function zt(e){var t,n,r,a=e.optimizer,l=e.selectedPreset,s=e.selectedResultIndex,c=e.handleSelectResultIndex,u=e.goPrev,d=Object(i.useState)(!1),h=Object(f.a)(d,2),m=h[0],p=h[1],v=null===a||void 0===a?void 0:a.results[s];Object(i.useEffect)((function(){}),[v]);var g=null===v||void 0===v||null===(t=v.inp)||void 0===t?void 0:t.tasks,y=null===v||void 0===v||null===(n=v.inp)||void 0===n?void 0:n.rsrcs,b=null===v||void 0===v||null===(r=v.inp)||void 0===r?void 0:r.task_rsrcs,_=Object.keys(g).filter((function(e){return g[e].changed})),x=_.map((function(e){var t=g[e],n=t.critical,r=t.id,a=t.task_code,i=t.name,o=t.drtn_hr,l=t.drtn_hr_2,s=(l/o).toFixed(2);return{id:a||r,critical:n,name:i,task_code:a||r,old_duration:"".concat(o," hours"),new_duration:"".concat(l," hours"),ratio:s}})),w=[{field:"critical",headerName:"Critical",width:80,renderCell:function(e){return e.value?o.a.createElement("div",{className:"circle critical"}):o.a.createElement("div",{className:"circle"})}},{field:"id",headerName:"ID",width:280},{field:"name",headerName:"Name",width:430,renderCell:function(e){return o.a.createElement("div",{style:{maxHeight:"inherit",width:"100%",whiteSpace:"initial"}},e.value)}},{field:"old_duration",headerName:"Duration (Baseline)",width:150},{field:"new_duration",headerName:"Duration (New)",width:150},{field:"ratio",headerName:"Ratio",width:50}],E=Object.keys(y).map((function(e){var t=y[e],n=t.id,r=t.name,a=t.type,i=t.rng,o=t.dist,l=t.max,s=t.std;return{name:r,id:n,type:a,rng:JSON.stringify(i),dist:Math.round(Object.values(o).reduce((function(e,t){return e+t}),0)),max:Math.round(l),std:Math.round(s)}})),k=[{field:"id",headerName:"ID",width:120},{field:"type",headerName:"type",width:150},{field:"name",headerName:"Name",width:350,renderCell:function(e){return o.a.createElement("div",{style:{maxHeight:"inherit",width:"100%",whiteSpace:"initial"}},e.value)}},{field:"rng",headerName:"Range [min, max]",width:130},{field:"dist",headerName:"Resource Dist.",width:130},{field:"max",headerName:"Max N.",width:130},{field:"std",headerName:"Standard Deviation",width:130}],O=[];Object.keys(b).map((function(e){var t,n,r=null===a||void 0===a||null===(t=a.results[s])||void 0===t||null===(n=t.inp)||void 0===n?void 0:n.task_rsrcs[e];_.map((function(e){var t,n,i=null===a||void 0===a||null===(t=a.results[s])||void 0===t||null===(n=t.inp)||void 0===n?void 0:n.tasks[e];r&&r.t_id===e&&O.push({drtn_hr:i.drtn_hr,drtn_hr_2:i.drtn_hr_2,r_id:r.r_id,t_id:r.t_id,units:r.units,units_2:r.units_2,units_rng:r.units_rng,work_hr:r.work_hr})}))}));var j=O&&O.map((function(e){e.id;var t,n,r,i,o=e.task_code,l=e.r_id,c=e.t_id,u=e.units,d=e.units_2,f=e.units_rng,h=e.drtn_hr,m=e.drtn_hr_2,p=e.work_hr;return{critical:function(e){return Object.values(null===v||void 0===v?void 0:v.crt_path).filter((function(t){return t===e})).length>0}(c),id:o||c,r_name:null===a||void 0===a||null===(t=a.results[s])||void 0===t||null===(n=t.inp)||void 0===n||null===(r=n.rsrcs[l])||void 0===r?void 0:r.name,t_name:null===(i=g[c])||void 0===i?void 0:i.name,old_units:u.toFixed(2),new_units:d.toFixed(2),rng:JSON.stringify(f),old_duration:"".concat(h," hours"),new_duration:"".concat(m," hours"),work_hr:"".concat(p," hours")}})),N=[{field:"critical",headerName:"Critical",width:80,renderCell:function(e){return e.value?o.a.createElement("div",{className:"circle critical"}):o.a.createElement("div",{className:"circle"})}},{field:"id",headerName:"ID",width:120},{field:"r_name",headerName:"Resource Name",width:200,renderCell:function(e){return o.a.createElement("div",{style:{maxHeight:"inherit",width:"100%",whiteSpace:"initial"}},e.value)}},{field:"t_name",headerName:"Task Name",width:350,renderCell:function(e){return o.a.createElement("div",{style:{maxHeight:"inherit",width:"100%",whiteSpace:"initial"}},e.value)}},{field:"rng",headerName:"Range [min, max]",width:130},{field:"old_units",headerName:"Units (Old)",width:130},{field:"new_units",headerName:"Units (New)",width:130},{field:"old_duration",headerName:"Duration (Old)",width:130},{field:"new_duration",headerName:"Duration (New)",width:130},{field:"work_hr",headerName:"Total Work Hours",width:130}];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row"},o.a.createElement("h2",null,o.a.createElement("span",{style:{textTransform:"capitalize"}},l)," Detailed Report"),o.a.createElement(X,{onClick:function(){return p(!0)},variant:"contained"},"Export Report")),o.a.createElement(Fe,null,o.a.createElement(xt,null,o.a.createElement("div",{className:"row"},o.a.createElement("h3",null,"Changed Tasks (Overview)")),o.a.createElement("div",{className:"legend",style:{width:"400px",justifyContent:"flex-start",marginBottom:"20px"}},o.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",marginRight:"10px"}},o.a.createElement("div",{className:"circle critical"})," Critical"),o.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},o.a.createElement("div",{className:"circle"})," Non-Critical")),(null===a||void 0===a?void 0:a.results[s])?o.a.createElement(kt,{rows:x,columns:w}):"Please select a Optimization Preset before generating your report"),o.a.createElement("h2",null,"Resources Tables"),o.a.createElement(xt,null,o.a.createElement("h4",null,"Changed Resources"),(null===a||void 0===a?void 0:a.results[s])?o.a.createElement(kt,{rows:E,columns:k}):"Please select a Optimization Preset before generating your report"),o.a.createElement(xt,null,o.a.createElement("h4",null,"Changed Task-Resources"),(null===a||void 0===a?void 0:a.results[s])?o.a.createElement(kt,{rows:j,columns:N}):"Please select a Optimization Preset before generating your report"),(null===a||void 0===a?void 0:a.loss_weights)?o.a.createElement(Lt,{results:null===a||void 0===a?void 0:a.results,loss:null===a||void 0===a?void 0:a.loss_weights,selectedResultIndex:s,handleChooseResult:function(e){c(e)}}):"No data",o.a.createElement("div",{className:"row"},o.a.createElement($,{variant:"contained",onClick:u},"Back"),o.a.createElement(X,{onClick:function(){return p(!0)},variant:"contained"},"Export Report"))),o.a.createElement(Te,{open:m,onClose:function(){return p(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},o.a.createElement(Y.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,p:3}},o.a.createElement("div",{className:"title",id:"modal-modal-title"},"Export Optimized File"),o.a.createElement("div",{className:"row"},o.a.createElement(X,{onClick:function(){a.reader.merge_data(a.results[s].inp),a.reader.export()},variant:"contained"},"Original Format")," \xa0",o.a.createElement(X,{onClick:function(){a.reader.export_excel(a.results[s].inp)},variant:"contained"},"Excel")))))}var St=v.a.div(yt||(yt=Object(p.a)(["\n  width: 100%;\n  box-sizing: border-box;\n  .content {\n    margin: 20px auto;\n    width: 1200px;\n    max-width: 100%;\n    /* background: #ffffff; */\n    /* padding: 1px 20px 20px; */\n    border-radius: 6px;\n    box-sizing: border-box;\n    .legend {\n      display: flex;\n      justify-content: flex-start;\n      align-items: flex-start;\n      font-size: 11px;\n      width: 100%;\n      margin-top: 20px;\n      flex-wrap: wrap;\n      .item {\n        display: flex; \n        justify-content: flex-start;\n        align-items: center;\n        margin-right: 23px;\n        &.resources {\n          width: 14%;\n        }\n      }\n      .circle {\n        margin-right: 5px;\n      }\n    }\n  }\n"]))),Rt=["Input Data","Baseline Summary","Optimized Summary","Optimized Report"];function Ct(){var e,t,n=Object(i.useState)(0),r=Object(f.a)(n,2),a=r[0],l=r[1],s=Object(i.useState)(null),c=Object(f.a)(s,2),h=c[0],m=c[1],p=Object(i.useState)({balanced:{label:"Balanced",color:"#82B5C7",description:"Best combination of the fastest, minimum and levelled resources"},shortest_duration:{label:"Fastest",color:"#f7dc5b",description:"Fastest way to execute the project"},least_max_resources:{label:"Minimum Resources",color:"#db7930",description:"Least amount of required resources to execute the project the fastest"},least_std_resources:{label:"Levelled Resources",color:"#AABB5D",description:"Best resource distribution to execute the project the fastest"}}),v=Object(f.a)(p,2),g=v[0],y=(v[1],Object(i.useState)("balanced")),_=Object(f.a)(y,2),x=_[0],w=_[1],E=Object(i.useState)(-1),k=Object(f.a)(E,2),O=k[0],j=k[1],N=Object(i.useState)("No file chosen"),L=Object(f.a)(N,2),z=L[0],S=L[1],R=Object(i.useState)("No file chosen"),C=Object(f.a)(R,2),F=C[0],T=C[1],P=Object(i.useReducer)((function(e){return e+1}),0),I=Object(f.a)(P,2),M=(I[0],I[1]);var A=null;return 0===a?A=o.a.createElement(Ge,{project:h,fileName:z,setFileName:S,constraintsFileName:F,setConstraintsFileName:T,updateProject:function(e){m(e)},goNext:function(){!function(e){if(e){for(var t in g){var n;(null===(n=g[t])||void 0===n?void 0:n.optimizer)&&g[t].optimizer.stop()}for(var r in g){for(var a in g[r].optimizer=new re(null===e||void 0===e?void 0:e.fileReader),g[r].optimizer.sim_in=Object(d.a)({},e.optimizer.sim_in),g[r].optimizer.loss_weights)g[r].optimizer.loss_weights[a]=0;"shortest_duration"===r?g[r].optimizer.loss_weights.drtn_day=100:"least_max_resources"===r?g[r].optimizer.loss_weights.rsrc_max=100:"least_std_resources"===r?g[r].optimizer.loss_weights.rsrc_std=100:"balanced"===r&&(g[r].optimizer.loss_weights.drtn_day=50,g[r].optimizer.loss_weights.rsrc_max=50)}g.balanced.optimizer.optimize((function(t){1===t.length&&(e.optimizer.baseline_result=Object(d.a)({},t[0])),g.balanced.optimizer.optimizing=!0,g.balanced.optimizer.results=t,""===x&&w("balanced"),M()}),(function(e){g.balanced.optimizer.optimizing=!1,g.shortest_duration.optimizer.optimize((function(e){g.shortest_duration.optimizer.optimizing=!0,g.shortest_duration.optimizer.results=e,M()}),(function(e){g.shortest_duration.optimizer.optimizing=!1,g.least_max_resources.optimizer.optimize((function(e){g.least_max_resources.optimizer.optimizing=!0,g.least_max_resources.optimizer.results=e,M()}),(function(e){g.least_max_resources.optimizer.optimizing=!1,g.least_std_resources.optimizer.optimize((function(e){g.least_std_resources.optimizer.optimizing=!0,g.least_std_resources.optimizer.results=e,M()}),(function(e){g.least_std_resources.optimizer.optimizing=!1,M()}))}))}))}))}}(h),l(a+1)}}):1===a?A=o.a.createElement(nt,{optimizer:null===h||void 0===h?void 0:h.optimizer,optimizationPresets:g,selectedPreset:x,selectedResultIndex:O,handleSelectPreset:function(e){w(e),g[e].optimizer.results.length-1<O&&j(g[e].optimizer.results.length-1)},handleSelectResultIndex:function(e){j(e)},goPrev:function(){l(a-1)},goNext:function(){l(a+1),-1===O&&j(g[x].optimizer.results.length-1),h.optimizer.loss_weights=Object(d.a)({},g[x].optimizer.loss_weights),h.optimizer.results=Object(u.a)(g[x].optimizer.results)}}):2===a?A=o.a.createElement(ht,{optimizer:null===h||void 0===h?void 0:h.optimizer,optimizationPresets:g,selectedPreset:g[x].label,selectedResultIndex:O,goPrev:function(){l(a-1)},goNext:function(){l(a+1)}}):3===a&&(A=o.a.createElement(zt,{optimizer:null===h||void 0===h?void 0:h.optimizer,selectedPreset:g[x].label,selectedResultIndex:O,handleSelectResultIndex:function(e){j(e)},goPrev:function(){l(a-1)},goNext:function(){l(a+1)}})),o.a.createElement(o.a.Fragment,null,o.a.createElement(D,null),o.a.createElement(b,{navAt:a,steps:Rt,navigate:function(e){1===a&&(-1===O&&j(g[x].optimizer.results.length-1),h.optimizer.loss_weights=Object(d.a)({},g[x].optimizer.loss_weights),h.optimizer.results=Object(u.a)(g[x].optimizer.results)),l(e)},disabled:null===h||void 0===(null===h||void 0===h?void 0:h.optimizer)||void 0===(null===(e=g.balanced)||void 0===e||null===(t=e.optimizer)||void 0===t?void 0:t.optimizing)}),o.a.createElement(St,null,o.a.createElement("div",{className:"content"},A)))}var Ft,Tt=n(417);function Pt(){Pt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(L){s=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),l=new O(a||[]);return r(o,"_invoke",{value:x(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=c;var d={};function f(){}function h(){}function m(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(j([])));g&&g!==t&&n.call(g,i)&&(p=g);var y=m.prototype=f.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var s=u(e[a],e,i);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,l)}))}l(s.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function x(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=w(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:h,configurable:!0}),h.displayName=s(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(_.prototype),s(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new _(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(y),s(y,l,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Dt(e,t,n){return It.apply(this,arguments)}function It(){return(It=Object(G.a)(Pt().mark((function e(t,n,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.frontline-optimizer.com","/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mt(e,t,n){return At.apply(this,arguments)}function At(){return(At=Object(G.a)(Pt().mark((function e(t,n,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.frontline-optimizer.com","/auth/request-reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gt(e,t,n){return Bt.apply(this,arguments)}function Bt(){return(Bt=Object(G.a)(Pt().mark((function e(t,n,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.frontline-optimizer.com","/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ut(e){var t=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(String(e).toLowerCase());return t?{result:t,message:""}:{result:t,message:"Please enter a valid email address."}}n(324).config();var Wt,Yt=v.a.div(Ft||(Ft=Object(p.a)(["\n  width: 100vw;\n  height: 100vh;\n  background: linear-gradient(\n    180deg,\n    rgba(255, 204, 103, 0.195) 0%,\n    rgba(0, 145, 132, 0.3) 100%\n  );\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .MuiBox-root {\n    width: 450px;\n    h3 {\n      margin-top: 0;\n    }\n    &.form {\n      background: #ffffff;\n      padding: 30px;\n      border-radius: 16px;\n      box-sizing: border-box;\n      /* display: flex;\n      flex-direction: column; */\n      .MuiTextField-root {\n        width: 100%;\n        margin-bottom: 12px;\n      }\n    }\n    img.logo {\n      width: 300px;\n    }\n  }\n  .divider {\n    position: relative;\n    &:after { \n      content: '';\n      position: absolute;\n      height: 1px;\n      width: 100%;\n      background: #eeeeee;\n      left: 0;\n      bottom: 0;\n    }\n  }\n  .error {\n    color: rgb(0, 190, 174) !important;\n    font-weight: 700;\n  }\n"])));function qt(){qt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(L){s=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),l=new O(a||[]);return r(o,"_invoke",{value:x(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=c;var d={};function f(){}function h(){}function m(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(j([])));g&&g!==t&&n.call(g,i)&&(p=g);var y=m.prototype=f.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var s=u(e[a],e,i);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,l)}))}l(s.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function x(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=w(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:h,configurable:!0}),h.displayName=s(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(_.prototype),s(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new _(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(y),s(y,l,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Ht(){var e=Object(i.useRef)(),t=Object(i.useState)(""),n=Object(f.a)(t,2),r=n[0],a=n[1],l=Object(i.useState)(""),u=Object(f.a)(l,2),d=u[0],h=u[1],m=Object(i.useRef)(),p=Object(i.useState)(""),v=Object(f.a)(p,2),g=v[0],y=(v[1],Object(c.c)()),b=Object(s.n)();function _(){return(_=Object(G.a)(qt().mark((function t(){var n;return qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Ut(e.current.value),a(n.message),n.result){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,Dt({email:e.current.value,password:m.current.value}).then((function(e){return e.json()})).then((function(t){return t.resetPasswordRequired?(h("This is your first time logging in, you will be redirected to set up a password."),void b("/#/reset-password?email="+e.current.value)):t.accessToken?(y({token:t.accessToken,expiresIn:1440,tokenType:"Bearer",authState:{email:e.current.value}}),void b("/")):void h(t.message)})).catch((function(e){console.error("Error:",e)}));case 6:t.sent;case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return o.a.createElement(Yt,null,o.a.createElement(Y.a,{sx:{display:"flex",flexDirection:"column",marginRight:"40px"}},o.a.createElement("img",{className:"logo",src:z.a,alt:"Frontline Logo"}),o.a.createElement("h1",null,"Optimization Platform"),"Find the best sequence of activities with optimal resource loading to ace your project"),o.a.createElement(Y.a,{className:"form",component:"form",noValidate:!0,autoComplete:"off"},o.a.createElement("h2",null,"Log In"),o.a.createElement("p",{className:"error"},d),o.a.createElement(Tt.a,{label:"Email",variant:"outlined",inputRef:e,error:""!==r,helperText:r,placeholder:"sample@googlemail.com"}),o.a.createElement(Tt.a,{label:"Password",type:"password",variant:"outlined",inputRef:m,error:""!==g,helperText:g,placeholder:"******"}),o.a.createElement("div",{className:"row"},o.a.createElement("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){b("/reset-password?email="+e.current.value)}},"Forgot password"),o.a.createElement(X,{variant:"contained",onClick:function(){return _.apply(this,arguments)}},"Login")),o.a.createElement("br",null),o.a.createElement("div",{className:"divider"}),o.a.createElement("h2",null,"New Users"),"Our platform is currently only available to subscribers. Please contact ",o.a.createElement("a",{href:"mailto:sales@frontlinec.com",target:"_blank",rel:"noreferrer"},"sales@frontlinec.com")," to request a demo."))}var Jt=v.a.div(Wt||(Wt=Object(p.a)(["\n  width: 100vw;\n  height: 100vh;\n  background: linear-gradient(\n    180deg,\n    rgba(255, 204, 103, 0.195) 0%,\n    rgba(0, 145, 132, 0.3) 100%\n  );\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .MuiBox-root {\n    width: 450px;\n    h3 {\n      margin-top: 0;\n    }\n    &.form {\n      background: #ffffff;\n      padding: 30px;\n      border-radius: 16px;\n      box-sizing: border-box;\n      /* display: flex;\n      flex-direction: column; */\n      p {\n        color: #888888;\n        &.error {\n          color: rgb(0, 190, 174);\n          font-weight: 700;\n          margin-bottom: 15px;\n        }\n      }\n      .MuiTextField-root {\n        width: 100%;\n        margin-bottom: 12px;\n      }\n    }\n    img.logo {\n      width: 300px;\n    }\n  }\n"])));function Vt(){Vt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(L){s=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),l=new O(a||[]);return r(o,"_invoke",{value:x(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=c;var d={};function f(){}function h(){}function m(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(j([])));g&&g!==t&&n.call(g,i)&&(p=g);var y=m.prototype=f.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(a,o){!function r(a,i,o,l){var s=u(e[a],e,i);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,l)}))}l(s.arg)}(r,i,a,o)}))}return a=a?a.then(o,o):o()}})}function x(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=w(o,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:h,configurable:!0}),h.displayName=s(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(_.prototype),s(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new _(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(y),s(y,l,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Kt(){var e=Object(l.b)(),t=Object(f.a)(e,2),n=t[0],r=(t[1],Object(i.useState)(n.get("email")?n.get("email"):"")),a=Object(f.a)(r,2),c=a[0],u=a[1],d=Object(i.useState)(""),h=Object(f.a)(d,2),m=h[0],p=h[1],v=Object(i.useState)(n.get("resetToken")),g=Object(f.a)(v,2),y=g[0],b=(g[1],Object(i.useState)("")),_=Object(f.a)(b,2),x=_[0],w=_[1],E=Object(s.n)();function k(){return(k=Object(G.a)(Vt().mark((function e(){var t;return Vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ut(c),w(t.message),t.result){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Mt({email:c}).then((function(e){return e.json()})).then((function(e){w("We have sent the password reset instructions to your email. Please note the link expires in 1 hour.")})).catch((function(e){console.error("Error:",e)}));case 6:e.sent;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(G.a)(Vt().mark((function e(){return Vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gt({email:c,password:m,token:y}).then((function(e){return e.json()})).then((function(e){w("Your password has been successfully reset!"),E("/")})).catch((function(e){console.error("Error:",e)}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return y?o.a.createElement(Yt,null,o.a.createElement(Y.a,{sx:{display:"flex",flexDirection:"column",marginRight:"40px"}},o.a.createElement("img",{className:"logo",src:z.a,alt:"Frontline Logo"}),o.a.createElement("h1",null,"Optimization Platform"),"Find the best sequence of activities with optimal resource loading to ace your project"),o.a.createElement(Y.a,{className:"form",component:"form",noValidate:!0,autoComplete:"off"},o.a.createElement("h2",null,"Reset Password"),x,o.a.createElement("p",null,"Your new password must be different from previous used passwords."),o.a.createElement(Tt.a,{label:"Email",variant:"outlined",value:c,disabled:!0}),o.a.createElement("br",null),o.a.createElement(Tt.a,{label:"Password",type:"password",variant:"outlined",value:m,onChange:function(e){return p(e.target.value)}}),o.a.createElement("br",null),o.a.createElement("div",{className:"row"},o.a.createElement("div",null),o.a.createElement(X,{variant:"contained",onClick:function(){return O.apply(this,arguments)}},"Reset Password")))):o.a.createElement(o.a.Fragment,null,o.a.createElement(Jt,null,o.a.createElement(Y.a,{sx:{display:"flex",flexDirection:"column",marginRight:"40px"},noValidate:!0,autoComplete:"off"},o.a.createElement("img",{className:"logo",src:z.a,alt:"Frontline Logo"}),o.a.createElement("h1",null,"Optimization Platform"),"Find the best sequence of activities with optimal resource loading to ace your project"),o.a.createElement(Y.a,{className:"form",component:"form",noValidate:!0,autoComplete:"off"},o.a.createElement("h3",null,"Reset Password"),o.a.createElement("p",{className:"error"},x),o.a.createElement("p",null,"Enter the email associated with your account and we'll send an email with instructions to reset your password."),o.a.createElement(Tt.a,{label:"Email",placeholder:"example@gmail.com",variant:"outlined",value:c,onChange:function(e){return u(e.target.value)}}),o.a.createElement("div",{className:"row"},o.a.createElement($,{variant:"contained",onClick:function(){E("/login")}},"Back"),o.a.createElement(X,{variant:"contained",onClick:function(){return k.apply(this,arguments)}},"Request")))))}function Zt(){return o.a.createElement(c.a,{authType:"cookie",authName:"_auth",cookieDomain:window.location.hostname,cookieSecure:!1},o.a.createElement(l.a,null,o.a.createElement(Z,null,o.a.createElement(s.d,null,o.a.createElement(s.b,{path:"/",element:o.a.createElement(c.b,{loginPath:"/login"},o.a.createElement(Ct,null))}),o.a.createElement(s.b,{path:"/login",element:o.a.createElement(Ht,null)}),o.a.createElement(s.b,{path:"/reset-password",element:o.a.createElement(Kt,null)})))))}n(329);a.a.registerComponent("App",(function(){return Zt})),a.a.runApplication("App",{rootTag:document.getElementById("root")})},74:function(e,t,n){e.exports=n.p+"static/media/logo.458142f4.png"}},[[304,1,2]]]);
//# sourceMappingURL=main.7b72b0ef.chunk.js.map